var app=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),o=n(e);function i(){}function s(t){return t()}function a(){return Object.create(null)}function l(t){t.forEach(s)}function c(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t){return null==t?"":t}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function S(){return v("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function k(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function w(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function E(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function P(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let C;function M(t){C=t}function T(){if(!C)throw new Error("Function called outside component initialization");return C}function R(t){T().$$.on_mount.push(t)}function D(t){T().$$.after_update.push(t)}function L(){const t=T();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const N=[],A=[],O=[],I=[],B=Promise.resolve();let $=!1;function Y(){$||($=!0,B.then(W))}function F(){return Y(),B}function U(t){O.push(t)}let H=!1;const j=new Set;function W(){if(!H){H=!0;do{for(let t=0;t<N.length;t+=1){const e=N[t];M(e),V(e.$$)}for(M(null),N.length=0;A.length;)A.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];j.has(e)||(j.add(e),e())}O.length=0}while(N.length);for(;I.length;)I.pop()();$=!1,H=!1,j.clear()}}function V(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const z=new Set;let G;function q(){G={r:0,c:[],p:G}}function K(){G.r||l(G.c),G=G.p}function J(t,e){t&&t.i&&(z.delete(t),t.i(e))}function X(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),G.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const Z="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(t){t&&t.c()}function tt(t,e,n){const{fragment:r,on_mount:o,on_destroy:i,after_update:a}=t.$$;r&&r.m(e,n),U(()=>{const e=o.map(s).filter(c);i?i.push(...e):l(e),t.$$.on_mount=[]}),a.forEach(U)}function et(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e,n,r,o,s,c=[-1]){const u=C;M(t);const h=e.props||{},p=t.$$={fragment:null,ctx:null,props:s,update:i,not_equal:o,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:a(),dirty:c,skip_bound:!1};let d=!1;if(p.ctx=n?n(t,h,(e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),d&&function(t,e){-1===t.$$.dirty[0]&&(N.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],p.update(),d=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(f)}else p.fragment&&p.fragment.c();e.intro&&J(t.$$.fragment),tt(t,e.target,e.anchor),W()}M(u)}class rt{$destroy(){et(this,1),this.$destroy=i}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,e,n){const r=t.slice();return r[4]=e[n],r}function it(t){let e,n,r,o;function i(...e){return t[2](t[4],...e)}return{c(){e=m("div"),k(e,"class",n=(t[4].selected?"Large":"Small")+" buttonDiv svelte-1y1zhgk"),w(e,"background-color",t[4].color)},m(t,n){d(t,e,n),r||(o=b(e,"click",i),r=!0)},p(r,o){t=r,1&o&&n!==(n=(t[4].selected?"Large":"Small")+" buttonDiv svelte-1y1zhgk")&&k(e,"class",n),1&o&&w(e,"background-color",t[4].color)},d(t){t&&f(e),r=!1,o()}}}function st(t){let e,n=t[0],r=[];for(let e=0;e<n.length;e+=1)r[e]=it(ot(t,n,e));return{c(){e=m("div");for(let t=0;t<r.length;t+=1)r[t].c();k(e,"id","ButtonBar"),k(e,"class","svelte-1y1zhgk")},m(t,n){d(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,[o]){if(3&o){let i;for(n=t[0],i=0;i<n.length;i+=1){const s=ot(t,n,i);r[i]?r[i].p(s,o):(r[i]=it(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:i,o:i,d(t){t&&f(e),g(r,t)}}}function at(t,e,n){const r=L();let{buttons:o=[]}=e;function i(t,e){r(t,{data:e})}return t.$$set=t=>{"buttons"in t&&n(0,o=t.buttons)},[o,i,t=>{i("selected",t.id)}]}class lt extends rt{constructor(t){super(),nt(this,t,at,st,u,{buttons:0})}}function ct(t){let e,n;return{c(){e=m("img"),e.src!==(n=t[0])&&k(e,"src",n),k(e,"height","35"),k(e,"width","35"),k(e,"alt","Clipboard Icon for Todos"),k(e,"class","svelte-1hmnhm3")},m(t,n){d(t,e,n)},p(t,r){1&r&&e.src!==(n=t[0])&&k(e,"src",n)},d(t){t&&f(e)}}}function ut(t){let e,n,r,o=null!==t[0]&&ct(t);return{c(){e=m("div"),o&&o.c(),k(e,"id","todoButton"),k(e,"class","svelte-1hmnhm3")},m(i,s){d(i,e,s),o&&o.m(e,null),n||(r=b(e,"click",t[2]),n=!0)},p(t,[n]){null!==t[0]?o?o.p(t,n):(o=ct(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:i,o:i,d(t){t&&f(e),o&&o.d(),n=!1,r()}}}function ht(t,e,n){let{iconAddress:r=null}=e;const o=L();function i(t,e){o(t,{data:e})}return t.$$set=t=>{"iconAddress"in t&&n(0,r=t.iconAddress)},[r,i,()=>{i("toggleTodo",0)}]}class pt extends rt{constructor(t){super(),nt(this,t,ht,ut,u,{iconAddress:0})}}function dt(t){let e,n,r,o,s,a,l,c,u,g,v,S,x,_;return{c(){e=m("div"),n=m("span"),o=y(),s=m("span"),l=y(),c=m("span"),g=y(),v=m("span"),k(n,"id","firstHamburger"),k(n,"class",r=h(t[0]?"hidden":"unhidden")+" svelte-bo2zcz"),w(n,"background-color",t[1].textcolor),k(s,"id","secondHamburger"),k(s,"class",a=h(t[0]?"openX1":"close")+" svelte-bo2zcz"),w(s,"background-color",t[1].textcolor),k(c,"id","thirdHamburger"),k(c,"class",u=h(t[0]?"openX2":"close")+" svelte-bo2zcz"),w(c,"background-color",t[1].textcolor),k(v,"id","fourthHamburger"),k(v,"class",S=h(t[0]?"hidden":"unhidden")+" svelte-bo2zcz"),w(v,"background-color",t[1].textcolor),k(e,"id","mainMenuButton"),k(e,"class","svelte-bo2zcz")},m(r,i){d(r,e,i),p(e,n),p(e,o),p(e,s),p(e,l),p(e,c),p(e,g),p(e,v),x||(_=b(e,"click",t[3]),x=!0)},p(t,[e]){1&e&&r!==(r=h(t[0]?"hidden":"unhidden")+" svelte-bo2zcz")&&k(n,"class",r),2&e&&w(n,"background-color",t[1].textcolor),1&e&&a!==(a=h(t[0]?"openX1":"close")+" svelte-bo2zcz")&&k(s,"class",a),2&e&&w(s,"background-color",t[1].textcolor),1&e&&u!==(u=h(t[0]?"openX2":"close")+" svelte-bo2zcz")&&k(c,"class",u),2&e&&w(c,"background-color",t[1].textcolor),1&e&&S!==(S=h(t[0]?"hidden":"unhidden")+" svelte-bo2zcz")&&k(v,"class",S),2&e&&w(v,"background-color",t[1].textcolor)},i:i,o:i,d(t){t&&f(e),x=!1,_()}}}function ft(t,e,n){const r=L();let{openMenu:o=!1}=e,{styles:i={}}=e;function s(t,e){r(t,{data:e})}return t.$$set=t=>{"openMenu"in t&&n(0,o=t.openMenu),"styles"in t&&n(1,i=t.styles)},[o,i,s,t=>{s("toggleMainMenu",0)}]}class gt extends rt{constructor(t){super(),nt(this,t,ft,dt,u,{openMenu:0,styles:1})}}function mt(t,e,n){const r=t.slice();return r[26]=e[n],r}function vt(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function yt(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function St(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function bt(t,e,n){const r=t.slice();return r[23]=e[n],r}function kt(t){let e,n,r,o=t[2],i=[];for(let e=0;e<o.length;e+=1)i[e]=wt(bt(t,o,e));let s=t[2],a=[];for(let e=0;e<s.length;e+=1)a[e]=Bt(St(t,s,e));return{c(){e=m("ul");for(let t=0;t<i.length;t+=1)i[t].c();n=y(),r=m("div");for(let t=0;t<a.length;t+=1)a[t].c();k(e,"id","tabs"),k(e,"class","svelte-ufjmky"),k(r,"id","todoListWrap"),k(r,"class","svelte-ufjmky")},m(t,o){d(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);d(t,n,o),d(t,r,o);for(let t=0;t<a.length;t+=1)a[t].m(r,null)},p(t,n){if(76&n[0]){let r;for(o=t[2],r=0;r<o.length;r+=1){const s=bt(t,o,r);i[r]?i[r].p(s,n):(i[r]=wt(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}if(396&n[0]){let e;for(s=t[2],e=0;e<s.length;e+=1){const o=St(t,s,e);a[e]?a[e].p(o,n):(a[e]=Bt(o),a[e].c(),a[e].m(r,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=s.length}},d(t){t&&f(e),g(i,t),t&&f(n),t&&f(r),g(a,t)}}}function xt(t){let e,n,r,o,i=t[23].name+"";function s(...e){return t[14](t[23],...e)}return{c(){e=m("li"),n=v(i),k(e,"class","tabName notCurrent svelte-ufjmky")},m(t,i){d(t,e,i),p(e,n),r||(o=b(e,"click",s),r=!0)},p(e,r){t=e,4&r[0]&&i!==(i=t[23].name+"")&&x(n,i)},d(t){t&&f(e),r=!1,o()}}}function _t(t){let e,n,r=t[23].name+"";return{c(){e=m("li"),n=v(r),k(e,"class","tabName current svelte-ufjmky")},m(t,r){d(t,e,r),p(e,n)},p(t,e){4&e[0]&&r!==(r=t[23].name+"")&&x(n,r)},d(t){t&&f(e)}}}function wt(t){let e;function n(t,e){return t[23].name===t[3]?_t:xt}let r=n(t),o=r(t);return{c(){o.c(),e=S()},m(t,n){o.m(t,n),d(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&f(e)}}}function Et(t){let e,n,r,o=t[23].todos,i=[];for(let e=0;e<o.length;e+=1)i[e]=Mt(mt(t,o,e));return{c(){e=m("div"),n=m("ul");for(let t=0;t<i.length;t+=1)i[t].c();r=y(),k(n,"class","todoList svelte-ufjmky"),k(e,"class","todoListPanel inactivePanel svelte-ufjmky")},m(t,o){d(t,e,o),p(e,n);for(let t=0;t<i.length;t+=1)i[t].m(n,null);p(e,r)},p(t,e){if(4&e[0]){let r;for(o=t[23].todos,r=0;r<o.length;r+=1){const s=mt(t,o,r);i[r]?i[r].p(s,e):(i[r]=Mt(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},d(t){t&&f(e),g(i,t)}}}function Pt(t){let e,n,r,o,i=t[23].todos,s=[];for(let e=0;e<i.length;e+=1)s[e]=Lt(yt(t,i,e));let a=t[23].todos,l=[];for(let e=0;e<a.length;e+=1)l[e]=It(vt(t,a,e));return{c(){e=m("div"),n=m("ul");for(let t=0;t<s.length;t+=1)s[t].c();r=y();for(let t=0;t<l.length;t+=1)l[t].c();o=y(),k(n,"class","todoList svelte-ufjmky"),k(e,"class","todoListPanel activePanel svelte-ufjmky")},m(t,i){d(t,e,i),p(e,n);for(let t=0;t<s.length;t+=1)s[t].m(n,null);p(n,r);for(let t=0;t<l.length;t+=1)l[t].m(n,null);p(e,o)},p(t,e){if(388&e[0]){let o;for(i=t[23].todos,o=0;o<i.length;o+=1){const a=yt(t,i,o);s[o]?s[o].p(a,e):(s[o]=Lt(a),s[o].c(),s[o].m(n,r))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}if(388&e[0]){let r;for(a=t[23].todos,r=0;r<a.length;r+=1){const o=vt(t,a,r);l[r]?l[r].p(o,e):(l[r]=It(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(t){t&&f(e),g(s,t),g(l,t)}}}function Ct(t){let e,n,r,o=t[26].description+"";return{c(){e=m("li"),n=v(o),r=y(),k(e,"class","todoListItem svelte-ufjmky")},m(t,o){d(t,e,o),p(e,n),p(e,r)},p(t,e){4&e[0]&&o!==(o=t[26].description+"")&&x(n,o)},d(t){t&&f(e)}}}function Mt(t){let e,n=!t[23].delete&&Ct(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,r){t[23].delete?n&&(n.d(1),n=null):n?n.p(t,r):(n=Ct(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&f(e)}}}function Tt(t){let e,n,r,o,i,s,a,c,u,h=t[26].description+"";function g(t,e){return t[26].done?Dt:Rt}let S=g(t),_=S(t);function w(...e){return t[15](t[25],t[28],...e)}function E(...e){return t[16](t[25],t[28],...e)}return{c(){e=m("li"),n=m("span"),_.c(),r=y(),o=m("span"),i=v(h),s=y(),a=m("span"),a.textContent="❌",k(n,"class","checkboxIcon svelte-ufjmky"),k(o,"class","description svelte-ufjmky"),k(a,"class","deleteIcon svelte-ufjmky"),k(e,"class","todoListItem svelte-ufjmky")},m(t,l){d(t,e,l),p(e,n),_.m(n,null),p(e,r),p(e,o),p(o,i),p(e,s),p(e,a),c||(u=[b(n,"click",w),b(a,"click",E)],c=!0)},p(e,r){S!==(S=g(t=e))&&(_.d(1),_=S(t),_&&(_.c(),_.m(n,null))),4&r[0]&&h!==(h=t[26].description+"")&&x(i,h)},d(t){t&&f(e),_.d(),c=!1,l(u)}}}function Rt(t){let e;return{c(){e=v("🔳")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function Dt(t){let e;return{c(){e=v("☑️")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function Lt(t){let e,n=!t[26].delete&&!t[26].done&&Tt(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,r){t[26].delete||t[26].done?n&&(n.d(1),n=null):n?n.p(t,r):(n=Tt(t),n.c(),n.m(e.parentNode,e))},d(t){n&&n.d(t),t&&f(e)}}}function Nt(t){let e,n,r,o,i,s,a,c,u,h,g=t[26].description+"";function S(t,e){return t[26].done?Ot:At}let _=S(t),w=_(t);function E(...e){return t[17](t[25],t[28],...e)}function P(...e){return t[18](t[25],t[28],...e)}return{c(){e=m("li"),n=m("span"),w.c(),r=y(),o=m("span"),i=v(g),s=y(),a=m("span"),a.textContent="❌",c=y(),k(n,"class","checkboxIcon svelte-ufjmky"),k(o,"class","description svelte-ufjmky"),k(a,"class","deleteIcon svelte-ufjmky"),k(e,"class","todoListItem svelte-ufjmky")},m(t,l){d(t,e,l),p(e,n),w.m(n,null),p(e,r),p(e,o),p(o,i),p(e,s),p(e,a),p(e,c),u||(h=[b(n,"click",E),b(a,"click",P)],u=!0)},p(e,r){_!==(_=S(t=e))&&(w.d(1),w=_(t),w&&(w.c(),w.m(n,null))),4&r[0]&&g!==(g=t[26].description+"")&&x(i,g)},d(t){t&&f(e),w.d(),u=!1,l(h)}}}function At(t){let e;return{c(){e=v("🔳")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function Ot(t){let e;return{c(){e=v("☑️")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function It(t){let e,n=!t[26].delete&&t[26].done&&Nt(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,r){!t[26].delete&&t[26].done?n?n.p(t,r):(n=Nt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&f(e)}}}function Bt(t){let e;function n(t,e){return t[23].name===t[3]?Pt:Et}let r=n(t),o=r(t);return{c(){o.c(),e=S()},m(t,n){o.m(t,n),d(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&f(e)}}}function $t(t){let e,n,r,o,s,a,c,u=t[2]&&kt(t);return{c(){e=m("div"),n=m("input"),r=y(),o=m("div"),u&&u.c(),k(n,"id","todoInput"),w(n,"background-color",t[1].editorBackground),w(n,"color",t[1].textcolor),k(n,"class","svelte-ufjmky"),k(e,"id","todoPanel"),k(e,"class",s=h(t[0]?"normal":"hidden")+" svelte-ufjmky"),w(e,"background-color",t[1].editorBackground),w(e,"color",t[1].textcolor)},m(i,s){d(i,e,s),p(e,n),_(n,t[4]),p(e,r),p(e,o),u&&u.m(o,null),a||(c=[b(n,"input",t[12]),b(n,"keydown",t[13])],a=!0)},p(t,r){2&r[0]&&w(n,"background-color",t[1].editorBackground),2&r[0]&&w(n,"color",t[1].textcolor),16&r[0]&&n.value!==t[4]&&_(n,t[4]),t[2]?u?u.p(t,r):(u=kt(t),u.c(),u.m(o,null)):u&&(u.d(1),u=null),1&r[0]&&s!==(s=h(t[0]?"normal":"hidden")+" svelte-ufjmky")&&k(e,"class",s),2&r[0]&&w(e,"background-color",t[1].editorBackground),2&r[0]&&w(e,"color",t[1].textcolor)},i:i,o:i,d(t){t&&f(e),u&&u.d(),a=!1,l(c)}}}function Yt(t,e,n){let{openPanel:r=!1}=e,{preferences:o={}}=e,{styles:i={}}=e,{updateTodos:s=!1}=e,{ScriptPad:a={}}=e;const l=L();let c=[],u="",h="";function p(){n(2,c=c.map(t=>(t.name===u&&(t.todos=[{description:h,done:!1,delete:!1}].concat(t.todos)),t))),n(4,h=""),v()}function d(t){n(3,u=t)}function f(t,e){n(2,c[t].todos[e].delete=!c[t].todos[e].delete,c),c[t].todos[e].done||g(t,e),v()}function g(t,e){n(2,c[t].todos[e].done=!c[t].todos[e].done,c),c[t].todos[e].done?n(2,c[t].todos[e].description+=" @done("+a.moment().format("MM/DD/YYYY")+")",c):n(2,c[t].todos[e].description=c[t].todos[e].description.replace(/@done\([^\)]*\)/,""),c),v()}function m(){l("clearUpdateTodos",{data:{}}),n(2,c=a.getTodos(m)),c!==[]&&""===u&&d(c[0].name),a.setFileWatches()}function v(){a.saveTodos(c)}R(()=>{n(2,c=a.getTodos(m)),n(3,u=c[0].name),setTimeout(()=>{a.setFileWatches()},6e4)});return t.$$set=t=>{"openPanel"in t&&n(0,r=t.openPanel),"preferences"in t&&n(10,o=t.preferences),"styles"in t&&n(1,i=t.styles),"updateTodos"in t&&n(9,s=t.updateTodos),"ScriptPad"in t&&n(11,a=t.ScriptPad)},t.$$.update=()=>{512&t.$$.dirty[0]&&n(9,s=!!s&&m())},[r,i,c,u,h,p,d,f,g,s,o,a,function(){h=this.value,n(4,h)},t=>{"Enter"===t.key&&(t.preventDefault(),t.stopPropagation(),p())},(t,e)=>{d(t.name)},(t,e,n)=>{g(t,e)},(t,e,n)=>{f(t,e)},(t,e,n)=>{g(t,e)},(t,e,n)=>{f(t,e)}]}class Ft extends rt{constructor(t){super(),nt(this,t,Yt,$t,u,{openPanel:0,preferences:10,styles:1,updateTodos:9,ScriptPad:11},[-1,-1])}}function Ut(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Ht(t){let e;return{c(){e=m("p"),e.textContent="No modules have been loaded."},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function jt(t){let e,n,r,o,s=t[34].name+"";return{c(){e=m("p"),n=v(s),r=v(" - not running"),k(e,"class","modName svelte-sn7356"),k(e,"data-key",o=t[36])},m(t,o){d(t,e,o),p(e,n),p(e,r)},p:i,d(t){t&&f(e)}}}function Wt(t){let e,n,r,o,s=t[34].name+"";return{c(){e=m("p"),n=v(s),r=v(" - running"),k(e,"class","modName svelte-sn7356"),k(e,"data-key",o=t[36])},m(t,o){d(t,e,o),p(e,n),p(e,r)},p:i,d(t){t&&f(e)}}}function Vt(t){let e;let n=function(t,e){return t[34].live?Wt:jt}(t)(t);return{c(){n.c(),e=S()},m(t,r){n.m(t,r),d(t,e,r)},p(t,e){n.p(t,e)},d(t){n.d(t),t&&f(e)}}}function zt(t){let e,n,r,o,s,a,c,u,S,x,_,E,P,C,M,T,R,D,L,N,A,O,I,B,$,Y,F,U,H,j,W,V,z,G,q,K,J,X,Z,Q,tt,et,nt,rt,ot,it,st,at,lt,ct,ut,ht,pt,dt,ft,gt,mt,vt,yt,St,bt,kt,xt=Gt(),_t=[];for(let e=0;e<xt.length;e+=1)_t[e]=Vt(Ut(t,xt,e));let wt=null;return xt.length||(wt=Ht()),{c(){e=m("div"),n=m("h3"),n.textContent="General Items",r=y(),o=m("a"),s=v("About"),a=y(),c=m("a"),u=v("Help"),S=y(),x=m("a"),_=v("Preferences"),E=y(),P=m("hr"),C=y(),M=m("h3"),M.textContent="Program Helpers",T=y(),R=m("a"),D=v("Script Editor"),L=y(),N=m("a"),A=v("External Script Editor"),O=y(),I=m("a"),B=v("Regular Expression Editor"),$=y(),Y=m("a"),F=v("Template Editor"),U=y(),H=m("a"),j=v("Node-Red"),W=y(),V=m("hr"),z=y(),G=m("h3"),G.textContent="Modules",q=y();for(let t=0;t<_t.length;t+=1)_t[t].c();wt&&wt.c(),K=y(),J=m("hr"),X=y(),Z=m("h3"),Z.textContent="Installers",Q=y(),tt=m("a"),et=v("Install Alfred Workflow"),nt=y(),rt=m("a"),ot=v("Install Keyboard Maestro Scripts"),it=y(),st=m("a"),at=v("Install DropZone 3 Action"),lt=y(),ct=m("a"),ut=v("Install PopClip Extension"),ht=y(),pt=m("a"),dt=v("Install LaunchBar Actions"),ft=y(),gt=m("hr"),mt=y(),vt=m("a"),yt=v("Quit"),k(n,"class","HeaderName svelte-sn7356"),k(o,"href","#top"),k(o,"class","menuItem svelte-sn7356"),w(o,"color",t[0].textcolor),k(c,"href","#top"),k(c,"class","menuItem svelte-sn7356"),w(c,"color",t[0].textcolor),k(x,"href","#top"),k(x,"class","menuItem svelte-sn7356"),w(x,"color",t[0].textcolor),k(P,"class","svelte-sn7356"),k(M,"class","HeaderName svelte-sn7356"),k(R,"href","#top"),k(R,"class","menuItem svelte-sn7356"),w(R,"color",t[0].textcolor),k(N,"href","#top"),k(N,"class","menuItem svelte-sn7356"),w(N,"color",t[0].textcolor),k(I,"href","#top"),k(I,"class","menuItem svelte-sn7356"),w(I,"color",t[0].textcolor),k(Y,"href","#top"),k(Y,"class","menuItem svelte-sn7356"),w(Y,"color",t[0].textcolor),k(H,"href","#top"),k(H,"class","menuItem svelte-sn7356"),w(H,"color",t[0].textcolor),k(V,"class","svelte-sn7356"),k(G,"class","HeaderName svelte-sn7356"),k(J,"class","svelte-sn7356"),k(Z,"class","HeaderName svelte-sn7356"),k(tt,"href","#top"),k(tt,"class","menuItem svelte-sn7356"),w(tt,"color",t[0].textcolor),k(rt,"href","#top"),k(rt,"class","menuItem svelte-sn7356"),w(rt,"color",t[0].textcolor),k(st,"href","#top"),k(st,"class","menuItem svelte-sn7356"),w(st,"color",t[0].textcolor),k(ct,"href","#top"),k(ct,"class","menuItem svelte-sn7356"),w(ct,"color",t[0].textcolor),k(pt,"href","#top"),k(pt,"class","menuItem svelte-sn7356"),w(pt,"color",t[0].textcolor),k(gt,"class","svelte-sn7356"),k(vt,"href","#top"),k(vt,"class","menuItem svelte-sn7356"),w(vt,"color",t[0].textcolor),k(e,"id","menuPanel"),k(e,"class",St=h(t[1]?"normal":"hidden")+" svelte-sn7356"),w(e,"background-color",t[0].appBackground),w(e,"color",t[0].textcolor)},m(i,l){d(i,e,l),p(e,n),p(e,r),p(e,o),p(o,s),p(e,a),p(e,c),p(c,u),p(e,S),p(e,x),p(x,_),p(e,E),p(e,P),p(e,C),p(e,M),p(e,T),p(e,R),p(R,D),p(e,L),p(e,N),p(N,A),p(e,O),p(e,I),p(I,B),p(e,$),p(e,Y),p(Y,F),p(e,U),p(e,H),p(H,j),p(e,W),p(e,V),p(e,z),p(e,G),p(e,q);for(let t=0;t<_t.length;t+=1)_t[t].m(e,null);wt&&wt.m(e,null),p(e,K),p(e,J),p(e,X),p(e,Z),p(e,Q),p(e,tt),p(tt,et),p(e,nt),p(e,rt),p(rt,ot),p(e,it),p(e,st),p(st,at),p(e,lt),p(e,ct),p(ct,ut),p(e,ht),p(e,pt),p(pt,dt),p(e,ft),p(e,gt),p(e,mt),p(e,vt),p(vt,yt),bt||(kt=[b(o,"click",t[19]),b(c,"click",t[20]),b(x,"click",t[21]),b(R,"click",t[22]),b(N,"click",t[23]),b(I,"click",t[24]),b(Y,"click",t[25]),b(H,"click",t[26]),b(tt,"click",t[10]),b(rt,"click",t[27]),b(st,"click",t[28]),b(ct,"click",t[29]),b(pt,"click",t[30]),b(vt,"click",t[31]),b(e,"blur",t[16])],bt=!0)},p(t,n){if(1&n[0]&&w(o,"color",t[0].textcolor),1&n[0]&&w(c,"color",t[0].textcolor),1&n[0]&&w(x,"color",t[0].textcolor),1&n[0]&&w(R,"color",t[0].textcolor),1&n[0]&&w(N,"color",t[0].textcolor),1&n[0]&&w(I,"color",t[0].textcolor),1&n[0]&&w(Y,"color",t[0].textcolor),1&n[0]&&w(H,"color",t[0].textcolor),0&n){let r;for(xt=Gt(),r=0;r<xt.length;r+=1){const o=Ut(t,xt,r);_t[r]?_t[r].p(o,n):(_t[r]=Vt(o),_t[r].c(),_t[r].m(e,K))}for(;r<_t.length;r+=1)_t[r].d(1);_t.length=xt.length,xt.length?wt&&(wt.d(1),wt=null):wt||(wt=Ht(),wt.c(),wt.m(e,K))}1&n[0]&&w(tt,"color",t[0].textcolor),1&n[0]&&w(rt,"color",t[0].textcolor),1&n[0]&&w(st,"color",t[0].textcolor),1&n[0]&&w(ct,"color",t[0].textcolor),1&n[0]&&w(pt,"color",t[0].textcolor),1&n[0]&&w(vt,"color",t[0].textcolor),2&n[0]&&St!==(St=h(t[1]?"normal":"hidden")+" svelte-sn7356")&&k(e,"class",St),1&n[0]&&w(e,"background-color",t[0].appBackground),1&n[0]&&w(e,"color",t[0].textcolor)},i:i,o:i,d(t){t&&f(e),g(_t,t),wt&&wt.d(),bt=!1,l(kt)}}}function Gt(){return globalThis.moduleWin}function qt(t,e,n){const r=L();let{styles:o={}}=e,{ScriptPad:i={}}=e,{openMenu:s=!1}=e,{preferences:a={}}=e;function l(t,e){r(t,{data:e})}function c(){l("toggleAboutMenu",0)}function u(){i.showHelp(),x()}function h(){l("togglePreferences",0)}function p(){l("toggleScriptEditor",0)}function d(){l("toggleExtScriptEditor",0)}function f(){l("toggleRegExp",0)}function g(){l("toggleTemplateEditor",0)}function m(){l("toggleNodeRed",0)}function v(){i.installKeyboardMaestro(),x()}function y(){i.installDropzone(),x()}function S(){i.installPopClip(),x()}function b(){i.installLaunchBar(),x()}function k(){i.quit()}function x(){s&&l("toggleMainMenu",0)}return t.$$set=t=>{"styles"in t&&n(0,o=t.styles),"ScriptPad"in t&&n(17,i=t.ScriptPad),"openMenu"in t&&n(1,s=t.openMenu),"preferences"in t&&n(18,a=t.preferences)},[o,s,c,u,h,p,d,f,g,m,function(){i.installAlfred(),x()},v,y,S,b,k,x,i,a,()=>{c()},()=>{u()},()=>{h()},()=>{p()},()=>{d()},()=>{f()},()=>{g()},()=>{m()},()=>{v()},()=>{y()},()=>{S()},()=>{b()},()=>{k()}]}class Kt extends rt{constructor(t){super(),nt(this,t,qt,zt,u,{styles:0,ScriptPad:17,openMenu:1,preferences:18},[-1,-1])}}function Jt(t,e,n){const r=t.slice();return r[23]=e[n],r[25]=n,r}function Xt(t){let e,n,r,o,i,s=t[23].name+"";function a(...e){return t[16](t[23],t[25],...e)}return{c(){e=m("li"),n=v(s),k(e,"class",r=h(t[4]==t[25]?"cursor":"")+" svelte-18s0kvx"),w(e,"color",t[23].system?t[1].scriptMenuItemSystem:t[1].scriptMenuItemUser)},m(t,r){d(t,e,r),p(e,n),o||(i=b(e,"click",a),o=!0)},p(o,i){t=o,32&i&&s!==(s=t[23].name+"")&&x(n,s),16&i&&r!==(r=h(t[4]==t[25]?"cursor":"")+" svelte-18s0kvx")&&k(e,"class",r),34&i&&w(e,"color",t[23].system?t[1].scriptMenuItemSystem:t[1].scriptMenuItemUser)},d(t){t&&f(e),o=!1,i()}}}function Zt(t){let e,n,r,o,s,a,c,u,v=t[5],S=[];for(let e=0;e<v.length;e+=1)S[e]=Xt(Jt(t,v,e));return{c(){e=m("div"),n=m("input"),r=y(),o=m("div"),s=m("ul");for(let t=0;t<S.length;t+=1)S[t].c();k(n,"id","menuInput"),k(n,"type","text"),k(n,"class","svelte-18s0kvx"),k(s,"id","MenuList"),k(s,"class","svelte-18s0kvx"),k(o,"class","svelte-18s0kvx"),k(e,"id","PopUpMenu"),w(e,"background-color",t[1].scriptMenuBackground),w(e,"color",t[1].scriptMenuTextColor),k(e,"class",a=h(t[0]?"visible":"invisible")+" svelte-18s0kvx")},m(i,a){d(i,e,a),p(e,n),t[13](n),_(n,t[3]),p(e,r),p(e,o),p(o,s);for(let t=0;t<S.length;t+=1)S[t].m(s,null);t[17](s),c||(u=[b(n,"input",t[14]),b(n,"change",t[15]),b(e,"transitionend",t[18]),b(e,"keyup",t[19])],c=!0)},p(t,[r]){if(8&r&&n.value!==t[3]&&_(n,t[3]),178&r){let e;for(v=t[5],e=0;e<v.length;e+=1){const n=Jt(t,v,e);S[e]?S[e].p(n,r):(S[e]=Xt(n),S[e].c(),S[e].m(s,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=v.length}2&r&&w(e,"background-color",t[1].scriptMenuBackground),2&r&&w(e,"color",t[1].scriptMenuTextColor),1&r&&a!==(a=h(t[0]?"visible":"invisible")+" svelte-18s0kvx")&&k(e,"class",a)},i:i,o:i,d(n){n&&f(e),t[13](null),g(S,n),t[17](null),c=!1,l(u)}}}function Qt(t,e,n){const r=L();let o,i,{styles:s={}}=e,{openPopUp:a=!1}=e,{usrscripts:l=[]}=e,{syscripts:c=[]}=e,u="",h=0,p=0,d=[];function f(t,e){r(t,{data:e})}function g(t,e){f("scriptSelected",t),n(0,a=!1),n(4,h=e)}function m(t){if("ArrowDown"==t.key||"ArrowUp"==t.key||"Enter"==t.key)switch(t.stopPropagation(),t.preventDefault(),t.key){case"ArrowDown":n(4,h++,h),h>p-1&&n(4,h=p-1);break;case"ArrowUp":n(4,h--,h),h<0&&n(4,h=0);break;case"Enter":g(d[h],h)}}function v(){a?(i.focus(),h>p-1?n(4,h=p-1):h<0&&n(4,h=0)):f("focusEditor",0)}function y(t){h>p-1?n(4,h=p-1):h<0&&n(4,h=0)}D(()=>{if(h>p-1?n(4,h=p-1):h<0&&n(4,h=0),a){var t=o.getElementsByClassName("cursor")[0];t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}});return t.$$set=t=>{"styles"in t&&n(1,s=t.styles),"openPopUp"in t&&n(0,a=t.openPopUp),"usrscripts"in t&&n(11,l=t.usrscripts),"syscripts"in t&&n(12,c=t.syscripts)},t.$$.update=()=>{6152&t.$$.dirty&&n(5,d=l.concat(c).filter(t=>{var e=u.toLowerCase().split("").join(".*");return null!=t.name.toLowerCase().match(e)})),32&t.$$.dirty&&n(20,p=d.length),1048592&t.$$.dirty&&n(4,h=p<h?p-1:h)},[a,s,o,u,h,d,i,g,m,v,y,l,c,function(t){A[t?"unshift":"push"](()=>{i=t,n(6,i)})},function(){u=this.value,n(3,u)},t=>{y()},(t,e,n)=>{g(t,e)},function(t){A[t?"unshift":"push"](()=>{o=t,n(2,o)})},t=>{v()},t=>{m(t)}]}class te extends rt{constructor(t){super(),nt(this,t,Qt,Zt,u,{styles:1,openPopUp:0,usrscripts:11,syscripts:12})}}function ee(t,e,n){const r=t.slice();return r[46]=e[n],r}function ne(t){let e,n=ae(t[6],t[9]),r=[];for(let e=0;e<n.length;e+=1)r[e]=oe(ee(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);d(t,e,n)},p(t,o){if(5728&o[0]){let i;for(n=ae(t[6],t[9]),i=0;i<n.length;i+=1){const s=ee(t,n,i);r[i]?r[i].p(s,o):(r[i]=oe(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){g(r,t),t&&f(e)}}}function re(t){let e,n,r,o,i=se(t[46],t[6],t[5])+"";function s(...e){return t[32](t[46],...e)}return{c(){e=m("div"),n=m("span"),k(e,"class","replaceLine svelte-130t3oe")},m(t,a){d(t,e,a),p(e,n),n.innerHTML=i,r||(o=b(e,"click",s),r=!0)},p(e,r){t=e,608&r[0]&&i!==(i=se(t[46],t[6],t[5])+"")&&(n.innerHTML=i)},d(t){t&&f(e),r=!1,o()}}}function oe(t){let e,n,r,o,i=t[12](t[46])+"",s=""!=t[5]&&re(t);return{c(){e=m("li"),n=m("div"),r=y(),s&&s.c(),o=y(),k(n,"class","matchLine svelte-130t3oe")},m(t,a){d(t,e,a),p(e,n),n.innerHTML=i,p(e,r),s&&s.m(e,null),p(e,o)},p(t,r){576&r[0]&&i!==(i=t[12](t[46])+"")&&(n.innerHTML=i),""!=t[5]?s?s.p(t,r):(s=re(t),s.c(),s.m(e,o)):s&&(s.d(1),s=null)},d(t){t&&f(e),s&&s.d()}}}function ie(t){let e,n,r,o,i,s,a,c,u,g,S,x,E,P,C,M,T,R,D,L,N,A,O,I,B,$,Y,F,U,H,j,W,V,z,G,q,K=""!==t[6]&&""!==t[9]&&ne(t);return W=new te({props:{styles:t[2],openPopUp:t[3],syscripts:[],usrscripts:t[1]}}),W.$on("scriptSelected",t[39]),W.$on("focusEditor",t[40]),{c(){e=m("div"),n=m("input"),r=y(),o=m("input"),i=y(),s=m("input"),a=y(),c=m("input"),u=y(),g=m("div"),S=m("ul"),K&&K.c(),x=y(),E=m("div"),P=m("button"),C=v("New"),M=y(),T=m("button"),R=v("Save"),D=y(),L=m("button"),N=v("Delete"),A=y(),O=m("button"),I=v("Change"),B=y(),$=m("button"),Y=v("Extract"),F=y(),U=m("button"),H=v("Cancel"),j=y(),Q(W.$$.fragment),k(n,"class","regExpEditorInput svelte-130t3oe"),w(n,"caret-color",t[2].textcolor),w(n,"background-color",t[2].appBackground),w(n,"color",t[2].textcolor),k(n,"placeholder","Enter the RegExp Name."),k(o,"class","regExpEditorInput svelte-130t3oe"),w(o,"caret-color",t[2].textcolor),w(o,"background-color",t[2].appBackground),w(o,"color",t[2].textcolor),k(o,"placeholder","Enter the Description of the RegExp."),k(s,"class","regExpEditorInput svelte-130t3oe"),w(s,"caret-color",t[2].textcolor),w(s,"background-color",t[2].appBackground),w(s,"color",t[2].textcolor),k(s,"placeholder","Enter the Regular Expression"),k(c,"class","regExpEditorInput svelte-130t3oe"),w(c,"caret-color",t[2].textcolor),w(c,"background-color",t[2].appBackground),w(c,"color",t[2].textcolor),k(c,"placeholder","Enter the Replacement Expression."),k(S,"id","regExpList"),k(S,"class","svelte-130t3oe"),k(g,"id","regExpResults"),k(g,"class","svelte-130t3oe"),k(P,"class","button svelte-130t3oe"),w(P,"background-color",t[2].editorBackground),w(P,"border-color",t[2].appBackground),w(P,"color",t[2].textcolor),k(T,"class","button svelte-130t3oe"),w(T,"background-color",t[2].editorBackground),w(T,"border-color",t[2].appBackground),w(T,"color",t[2].textcolor),k(L,"class","button svelte-130t3oe"),w(L,"background-color",t[2].editorBackground),w(L,"border-color",t[2].appBackground),w(L,"color",t[2].textcolor),k(O,"class","button svelte-130t3oe"),w(O,"background-color",t[2].editorBackground),w(O,"border-color",t[2].appBackground),w(O,"color",t[2].textcolor),k($,"class","button svelte-130t3oe"),w($,"background-color",t[2].editorBackground),w($,"border-color",t[2].appBackground),w($,"color",t[2].textcolor),k(U,"class","button svelte-130t3oe"),w(U,"background-color",t[2].editorBackground),w(U,"border-color",t[2].appBackground),w(U,"color",t[2].textcolor),k(E,"id","buttonBar"),k(E,"class","svelte-130t3oe"),k(e,"id","regExpEditorPanelStyle"),k(e,"class",V=h(t[0]?"visible":"invisible")+" svelte-130t3oe"),w(e,"background-color",t[2].appBackground),w(e,"color",t[2].textcolor)},m(l,h){d(l,e,h),p(e,n),_(n,t[8]),p(e,r),p(e,o),_(o,t[7]),p(e,i),p(e,s),t[29](s),_(s,t[6]),p(e,a),p(e,c),_(c,t[5]),p(e,u),p(e,g),p(g,S),K&&K.m(S,null),p(e,x),p(e,E),p(E,P),p(P,C),p(E,M),p(E,T),p(T,R),p(E,D),p(E,L),p(L,N),p(E,A),p(E,O),p(O,I),p(E,B),p(E,$),p($,Y),p(E,F),p(E,U),p(U,H),p(e,j),tt(W,e,null),z=!0,G||(q=[b(n,"input",t[27]),b(o,"input",t[28]),b(s,"input",t[30]),b(c,"input",t[31]),b(P,"click",t[33]),b(T,"click",t[34]),b(L,"click",t[35]),b(O,"click",t[36]),b($,"click",t[37]),b(U,"click",t[38]),b(e,"transitionend",t[41]),b(e,"keyup",t[42])],G=!0)},p(t,r){(!z||4&r[0])&&w(n,"caret-color",t[2].textcolor),(!z||4&r[0])&&w(n,"background-color",t[2].appBackground),(!z||4&r[0])&&w(n,"color",t[2].textcolor),256&r[0]&&n.value!==t[8]&&_(n,t[8]),(!z||4&r[0])&&w(o,"caret-color",t[2].textcolor),(!z||4&r[0])&&w(o,"background-color",t[2].appBackground),(!z||4&r[0])&&w(o,"color",t[2].textcolor),128&r[0]&&o.value!==t[7]&&_(o,t[7]),(!z||4&r[0])&&w(s,"caret-color",t[2].textcolor),(!z||4&r[0])&&w(s,"background-color",t[2].appBackground),(!z||4&r[0])&&w(s,"color",t[2].textcolor),64&r[0]&&s.value!==t[6]&&_(s,t[6]),(!z||4&r[0])&&w(c,"caret-color",t[2].textcolor),(!z||4&r[0])&&w(c,"background-color",t[2].appBackground),(!z||4&r[0])&&w(c,"color",t[2].textcolor),32&r[0]&&c.value!==t[5]&&_(c,t[5]),""!==t[6]&&""!==t[9]?K?K.p(t,r):(K=ne(t),K.c(),K.m(S,null)):K&&(K.d(1),K=null),(!z||4&r[0])&&w(P,"background-color",t[2].editorBackground),(!z||4&r[0])&&w(P,"border-color",t[2].appBackground),(!z||4&r[0])&&w(P,"color",t[2].textcolor),(!z||4&r[0])&&w(T,"background-color",t[2].editorBackground),(!z||4&r[0])&&w(T,"border-color",t[2].appBackground),(!z||4&r[0])&&w(T,"color",t[2].textcolor),(!z||4&r[0])&&w(L,"background-color",t[2].editorBackground),(!z||4&r[0])&&w(L,"border-color",t[2].appBackground),(!z||4&r[0])&&w(L,"color",t[2].textcolor),(!z||4&r[0])&&w(O,"background-color",t[2].editorBackground),(!z||4&r[0])&&w(O,"border-color",t[2].appBackground),(!z||4&r[0])&&w(O,"color",t[2].textcolor),(!z||4&r[0])&&w($,"background-color",t[2].editorBackground),(!z||4&r[0])&&w($,"border-color",t[2].appBackground),(!z||4&r[0])&&w($,"color",t[2].textcolor),(!z||4&r[0])&&w(U,"background-color",t[2].editorBackground),(!z||4&r[0])&&w(U,"border-color",t[2].appBackground),(!z||4&r[0])&&w(U,"color",t[2].textcolor);const i={};4&r[0]&&(i.styles=t[2]),8&r[0]&&(i.openPopUp=t[3]),2&r[0]&&(i.usrscripts=t[1]),W.$set(i),(!z||1&r[0]&&V!==(V=h(t[0]?"visible":"invisible")+" svelte-130t3oe"))&&k(e,"class",V),(!z||4&r[0])&&w(e,"background-color",t[2].appBackground),(!z||4&r[0])&&w(e,"color",t[2].textcolor)},i(t){z||(J(W.$$.fragment,t),z=!0)},o(t){X(W.$$.fragment,t),z=!1},d(n){n&&f(e),t[29](null),K&&K.d(),et(W),G=!1,l(q)}}}function se(t,e,n){var r="";try{r=t[0].replace(new RegExp(e),n).replace(/\s/g,"&nbsp;")}catch(t){r=""}return r}function ae(t,e){var n=[];if(""!==e&&""!==t){var r=null;try{for(var o=new RegExp(t,"igm"),i=!1,s=-1;null!==(r=o.exec(e))&&!i;)r.index===s&&(i=!0),s=r.index,n.push(r);i&&(n=[])}catch(t){n=[]}}return n}function le(t,e,n){const r=L();let o,i,{preferences:s={}}=e,{ScriptPad:a={}}=e,{openRegExp:l=!1}=e,{focusFN:c}=e,{RegExpList:u=[]}=e,{styles:h={}}=e,{StoredText:p={}}=e,{currentid:d=0}=e,f=!1,g="",m="",v="",y="";function S(t,e){r(t,{data:e})}function b(t,e,n,r){var o=t.slice(0,e.index),i=t.slice(e.index+e[0].length);S("saveText",o+e[0].replace(new RegExp(n),r).replace(/\\n/g,"\n").replace(/\\t/g,"\t")+i)}function k(){n(3,f=!f)}function x(){n(5,g=""),n(6,m=""),n(7,v=""),n(8,y="")}function _(){x(),S("toggleRegExp",0)}function w(){S("saveScript",{name:y,description:v,script:m,insert:!1}),S("toggleRegExp",0)}function E(){S("deleteScript",{name:y,description:v,script:m,insert:!1}),S("toggleRegExp",0)}function P(){S("saveText",i.replace(new RegExp(m,"igm"),g).replace(/\\n/g,"\n").replace(/\\t/g,"\t")),S("toggleRegExp",0)}function C(){S("saveText",function(){if(""!==i&&""!==m){var t=[],e=null;try{for(var n=new RegExp(m,"igm");null!==(e=n.exec(i));)t.push(e[0])}catch(e){t=[]}}else t=[];return t.join("\n")}()),S("toggleRegExp",0)}function M(t){l?f||o.focus():c()}function T(t){n(5,g=""),n(6,m=t.script),n(7,v=t.description),n(8,y=t.name)}function R(){o.focus()}return t.$$set=t=>{"preferences"in t&&n(22,s=t.preferences),"ScriptPad"in t&&n(23,a=t.ScriptPad),"openRegExp"in t&&n(0,l=t.openRegExp),"focusFN"in t&&n(24,c=t.focusFN),"RegExpList"in t&&n(1,u=t.RegExpList),"styles"in t&&n(2,h=t.styles),"StoredText"in t&&n(25,p=t.StoredText),"currentid"in t&&n(26,d=t.currentid)},t.$$.update=()=>{100663296&t.$$.dirty[0]&&n(9,i=p[d])},[l,u,h,f,o,g,m,v,y,i,b,k,function(t){var e="";if(t.length<2)e+=t[0].replace(/\s/g,"&nbsp;");else{for(var n=0,r=1;r<t.length;r++){var o=t[0].indexOf(t[r]);if(n<o){var i=t[0].slice(n,o);e+='<span class="spanStyle" style="color: '+h.textcolor+';">'+i.replace(/\s/g,"&nbsp;")+"</span>",n+=i.length}n+=t[r].length,e+='<span class="spanStyle" style="color: '+h.matchStyle[r]+';">'+t[r].replace(/\s/g,"&nbsp;")+"</span>"}n<t[0].length&&(e+='<span class="spanStyle" style="color: '+h.textcolor+';">'+t[0].slice(n).replace(/\s/g,"&nbsp;")+"</span>")}return e},x,_,w,E,P,C,M,T,R,s,a,c,p,d,function(){y=this.value,n(8,y)},function(){v=this.value,n(7,v)},function(t){A[t?"unshift":"push"](()=>{o=t,n(4,o)})},function(){m=this.value,n(6,m)},function(){g=this.value,n(5,g)},(t,e)=>{b(i,t,m,g)},()=>{x()},()=>{w()},()=>{E()},()=>{P()},()=>{C()},()=>{_()},t=>{T(t.detail.data)},t=>{R()},t=>{M()},t=>{t.ctrlKey&&77==t.keyCode&&(t.preventDefault(),t.stopPropagation(),k())}]}class ce extends rt{constructor(t){super(),nt(this,t,le,ie,u,{preferences:22,ScriptPad:23,openRegExp:0,focusFN:24,RegExpList:1,styles:2,StoredText:25,currentid:26},[-1,-1])}}function ue(t){let e,n;return{c(){e=m("div"),n=m("textarea"),k(n,"name","editor"),k(n,"id","CMeditor"),k(e,"class","wrapper svelte-18n2tvf"),w(e,"height",t[0]),w(e,"width",t[1])},m(r,o){d(r,e,o),p(e,n),t[7](n)},p(t,[n]){1&n&&w(e,"height",t[0]),2&n&&w(e,"width",t[1])},i:i,o:i,d(n){n&&f(e),t[7](null)}}}function he(t,e,n){const r=L();let o,i=null,s="",{value:a=""}=e,{config:l}=e,{cursor:c={line:0,ch:0}}=e,{history:u=null}=e,{height:h}=e,{width:p}=e;function d(t,e){r(t,{data:e})}function f(t){if(null!=i&&(s=i.getDoc().getValue(),t!==s)){s=t;var e=i.getDoc();t?e.setValue(t):e.setValue(""),c?e.setCursor(c,{scroll:!0,origin:"+input",bias:1}):e.setCursor({line:0,char:0}),null!==u?e.setHistory(u):e.clearHistory(),i.focus()}}var g;return g=()=>{},T().$$.before_update.push(g),D(()=>{f(a)}),R(()=>(n(8,i=window.CodeMirror.fromTextArea(o,{lineNumbers:l.lineNumbers,mode:l.Mode,theme:l.theme,lineWrapping:l.lineWrapping,focus:!0,value:"",keyMap:l.keyMap,cursorScrollMargin:50,matchBrackets:l.matchBrackets,autoCloseBrackets:l.autoCloseBrackets,styleActiveLine:l.styleActiveLine})),i.on("change",t=>{var e=i.getDoc(),n=e.getCursor(),r=e.getValue(),o=e.getHistory();0===n.line&&0===n.ch&&s[0]===r[0]||d("textChange",{value:r,cursor:n,history:o})}),d("editorChange",i),i.on("cursorActivity",t=>{var e=i.getDoc(),n=e.getCursor(),r=e.getValue(),o=e.getHistory();0===n.line&&0===n.ch&&s[0]===r[0]||d("textChange",{value:r,cursor:n,history:o})}),i.on("focus",t=>{i.getDoc().setCursor(c,{scroll:!1,origin:"+input",bias:1})}),f(a),()=>{})),function(t){T().$$.on_destroy.push(t)}(()=>{}),t.$$set=t=>{"value"in t&&n(3,a=t.value),"config"in t&&n(4,l=t.config),"cursor"in t&&n(5,c=t.cursor),"history"in t&&n(6,u=t.history),"height"in t&&n(0,h=t.height),"width"in t&&n(1,p=t.width)},t.$$.update=()=>{275&t.$$.dirty&&function(t,e,n,r){null!==e&&(Object.entries(t).forEach(t=>{e.setOption(t[0],t[1])}),e.setSize(r,n))}(l,i,h,p)},[h,p,o,a,l,c,u,function(t){A[t?"unshift":"push"](()=>{o=t,n(2,o)})}]}class pe extends rt{constructor(t){super(),nt(this,t,he,ue,u,{value:3,config:4,cursor:5,history:6,height:0,width:1})}}function de(t){let e,n,r,o,i,s,a,c,u,g,S,x,E,P,C,M,T,R,D,L,N,A,O,I,B,$,Y,F,U,H,j;return x=new pe({props:{height:"305px",width:"455px",config:t[11],value:t[8],cursor:t[7],history:t[10]}}),x.$on("textChange",t[28]),x.$on("editorChange",t[29]),Y=new te({props:{styles:t[1],openPopUp:t[3],syscripts:[],usrscripts:t[2]}}),Y.$on("scriptSelected",t[34]),Y.$on("focusEditor",t[35]),{c(){e=m("div"),n=m("div"),r=m("input"),o=y(),i=m("label"),i.textContent="Insert",s=y(),a=m("input"),c=y(),u=m("input"),g=y(),S=m("div"),Q(x.$$.fragment),E=y(),P=m("div"),C=m("button"),M=v("New"),T=y(),R=m("button"),D=v("Save"),L=y(),N=m("button"),A=v("Delete"),O=y(),I=m("button"),B=v("Cancel"),$=y(),Q(Y.$$.fragment),k(r,"class","ScriptEditorInput svelte-1n7oi9m"),w(r,"caret-color",t[1].textcolor),w(r,"background-color",t[1].appBackground),w(r,"color",t[1].textcolor),k(r,"placeholder","Enter the Script Name."),k(i,"class","svelte-1n7oi9m"),k(a,"type","checkbox"),k(a,"name","Insert"),k(a,"class","svelte-1n7oi9m"),k(n,"id","nameInsertBox"),k(n,"class","svelte-1n7oi9m"),k(u,"class","ScriptEditorInput svelte-1n7oi9m"),w(u,"caret-color",t[1].textcolor),w(u,"background-color",t[1].appBackground),w(u,"color",t[1].textcolor),k(u,"placeholder","Enter a Description for the Script."),k(S,"id","codeMirorWrap"),k(S,"class","svelte-1n7oi9m"),k(C,"class","button svelte-1n7oi9m"),w(C,"background-color",t[1].editorBackground),w(C,"border-color",t[1].appBackground),w(C,"color",t[1].textcolor),k(R,"class","button svelte-1n7oi9m"),w(R,"background-color",t[1].editorBackground),w(R,"border-color",t[1].appBackground),w(R,"color",t[1].textcolor),k(N,"class","button svelte-1n7oi9m"),w(N,"background-color",t[1].editorBackground),w(N,"border-color",t[1].appBackground),w(N,"color",t[1].textcolor),k(I,"class","button svelte-1n7oi9m"),w(I,"background-color",t[1].editorBackground),w(I,"border-color",t[1].appBackground),w(I,"color",t[1].textcolor),k(P,"id","buttonBar"),k(P,"class","svelte-1n7oi9m"),k(e,"id","ScriptEditorPanelStyle"),k(e,"class",F=h(t[0]?"visible":"invisible")+" svelte-1n7oi9m"),w(e,"background-color",t[1].appBackground),w(e,"color",t[1].textcolor)},m(l,h){d(l,e,h),p(e,n),p(n,r),t[24](r),_(r,t[4]),p(n,o),p(n,i),p(n,s),p(n,a),a.checked=t[6],p(e,c),p(e,u),_(u,t[5]),p(e,g),p(e,S),tt(x,S,null),p(e,E),p(e,P),p(P,C),p(C,M),p(P,T),p(P,R),p(R,D),p(P,L),p(P,N),p(N,A),p(P,O),p(P,I),p(I,B),p(e,$),tt(Y,e,null),U=!0,H||(j=[b(r,"input",t[25]),b(a,"change",t[26]),b(u,"input",t[27]),b(C,"click",t[30]),b(R,"click",t[31]),b(N,"click",t[32]),b(I,"click",t[33]),b(e,"keyup",t[36]),b(e,"transitionend",t[37])],H=!0)},p(t,n){(!U||2&n[0])&&w(r,"caret-color",t[1].textcolor),(!U||2&n[0])&&w(r,"background-color",t[1].appBackground),(!U||2&n[0])&&w(r,"color",t[1].textcolor),16&n[0]&&r.value!==t[4]&&_(r,t[4]),64&n[0]&&(a.checked=t[6]),(!U||2&n[0])&&w(u,"caret-color",t[1].textcolor),(!U||2&n[0])&&w(u,"background-color",t[1].appBackground),(!U||2&n[0])&&w(u,"color",t[1].textcolor),32&n[0]&&u.value!==t[5]&&_(u,t[5]);const o={};2048&n[0]&&(o.config=t[11]),256&n[0]&&(o.value=t[8]),128&n[0]&&(o.cursor=t[7]),1024&n[0]&&(o.history=t[10]),x.$set(o),(!U||2&n[0])&&w(C,"background-color",t[1].editorBackground),(!U||2&n[0])&&w(C,"border-color",t[1].appBackground),(!U||2&n[0])&&w(C,"color",t[1].textcolor),(!U||2&n[0])&&w(R,"background-color",t[1].editorBackground),(!U||2&n[0])&&w(R,"border-color",t[1].appBackground),(!U||2&n[0])&&w(R,"color",t[1].textcolor),(!U||2&n[0])&&w(N,"background-color",t[1].editorBackground),(!U||2&n[0])&&w(N,"border-color",t[1].appBackground),(!U||2&n[0])&&w(N,"color",t[1].textcolor),(!U||2&n[0])&&w(I,"background-color",t[1].editorBackground),(!U||2&n[0])&&w(I,"border-color",t[1].appBackground),(!U||2&n[0])&&w(I,"color",t[1].textcolor);const i={};2&n[0]&&(i.styles=t[1]),8&n[0]&&(i.openPopUp=t[3]),4&n[0]&&(i.usrscripts=t[2]),Y.$set(i),(!U||1&n[0]&&F!==(F=h(t[0]?"visible":"invisible")+" svelte-1n7oi9m"))&&k(e,"class",F),(!U||2&n[0])&&w(e,"background-color",t[1].appBackground),(!U||2&n[0])&&w(e,"color",t[1].textcolor)},i(t){U||(J(x.$$.fragment,t),J(Y.$$.fragment,t),U=!0)},o(t){X(x.$$.fragment,t),X(Y.$$.fragment,t),U=!1},d(n){n&&f(e),t[24](null),et(x),et(Y),H=!1,l(j)}}}function fe(t,e,n){const r=L();let o,i,{openScriptEditor:s=!1}=e,{styles:a={}}=e,{UserScripts:l=[]}=e,{focusFN:c}=e,{preferences:u}=e,h=!1,p="",d="",f=!1,g={line:0,ch:0},m="",v=null;function y(t){s?h||i.focus():c()}function S(t){o=t}function b(){i.focus()}function k(){n(3,h=!h)}function x(t,e){r(t,{data:e})}function _(t){n(7,g=t.cursor),n(8,m=t.value),n(10,v=t.history)}function w(){n(4,p=""),n(5,d=""),n(6,f=!1),n(8,m=""),o.getDoc().setValue("")}function E(){x("saveScript",{name:p,description:d,insert:f,script:m}),x("toggleScriptEditor",0)}function P(){x("deleteScript",{name:p,description:d,insert:f,script:m}),w(),x("toggleScriptEditor",0)}function C(){w(),x("toggleScriptEditor",0)}function M(t){n(4,p=t.name),n(5,d=t.description),n(6,f=t.insert),n(8,m=t.script),o.getDoc().setValue(t.script),n(3,h=!1)}let T;return t.$$set=t=>{"openScriptEditor"in t&&n(0,s=t.openScriptEditor),"styles"in t&&n(1,a=t.styles),"UserScripts"in t&&n(2,l=t.UserScripts),"focusFN"in t&&n(22,c=t.focusFN),"preferences"in t&&n(23,u=t.preferences)},t.$$.update=()=>{8388610&t.$$.dirty[0]&&n(11,T={Mode:u.codeMode,lineNumbers:u.codeLineNumbers,value:"",theme:a.editorTheme?a.editorTheme:"oceanic-next",keyMap:u.scriptKeyMap,lineWrapping:!1,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:u.styleActiveLine})},[s,a,l,h,p,d,f,g,m,i,v,T,y,S,b,k,_,w,E,P,C,M,c,u,function(t){A[t?"unshift":"push"](()=>{i=t,n(9,i)})},function(){p=this.value,n(4,p)},function(){f=this.checked,n(6,f)},function(){d=this.value,n(5,d)},t=>{_(t.detail.data)},t=>{S(t.detail.data)},()=>{w()},()=>{E()},()=>{P()},()=>{C()},t=>{M(t.detail.data)},t=>{b()},t=>{t.ctrlKey&&77==t.keyCode&&(t.preventDefault(),t.stopPropagation(),k())},t=>{y()}]}class ge extends rt{constructor(t){super(),nt(this,t,fe,de,u,{openScriptEditor:0,styles:1,UserScripts:2,focusFN:22,preferences:23},[-1,-1])}}const me=window.bodyparser;function ve(t){let e,n,r,o,i,s,a,c,u,g,S,x,E,P,C,M,T,R,D,L,N,A,O,I,B,$;return a=new pe({props:{height:"305px",width:"455px",config:t[10],value:t[7],cursor:t[6],history:t[9]}}),a.$on("textChange",t[26]),a.$on("editorChange",t[27]),A=new te({props:{styles:t[1],openPopUp:t[3],sysscripts:[],usrscripts:null===t[2].TEMPLATES?[]:t[2].TEMPLATES}}),A.$on("scriptSelected",t[32]),A.$on("focusEditor",t[33]),{c(){e=m("div"),n=m("input"),r=y(),o=m("input"),i=y(),s=m("div"),Q(a.$$.fragment),c=y(),u=m("div"),g=m("button"),S=v("New"),x=y(),E=m("button"),P=v("Save"),C=y(),M=m("button"),T=v("Delete"),R=y(),D=m("button"),L=v("Cancel"),N=y(),Q(A.$$.fragment),k(n,"class","TemplateEditorInput svelte-1vcczti"),w(n,"caret-color",t[1].textcolor),w(n,"background-color",t[1].appBackground),w(n,"color",t[1].textcolor),k(n,"placeholder","Enter the Template Name."),k(o,"class","TemplateEditorInput svelte-1vcczti"),w(o,"caret-color",t[1].textcolor),w(o,"background-color",t[1].appBackground),w(o,"color",t[1].textcolor),k(o,"placeholder","Enter a Description for the Template."),k(s,"id","codeMirorWrap"),k(s,"class","svelte-1vcczti"),k(g,"class","button svelte-1vcczti"),w(g,"background-color",t[1].editorBackground),w(g,"border-color",t[1].appBackground),w(g,"color",t[1].textcolor),k(E,"class","button svelte-1vcczti"),w(E,"background-color",t[1].editorBackground),w(E,"border-color",t[1].appBackground),w(E,"color",t[1].textcolor),k(M,"class","button svelte-1vcczti"),w(M,"background-color",t[1].editorBackground),w(M,"border-color",t[1].appBackground),w(M,"color",t[1].textcolor),k(D,"class","button svelte-1vcczti"),w(D,"background-color",t[1].editorBackground),w(D,"border-color",t[1].appBackground),w(D,"color",t[1].textcolor),k(u,"id","buttonBar"),k(u,"class","svelte-1vcczti"),k(e,"id","TemplateEditorPanelStyle"),k(e,"class",O=h(t[0]?"visible":"invisible")+" svelte-1vcczti"),w(e,"background-color",t[1].appBackground),w(e,"color",t[1].textcolor)},m(l,h){d(l,e,h),p(e,n),t[23](n),_(n,t[4]),p(e,r),p(e,o),_(o,t[5]),p(e,i),p(e,s),tt(a,s,null),p(e,c),p(e,u),p(u,g),p(g,S),p(u,x),p(u,E),p(E,P),p(u,C),p(u,M),p(M,T),p(u,R),p(u,D),p(D,L),p(e,N),tt(A,e,null),I=!0,B||($=[b(n,"input",t[24]),b(o,"input",t[25]),b(g,"click",t[28]),b(E,"click",t[29]),b(M,"click",t[30]),b(D,"click",t[31]),b(e,"keyup",t[34]),b(e,"transitionend",t[35])],B=!0)},p(t,r){(!I||2&r[0])&&w(n,"caret-color",t[1].textcolor),(!I||2&r[0])&&w(n,"background-color",t[1].appBackground),(!I||2&r[0])&&w(n,"color",t[1].textcolor),16&r[0]&&n.value!==t[4]&&_(n,t[4]),(!I||2&r[0])&&w(o,"caret-color",t[1].textcolor),(!I||2&r[0])&&w(o,"background-color",t[1].appBackground),(!I||2&r[0])&&w(o,"color",t[1].textcolor),32&r[0]&&o.value!==t[5]&&_(o,t[5]);const i={};1024&r[0]&&(i.config=t[10]),128&r[0]&&(i.value=t[7]),64&r[0]&&(i.cursor=t[6]),512&r[0]&&(i.history=t[9]),a.$set(i),(!I||2&r[0])&&w(g,"background-color",t[1].editorBackground),(!I||2&r[0])&&w(g,"border-color",t[1].appBackground),(!I||2&r[0])&&w(g,"color",t[1].textcolor),(!I||2&r[0])&&w(E,"background-color",t[1].editorBackground),(!I||2&r[0])&&w(E,"border-color",t[1].appBackground),(!I||2&r[0])&&w(E,"color",t[1].textcolor),(!I||2&r[0])&&w(M,"background-color",t[1].editorBackground),(!I||2&r[0])&&w(M,"border-color",t[1].appBackground),(!I||2&r[0])&&w(M,"color",t[1].textcolor),(!I||2&r[0])&&w(D,"background-color",t[1].editorBackground),(!I||2&r[0])&&w(D,"border-color",t[1].appBackground),(!I||2&r[0])&&w(D,"color",t[1].textcolor);const s={};2&r[0]&&(s.styles=t[1]),8&r[0]&&(s.openPopUp=t[3]),4&r[0]&&(s.usrscripts=null===t[2].TEMPLATES?[]:t[2].TEMPLATES),A.$set(s),(!I||1&r[0]&&O!==(O=h(t[0]?"visible":"invisible")+" svelte-1vcczti"))&&k(e,"class",O),(!I||2&r[0])&&w(e,"background-color",t[1].appBackground),(!I||2&r[0])&&w(e,"color",t[1].textcolor)},i(t){I||(J(a.$$.fragment,t),J(A.$$.fragment,t),I=!0)},o(t){X(a.$$.fragment,t),X(A.$$.fragment,t),I=!1},d(n){n&&f(e),t[23](null),et(a),et(A),B=!1,l($)}}}function ye(t,e,n){const r=L();let o,i,{openTemplateEditor:s=!1}=e,{styles:a={}}=e,{focusFN:l}=e,{preferences:c}=e,{ScriptPad:u}=e,h=!1,p="",d="",f={line:0,ch:0},g="",m=null;function v(t){s?h||i.focus():l()}function y(t){o=t}function S(){i.focus()}function b(){n(3,h=!h)}function k(t,e){r(t,{data:e})}function x(t){n(6,f=t.cursor),n(7,g=t.value),n(9,m=t.history)}function _(){n(4,p=""),n(5,d=""),n(7,g=""),o.getDoc().setValue("")}function w(){k("saveTemplate",{name:p,description:d,template:g}),k("toggleTemplateEditor",0)}function E(){k("deleteTemplate",{name:p,description:d,template:g}),_(),k("toggleTemplateEditor",0)}function P(){_(),k("toggleTemplateEditor",0)}function C(t){n(4,p=t.name),n(5,d=t.description),n(7,g=t.template),o.getDoc().setValue(t.template),n(3,h=!1)}let M;return t.$$set=t=>{"openTemplateEditor"in t&&n(0,s=t.openTemplateEditor),"styles"in t&&n(1,a=t.styles),"focusFN"in t&&n(21,l=t.focusFN),"preferences"in t&&n(22,c=t.preferences),"ScriptPad"in t&&n(2,u=t.ScriptPad)},t.$$.update=()=>{4194306&t.$$.dirty[0]&&n(10,M={Mode:c.codeMode,lineNumbers:c.codeLineNumbers,theme:a.editorTheme?a.editorTheme:"oceanic-next",keyMap:c.scriptKeyMap,lineWrapping:!1,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:c.styleActiveLine})},[s,a,u,h,p,d,f,g,i,m,M,v,y,S,b,x,_,w,E,P,C,l,c,function(t){A[t?"unshift":"push"](()=>{i=t,n(8,i)})},function(){p=this.value,n(4,p)},function(){d=this.value,n(5,d)},t=>{x(t.detail.data)},t=>{y(t.detail.data)},()=>{_()},()=>{w()},()=>{E()},()=>{P()},t=>{C(t.detail.data)},t=>{S()},t=>{t.ctrlKey&&"p"===t.key&&(t.preventDefault(),t.stopPropagation(),b())},t=>{v()}]}class Se extends rt{constructor(t){super(),nt(this,t,ye,ve,u,{openTemplateEditor:0,styles:1,focusFN:21,preferences:22,ScriptPad:2},[-1,-1])}}const be=window.bodyparser;function ke(t){let e,n,r,o,i,s,a,l,c,u,h,g,v,S,x;return n=new pe({props:{height:"385px",width:"466px",config:t[15],value:t[7][t[1]],cursor:t[8][t[1]]}}),n.$on("textChange",t[30]),n.$on("editorChange",t[31]),o=new ce({props:{openRegExp:t[2],styles:t[5],StoredText:t[7],currentid:t[1],focusFN:t[29],RegExpList:t[12]}}),o.$on("toggleRegExp",t[32]),o.$on("saveScript",t[33]),o.$on("deleteScript",t[34]),o.$on("saveText",t[35]),s=new ge({props:{openScriptEditor:t[3],styles:t[5],UserScripts:t[11],focusFN:t[29],preferences:t[6]}}),s.$on("toggleScriptEditor",t[36]),s.$on("saveScript",t[37]),s.$on("deleteScript",t[38]),l=new Se({props:{openTemplateEditor:t[4],styles:t[5],ScriptPad:t[0],focusFN:t[29],preferences:t[6]}}),l.$on("toggleTemplateEditor",t[39]),l.$on("saveTemplate",t[40]),l.$on("deleteTemplate",t[41]),u=new te({props:{styles:t[5],openPopUp:t[9],syscripts:t[13],usrscripts:t[11]}}),u.$on("scriptSelected",t[42]),u.$on("focusEditor",t[43]),g=new te({props:{styles:t[5],openPopUp:t[10],syscripts:t[0].SYSTEMTEMPLATES,usrscripts:null===t[0].TEMPLATES?[]:t[0].TEMPLATES.filter(xe)}}),g.$on("scriptSelected",t[44]),g.$on("focusEditor",t[45]),{c(){e=m("div"),Q(n.$$.fragment),r=y(),Q(o.$$.fragment),i=y(),Q(s.$$.fragment),a=y(),Q(l.$$.fragment),c=y(),Q(u.$$.fragment),h=y(),Q(g.$$.fragment),k(e,"id","noteEditor"),w(e,"background-color",t[5].appBackground),k(e,"class","svelte-ru16c6")},m(f,m){d(f,e,m),tt(n,e,null),p(e,r),tt(o,e,null),p(e,i),tt(s,e,null),p(e,a),tt(l,e,null),p(e,c),tt(u,e,null),p(e,h),tt(g,e,null),v=!0,S||(x=b(e,"keyup",t[46]),S=!0)},p(t,r){const i={};32768&r[0]&&(i.config=t[15]),130&r[0]&&(i.value=t[7][t[1]]),258&r[0]&&(i.cursor=t[8][t[1]]),n.$set(i);const a={};4&r[0]&&(a.openRegExp=t[2]),32&r[0]&&(a.styles=t[5]),128&r[0]&&(a.StoredText=t[7]),2&r[0]&&(a.currentid=t[1]),4096&r[0]&&(a.RegExpList=t[12]),o.$set(a);const c={};8&r[0]&&(c.openScriptEditor=t[3]),32&r[0]&&(c.styles=t[5]),2048&r[0]&&(c.UserScripts=t[11]),64&r[0]&&(c.preferences=t[6]),s.$set(c);const h={};16&r[0]&&(h.openTemplateEditor=t[4]),32&r[0]&&(h.styles=t[5]),1&r[0]&&(h.ScriptPad=t[0]),64&r[0]&&(h.preferences=t[6]),l.$set(h);const p={};32&r[0]&&(p.styles=t[5]),512&r[0]&&(p.openPopUp=t[9]),8192&r[0]&&(p.syscripts=t[13]),2048&r[0]&&(p.usrscripts=t[11]),u.$set(p);const d={};32&r[0]&&(d.styles=t[5]),1024&r[0]&&(d.openPopUp=t[10]),1&r[0]&&(d.syscripts=t[0].SYSTEMTEMPLATES),1&r[0]&&(d.usrscripts=null===t[0].TEMPLATES?[]:t[0].TEMPLATES.filter(xe)),g.$set(d),(!v||32&r[0])&&w(e,"background-color",t[5].appBackground)},i(t){v||(J(n.$$.fragment,t),J(o.$$.fragment,t),J(s.$$.fragment,t),J(l.$$.fragment,t),J(u.$$.fragment,t),J(g.$$.fragment,t),v=!0)},o(t){X(n.$$.fragment,t),X(o.$$.fragment,t),X(s.$$.fragment,t),X(l.$$.fragment,t),X(u.$$.fragment,t),X(g.$$.fragment,t),v=!1},d(t){t&&f(e),et(n),et(o),et(s),et(l),et(u),et(g),S=!1,x()}}}const xe=t=>"Defaults"!==t.name;function _e(t,e,n){let{currentid:r=0}=e,{RegExpOpen:o=!1}=e,{ScriptEditorOpen:i=!1}=e,{TemplateEditorOpen:s=!1}=e,{styles:a={}}=e,{preferences:l={}}=e,{ScriptPad:c={}}=e;const u=L();let h=["","","","","","","","",""],p=[null,null,null,null,null,null,null,null,null],d=[{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0}],f=!1,g=!1,m=[],v=[],y=[],S=[],b="",k=null;function x(t,e){u(t,{data:e})}function _(t){n(14,k=t)}function w(t){var e=t.keyCode;t.ctrlKey&&(77===e||80===e||69===e&&t.getModifierState("Alt"))&&(t.preventDefault(),t.stopPropagation(),77===e?n(9,f=!f):69===e?function(){if(null!==k){b=k.getLine(d[r].line);var t=b.replace(new RegExp('"',"g"),'\\"'),e=c.TeaCodeExpand(t,".md"),n=d[r],o=b.length,i=k.getDoc();i.setSelection({line:n.line,ch:0},{line:n.line,ch:o}),i.replaceSelection(e.text);var s=i.indexFromPos(i.getCursor()),a=i.posFromIndex(s-(e.text.length-e.cursorPosition));i.setCursor(a)}}():80===e&&n(10,g=!g))}function E(t){n(7,h[r]=t,h),M(r)}function P(t){n(7,h[r]=t.value,h),n(8,d[r]=t.cursor,d),p[r]=t.history,M(r)}function C(t){return n(7,h[t]=c.getNote(t),h),h[t]}function M(t){c.saveNote(t,h[t])}function T(t,e){n(7,h[t]=e,h),c.saveNote(t,d[t])}function D(){c.putScripts(m)}function N(){c.saveUserTemplates(c.TEMPLATES)}function A(){c.saveRegExps(v)}function O(t){n(9,f=!1),null!==m&&($(t),n(11,m=m.concat(t))),D()}function I(t){n(10,g=!1),null!==c.TEMPLATES&&(Y(t),n(0,c.TEMPLATES=c.TEMPLATES.concat(t),c)),N()}function B(t){n(9,f=!1),null!==v&&(F(t),n(12,v=v.concat(t))),A()}function $(t){n(9,f=!1),n(11,m=m.filter(e=>{var n=!0;return t.name===e.name&&(n=!1),n})),D()}function Y(t){n(10,g=!1),n(0,c.TEMPLATES=c.TEMPLATES.filter(e=>{var n=!0;return t.name===e.name&&(n=!1),n}),c),N()}function F(t){n(9,f=!1),n(12,v=v.filter(e=>{var n=!0;return t.name===e.name&&(n=!1),n})),A()}function U(t,e){console.log(t);c.getExtScript(t.name);if(console.log("tested for external"),null!==e)if(n(9,f=!1),t.insert){var o=e.getDoc(),i=o.getCursor();o.setSelection(i);var s="";s="undefined"!=typeof ScriptIndex?c.runExtScript(ScriptIndex,{script:ScriptIndex.script,envVar:{text:""},env:"",commandLine:""}):H(t.script,""),o.replaceSelection(s)}else{var a=e.getSelection(),l=!1;""===a&&(a=h[r],l=!0);var u="";u="undefined"!=typeof ScriptIndex?c.runExtScript(ScriptIndex,{script:ScriptIndex.script,envVar:{text:a},env:"",commandLine:""}):H(t.script,a),l?n(7,h[r]=u,h):e.getDoc().replaceSelection(u)}}function H(t,e){return c.runJavaScriptScripts(t,e)}function j(t,e){if(null!==e){n(10,g=!1);var o=e.getSelection();""===o&&(o=h[r]);var i=e.getDoc(),s=i.getCursor();i.setSelection(s);var a=c.runTemplate(t.name,t.template,o);i.replaceSelection(a)}}function W(){null!==k&&k.focus()}R(()=>{var t;k.getDoc().setValue(C(0)),C(1),C(2),C(3),C(4),C(5),C(6),C(7),C(8),n(11,m=c.getScripts()),n(13,y=c.getSystemScripts()),c.getUserTemplates(),c.getSystemTemplates(),n(12,v=c.getRegExp()),S=c.getSystemRegExps(),c.setupHandlebarHelpers(),n(0,c.apiRouter=window.express.Router(),c),n(0,c.pubServerRouter=window.express.Router(),c),n(0,c.app=window.express(),c),((t,e,n)=>{t.use("*",(t,e,n)=>{var r=t.ip.split("."),o=t.connection.localAddress.split(".");r[0]===o[0]&&r[1]===o[1]&&r[2]===o[2]&&r[0]===o[0]&&n()}),t.use(me.json()),t.use(me.urlencoded({extended:!0})),t.route("/note/:noteID(\\d+)/:append(a|w)").get((t,n,r)=>{n.json({note:e.getNote(t.params.noteID-1)})}).put((t,r,o)=>{var i="";"a"===t.params.append&&(i=e.getNote(t.params.noteID-1)),i+=t.body.note,n(t.params.noteID-1,i),r.send("okay")}),t.route("/scripts/env/list").get((t,n,r)=>{n.json(e.getEnvNames())}),t.route("/scripts/env/:env").get((t,n,r)=>{n.json(e.getEnv(t.params.env))}).put((t,n,r)=>{e.addEnv(t.body),n.json({text:"okay"})}).delete((t,n,r)=>{e.removeEnv(t.params.env),n.json({text:"okay"})}),t.route("/scripts/list").get((t,n,r)=>{n.json(e.getScripts().map(t=>t.name).concat(e.getSystemScripts().map(t=>t.name)).concat(e.listExtScripts()))}),t.route("/scripts/ext/list").get((t,n,r)=>{var o=e.listExtScripts();n.json(o)}),t.route("/scripts/ext/:script").get((t,n,r)=>{var o=e.getExtScript(t.params.script);console.log(o),n.json(o)}).put((t,n,r)=>{e.addExtScript(t.body),n.json({text:"okay"})}).delete((t,n,r)=>{e.removeExtScript(t.params.script),n.json({text:"okay"})}),t.route("/script/run").put((t,n,r)=>{var o=e.getScripts(),i=null,s=o.find(e=>e.name===t.body.script);void 0!==s?(i=s.script,n.json({text:e.runJavaScriptScripts(i,t.body.text)})):void 0!==(s=e.getExtScript(t.body.script))?n.json({text:e.runExtScript(s,t.body)}):(i=void 0!==(s=(o=e.getSystemScripts()).find(e=>e.name===t.body.script))?s.script:{script:"SP.text = 'Error: Not a Script.';"},n.json({text:e.runJavaScriptScripts(i,t.body.text)}))}),t.route("/template/list").get((t,n,r)=>{n.json({templates:e.listTemplates().filter(t=>{var e=!0;return"Defaults"===t&&(e=!1),e})})}),t.route("/template/run").put((t,n,r)=>{var o=e.getTemplateByName(t.body.template);null===o?n.json({text:"Not Defined."}):n.json({text:e.runTemplate(o.name,o.template,t.body.text)})}),t.route("/nodered/var/:varname").put((t,n,r)=>{e.SetRedVar(t.params.varname,t.body.text),n.json({text:"okay"})}).get((t,n,r)=>{n.json({text:e.GetRedVar(t.params.varname)})}),t.route("/getip").get((t,n,r)=>{n.json({ip:e.getIP()})}),t.route("/scriptbar/config").get((t,n,r)=>{globalThis.fs.existsSync(e.SCRIPTBARPREFERENCES)?n.json({config:JSON.parse(globalThis.fs.readFileSync(e.SCRIPTBARPREFERENCES).toString())}):n.json({config:[]})}).put((t,n,r)=>{globalThis.fs.writeFileSync(e.SCRIPTBARPREFERENCES,JSON.stringify(t.body.config)),n.json({text:"okay"})}),t.route("/web/launch").get((t,e,n)=>{e.json({text:"okay"})}).put((t,n,r)=>{e.showURL(t.body.url,t.body.url,t=>{}),n.json({text:"okay"})})})(c.apiRouter,c,T),(t=c.pubServerRouter).use("*",(t,e,n)=>{var r=t.ip.split("."),o=t.connection.localAddress.split(".");r[0]===o[0]&&r[1]===o[1]&&r[2]===o[2]&&r[0]===o[0]&&n()}),t.use(be.json()),t.use(be.urlencoded({extended:!0})),t.use("/",window.express.static("ScriptServer")),t.use("/docs",window.express.static("docs")),t.use("/imgs",window.express.static("scriptpad/imgs")),c.app.use("/api",c.apiRouter),c.app.use("/",c.pubServerRouter),n(0,c.httpServer=window.http.createServer(c.app),c),n(0,c.io=window.socketio(c.httpServer),c);try{n(0,c.server=c.httpServer.listen(c.PORTNUMBER),c)}catch(t){console.log(t)}});let V;return t.$$set=t=>{"currentid"in t&&n(1,r=t.currentid),"RegExpOpen"in t&&n(2,o=t.RegExpOpen),"ScriptEditorOpen"in t&&n(3,i=t.ScriptEditorOpen),"TemplateEditorOpen"in t&&n(4,s=t.TemplateEditorOpen),"styles"in t&&n(5,a=t.styles),"preferences"in t&&n(6,l=t.preferences),"ScriptPad"in t&&n(0,c=t.ScriptPad)},t.$$.update=()=>{96&t.$$.dirty[0]&&n(15,V={Mode:l.noteMode,lineNumbers:l.noteLineNumbers,theme:a.editorTheme?a.editorTheme:"oceanic-next",keyMap:l.noteKeyMap,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:l.styleActiveLine})},[c,r,o,i,s,a,l,h,d,f,g,m,v,y,k,V,x,_,w,E,P,O,I,B,$,Y,F,U,j,W,t=>{P(t.detail.data)},t=>{_(t.detail.data)},()=>{x("toggleRegExp",0)},t=>{B(t.detail.data)},t=>{F(t.detail.data)},t=>{E(t.detail.data)},()=>{x("toggleScriptEditor",0)},t=>{O(t.detail.data)},t=>{$(t.detail.data)},()=>{x("toggleTemplateEditor",0)},t=>{I(t.detail.data)},t=>{Y(t.detail.data)},t=>{U(t.detail.data,k)},t=>{W()},t=>{j(t.detail.data,k)},t=>{W()},t=>{w(t)}]}class we extends rt{constructor(t){super(),nt(this,t,_e,ke,u,{currentid:1,RegExpOpen:2,ScriptEditorOpen:3,TemplateEditorOpen:4,styles:5,preferences:6,ScriptPad:0},[-1,-1,-1])}}function Ee(t){let e,n,r,o;return{c(){e=m("div"),n=m("form"),n.innerHTML='<input type="hidden" name="cmd" value="_s-xclick" alt="button command" class="svelte-y0t0jq"/> \n    <input type="image" alt="PayPal: A safe way to make donations." src="imgs/btn_donateCC_LG.gif" border="0" name="submit" class="svelte-y0t0jq"/> \n    <img alt="PayPal Button" border="0" src="imgs/pixel.gif" width="1" height="1"/>',k(n,"method","post"),k(n,"target","_blank"),k(e,"class","donateButton svelte-y0t0jq")},m(i,s){var a;d(i,e,s),p(e,n),r||(o=b(n,"submit",(a=t[1],function(t){return t.preventDefault(),a.call(this,t)})),r=!0)},p:i,i:i,o:i,d(t){t&&f(e),r=!1,o()}}}function Pe(t,e,n){let{ScriptPad:r}=e;return t.$$set=t=>{"ScriptPad"in t&&n(0,r=t.ScriptPad)},[r,()=>{r.nw.Shell.openExternal("https://www.paypal.com/cgi-bin/webscr")}]}class Ce extends rt{constructor(t){super(),nt(this,t,Pe,Ee,u,{ScriptPad:0})}}function Me(t){let e,n,r,o,i,s,a,c,u,g,S,x,_,E,P,C,M,T,R,D,L,N,A;return C=new Ce({props:{ScriptPad:t[1]}}),{c(){e=m("div"),n=m("div"),r=m("h1"),r.textContent="Script Pad",o=y(),i=m("p"),i.innerHTML='Created by Richard Guay\n          <a href="mailto:raguay@customct.com" class="svelte-gcgnxl">raguay@customct.com</a>',s=y(),a=m("p"),a.textContent="Built With:",c=y(),u=m("div"),g=m("div"),g.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">Svelte</p></div> \n          <img src="branding-master/svelte-logo.svg" height="50" alt="Svelte Logo"/>',S=y(),x=m("div"),x.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">NW.js</p></div> \n          <img src="imgs/nwjs.png" height="50" width="50" alt="NW.js logo"/>',_=y(),E=m("div"),E.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">Mask</p> \n            <img src="imgs/Mask.png" height="50" width="50" alt="Mask logo"/></div>',P=y(),Q(C.$$.fragment),M=y(),T=m("button"),R=v("Close"),k(r,"class","svelte-gcgnxl"),k(i,"class","svelte-gcgnxl"),k(a,"class","svelte-gcgnxl"),k(g,"class","pimg svelte-gcgnxl"),k(x,"class","pimg svelte-gcgnxl"),k(E,"class","pimg svelte-gcgnxl"),k(u,"class","helpers svelte-gcgnxl"),w(T,"background-color",t[0].editorBackground),w(T,"color",t[0].textcolor),k(T,"class","svelte-gcgnxl"),k(n,"id","innerAbout"),k(n,"class","svelte-gcgnxl"),k(e,"id","about"),k(e,"class",D=h(t[2]?"visible":"invisible")+" svelte-gcgnxl"),w(e,"background-color",t[0].appBackground),w(e,"color",t[0].textcolor)},m(l,h){d(l,e,h),p(e,n),p(n,r),p(n,o),p(n,i),p(n,s),p(n,a),p(n,c),p(n,u),p(u,g),p(u,S),p(u,x),p(u,_),p(u,E),p(n,P),tt(C,n,null),p(n,M),p(n,T),p(T,R),L=!0,N||(A=[b(g,"click",t[4]),b(x,"click",t[5]),b(E,"click",t[6]),b(T,"click",t[7])],N=!0)},p(t,[n]){const r={};2&n&&(r.ScriptPad=t[1]),C.$set(r),(!L||1&n)&&w(T,"background-color",t[0].editorBackground),(!L||1&n)&&w(T,"color",t[0].textcolor),(!L||4&n&&D!==(D=h(t[2]?"visible":"invisible")+" svelte-gcgnxl"))&&k(e,"class",D),(!L||1&n)&&w(e,"background-color",t[0].appBackground),(!L||1&n)&&w(e,"color",t[0].textcolor)},i(t){L||(J(C.$$.fragment,t),L=!0)},o(t){X(C.$$.fragment,t),L=!1},d(t){t&&f(e),et(C),N=!1,l(A)}}}function Te(t,e,n){const r=L();let{styles:o={}}=e,{ScriptPad:i={}}=e,{open:s=!1}=e;function a(t,e){r(t,{data:e})}return t.$$set=t=>{"styles"in t&&n(0,o=t.styles),"ScriptPad"in t&&n(1,i=t.ScriptPad),"open"in t&&n(2,s=t.open)},[o,i,s,a,t=>{i.nw.Shell.openExternal("https://svelte.dev")},t=>{i.nw.Shell.openExternal("https://nwjs.io/")},t=>{i.nw.Shell.openExternal("https://github.com/jakedeichert/mask")},()=>{a("toggleAboutMenu",0)}]}class Re extends rt{constructor(t){super(),nt(this,t,Te,Me,u,{styles:0,ScriptPad:1,open:2})}}
/**
     * @category  html5 widgets
     * @package   Kelly
     * @author    Rubchuk Vladimir <torrenttvi@gmail.com>
     * @copyright 2015-2017 Rubchuk Vladimir
     * @license   GPLv3
     * @version   1.19
     *
     * Usage example :
     *
     *   new KellyColorPicker({place : 'color-picker'});
     *
     * ToDo :
     * 
     * Add switch color in colorsavers button (analog of X button in Photoshop)
     *
     **/function De(t){var e,n=Math.PI,r=!0,o=new Object;o.radius=4;var i=!1,s=!1,a="quad",l=!1,c=!1,u=!0,h=new Array,p=new Array,d=document.createElement("canvas"),f=!1,g=!1,m=null,v=!1,y=!0,S="mixed",b=new Object;b.tag=!1,b.margin=6;var k,x,_,w,E=!1,P=this,C=200,M="#000000",T=1,R=!1,D=!1,L=new Array,N=!1,A=new Array;function O(t,e,n){e=!!e;var r=new Object;r.widthPercentage=22,r.imageData=null,r.align=t,r.selected=e,r.color="#ffffff",r.paddingY=-4,r.paddingX=4,r.lineWidth=1,r.selectSize=4,"right"==t&&(r.paddingX=-1*r.paddingX),r.selected&&(r.color=M),n&&(r.color=n),r.updateSize=function(){this.width=parseInt(C-C/100*(100-this.widthPercentage)),"left"==this.align?this.position={x:0,y:C-this.width}:"right"==this.align&&(this.position={x:C-this.width,y:C-this.width})},r.calcS=function(t){return Math.abs((t[1].x-t[0].x)*(t[2].y-t[0].y)-(t[2].x-t[0].x)*(t[1].y-t[0].y))/2},r.isDotIn=function(t){var e=new Array;"left"==this.align?(e[0]={x:this.position.x,y:this.position.y},e[1]={x:this.position.x,y:this.position.y+this.width},e[2]={x:this.position.x+this.width,y:this.position.y+this.width}):(e[0]={x:this.position.x+this.width,y:this.position.y},e[1]={x:e[0].x,y:e[0].y+this.width},e[2]={x:e[0].x-this.width,y:this.position.y+this.width});for(var n=0;n<=e.length-1;++n)e[n].x+=this.paddingX,e[n].y+=this.paddingY;var r=this.calcS(e),o=[{x:e[0].x,y:e[0].y},{x:e[1].x,y:e[1].y},{x:t.x,y:t.y}],i=this.calcS(o);return o[1]={x:e[2].x,y:e[2].y},i+=this.calcS(o),o[0]={x:e[1].x,y:e[1].y},i+=this.calcS(o),Math.ceil(i)==Math.ceil(r)},r.draw=function(){d.width=this.width,d.height=this.width,f.clearRect(0,0,this.width,this.width),f.beginPath(),"left"==this.align&&(f.moveTo(this.lineWidth/2,this.width-this.lineWidth),f.lineTo(this.width,this.width-this.lineWidth),f.lineTo(this.lineWidth,this.lineWidth),f.lineTo(this.lineWidth,this.width-this.lineWidth)),"right"==this.align&&(f.moveTo(this.lineWidth/2,this.width-this.lineWidth),f.lineTo(this.width-this.lineWidth,this.width-this.lineWidth),f.lineTo(this.width-this.lineWidth,this.lineWidth),f.lineTo(this.lineWidth,this.width-this.lineWidth)),this.selected&&(f.fillStyle="rgba(255,255,255, 1)",f.fill(),f.strokeStyle="rgba(0, 0, 0, 1)",f.stroke(),f.closePath(),f.beginPath(),f.lineWidth=this.lineWidth,"left"==this.align&&(f.moveTo(this.selectSize,this.width-this.selectSize),f.lineTo(this.width-2*this.selectSize,this.width-this.selectSize),f.lineTo(this.selectSize,2*this.selectSize),f.lineTo(this.selectSize,this.width-this.selectSize)),"right"==this.align&&(f.moveTo(2*this.selectSize,this.width-this.selectSize),f.lineTo(this.width-this.selectSize,this.width-this.selectSize),f.lineTo(this.width-this.selectSize,2*this.selectSize),f.lineTo(2*this.selectSize,this.width-this.selectSize)));var t=q(this.color);f.fillStyle="rgba("+t.r+","+t.g+","+t.b+", 1)",f.fill(),f.strokeStyle="rgba(0, 0, 0, 1)",f.stroke(),this.imageData=f.getImageData(0,0,this.width,this.width),s.drawImage(d,this.position.x+this.paddingX,this.position.y+this.paddingY)};var o=L.length;L[o]=r}var I=new Object;I.width=18,I.imageData=null,I.startAngle=0,I.outerStrokeStyle="rgba(0,0,0,0.2)",I.innerStrokeStyle="rgba(0,0,0,0.2)",I.draw=function(){if(this.imageData)s.putImageData(this.imageData,0,0);else{for(var t=this.startAngle,e=0;e<=360;e++){var r=J(e-2),o=J(e);s.beginPath(),s.moveTo(x,x),s.arc(x,x,this.outerRadius,r,o,!1),s.closePath();var i=z(t/360,1,1);s.fillStyle="rgb("+i.r+", "+i.g+", "+i.b+")",s.fill(),++t>=360&&(t=0)}s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(x,x,this.innerRadius,0,2*n),s.fill(),s.globalCompositeOperation="source-over",s.strokeStyle=this.innerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),s.beginPath(),s.arc(x,x,this.outerRadius,0,2*n),s.strokeStyle=this.outerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),this.imageData=s.getImageData(0,0,C,C)}},I.isDotIn=function(t){return Math.pow(this.pos.x-t.x,2)+Math.pow(this.pos.y-t.y,2)<Math.pow(this.outerRadius,2)&&Math.pow(this.pos.x-t.x,2)+Math.pow(this.pos.y-t.y,2)>Math.pow(this.innerRadius,2)};var B=new Object;B.lineWeight=2,B.height=4,B.paddingX=2;var $=new Object;$.width=18,$.padding=4,$.outerStrokeStyle="rgba(0,0,0,0.2)",$.innerStrokeStyle="rgba(0,0,0,0.2)",$.updateSize=function(){this.pos={x:C+$.padding,y:$.padding},this.height=C-2*$.padding},$.draw=function(){var t=s.createLinearGradient(0,0,0,this.height),e=z(_.h,1,1);t.addColorStop(0,"rgba("+e.r+","+e.g+","+e.b+",1)"),t.addColorStop(1,"rgba("+e.r+","+e.g+","+e.b+",0)"),s.beginPath(),s.rect(this.pos.x,this.pos.y,this.width,this.height),s.fillStyle="white",s.fill(),s.fillStyle=t,s.fill(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2,s.stroke(),s.closePath()},$.dotToAlpha=function(t){return 1-Math.abs(this.pos.y-t.y)/this.height},$.alphaToDot=function(t){return{x:0,y:this.height-this.height*t}},$.limitDotPosition=function(t){var e=t.y;return e<this.pos.y&&(e=this.pos.y),e>this.pos.y+this.height&&(e=this.pos.y+this.height),{x:this.pos.x,y:e}},$.isDotIn=function(t){return!(t.x<this.pos.x||t.x>this.pos.x+$.width||t.y<this.pos.y||t.y>this.pos.y+this.height)};var Y=new Object;function F(t){var e=t.getBoundingClientRect(),n=0,r=0;return l&&(r=$.width+2*$.padding),t===i?e.width<=e.height?n=e.height:e.height<e.width&&(n=e.width):D?"height"==D?n=e.height:"width"==D&&(n=e.width):e.width>e.height?n=e.height:e.height>=e.width&&(n=e.width),n=parseInt(n),l&&(n-=r),!(n<=0)&&n}function U(t,e){var n=1,r=!1;if((t=t.trim(t)).length<=7)"#"==t.charAt(0)&&(t=t.slice(1)),3==t.length?r=t+t:6==t.length&&(r=t);else if("rgb"==t.substring(0,3)){var o=t.split(",");if(o.length>=3&&o.length<=4){o[0]=o[0].replace("rgba(",""),o[0]=o[0].replace("rgb(","");var i={r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])};i.r<=255&&i.g<=255&&i.b<=255&&(r=K(i),4==o.length&&((!(n=parseFloat(o[3]))||n<0)&&(n=0),n>1&&(n=1)))}}return(!1!==r||!e)&&(!1===r&&(r="000000"),"#"!=r.charAt(0)&&(r="#"+r),{h:r,a:n})}function H(){if(A.quad)return A.quad;var t=new Object;return t.padding=2,t.imageData=null,t.dotToSv=function(t){return{s:Math.abs(this.path[3].x-t.x)/this.size,v:Math.abs(this.path[3].y-t.y)/this.size}},t.svToDot=function(t){var e=this.path[0].x,n=this.path[0].y,r=.02;C<150?r=.07:C<100&&(r=.16);for(var o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var s={x:i+e,y:o+n},a=this.dotToSv(s),l=Math.abs(a.s-t.s),c=Math.abs(a.v-t.v);if(l<r&&c<r)return s}return{x:0,y:0}},t.limitDotPosition=function(t){var e=t.x,n=t.y;return e<this.path[0].x&&(e=this.path[0].x),e>this.path[0].x+this.size&&(e=this.path[0].x+this.size),n<this.path[0].y&&(n=this.path[0].y),n>this.path[0].y+this.size&&(n=this.path[0].y+this.size),{x:e,y:n}},t.draw=function(){this.imageData||(this.imageData=s.createImageData(this.size,this.size));for(var t=0,e=this.path[0].x,n=this.path[0].y,r=0;r<this.size;r++)for(var o=0;o<this.size;o++){var i={x:o+e,y:r+n},a=this.dotToSv(i),l=z(_.h,a.s,a.v);this.imageData.data[t+0]=l.r,this.imageData.data[t+1]=l.g,this.imageData.data[t+2]=l.b,this.imageData.data[t+3]=255,t+=4}s.putImageData(this.imageData,e,n),s.beginPath(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2;for(t=0;t<=this.path.length-1;++t)0==t?s.moveTo(this.path[t].x,this.path[t].y):s.lineTo(this.path[t].x,this.path[t].y);s.stroke(),s.closePath()},t.updateSize=function(){var t=2*I.innerRadius-2*B.paddingX-2*this.padding;this.size=Math.floor(t/Math.sqrt(2)),this.path=new Array,this.path[0]={x:this.size/2*-1,y:this.size/2*-1},this.path[1]={x:this.path[0].x+this.size,y:this.path[0].y},this.path[2]={x:this.path[1].x,y:this.path[1].y+this.size},this.path[3]={x:this.path[2].x-this.size,y:this.path[2].y},this.path[4]={x:this.path[0].x,y:this.path[0].y};for(var e=0;e<=this.path.length-1;++e)this.path[e].x+=I.pos.x,this.path[e].y+=I.pos.y},t.isDotIn=function(t){return!(t.x<this.path[0].x||t.x>this.path[0].x+this.size||t.y<this.path[0].y||t.y>this.path[0].y+this.size)},A.quad=t,t}function j(){if(A.triangle)return A.triangle;var t=new Object;return t.padding=2,t.imageData=null,t.followWheel=!0,t.sOnTop=!1,t.limitDotPosition=function(t){var e=t.x,n=t.y,r=this.path[0].x,o=this.path[2].x,i=e,s=n;i=Math.min(Math.max(o,i),r);var a=(this.path[0].y-this.path[1].y)/(this.path[0].x-this.path[1].x),l=Math.ceil(this.path[1].y+a*(i-this.path[1].x));a=(this.path[0].y-this.path[2].y)/(this.path[0].x-this.path[2].x);var c=Math.floor(this.path[2].y+a*(i-this.path[2].x));return e<o&&((I.pos.y-n)/(I.pos.x-e),s=n),{x:i,y:s=Math.min(Math.max(l,s),c)}},t.svToDot=function(t){var n=.02;C<150?n=.07:C<100&&(n=.16);for(var r=0;r<this.size;r++)for(var o=0;o<this.size;o++){var i={x:this.path[1].x+o,y:this.path[1].y+r};if(e.isDotIn(i)){var s=this.dotToSv(i),a=Math.abs(s.s-t.s),l=Math.abs(s.v-t.v);if(a<n&&l<n)return i}}return{x:0,y:0}},t.draw=function(){this.imageData||(this.imageData=f.createImageData(this.size,this.size)),d.width=this.size,d.height=this.size;for(var t=this.path[1].x,n=this.path[1].y,r=0,o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var a={x:this.path[1].x+i,y:this.path[1].y+o};if(e.isDotIn(a)){var l=this.dotToSv(a),c=z(_.h,l.s,l.v);this.imageData.data[r+0]=c.r,this.imageData.data[r+1]=c.g,this.imageData.data[r+2]=c.b,this.imageData.data[r+3]=255}else this.imageData.data[r+0]=0,this.imageData.data[r+1]=0,this.imageData.data[r+2]=0,this.imageData.data[r+3]=0;r+=4}f.putImageData(this.imageData,0,0),s.drawImage(d,t,n),s.beginPath(),s.strokeStyle="rgba(0, 0, 0, 0.3)",s.lineWidth=2;var u=this.path;for(r=0;r<=u.length-1;++r)0==r?s.moveTo(u[r].x,u[r].y):s.lineTo(u[r].x,u[r].y);s.stroke(),s.closePath()},t.calcS=function(t){return Math.abs((t[1].x-t[0].x)*(t[2].y-t[0].y)-(t[2].x-t[0].x)*(t[1].y-t[0].y))/2},t.dotToSv=function(t){var e,n,r=function(t,e){var n=(e[0].x-e[1].x)*(e[0].x-e[1].x)+(e[0].y-e[1].y)*(e[0].y-e[1].y),r=(t.x-e[0].x)*(e[1].x-e[0].x)+(t.y-e[0].y)*(e[1].y-e[0].y),o=!0,i=r/n;i<0&&(i=0,o=!1);i>1&&(i=1,o=!1);return{x:e[0].x+i*(e[1].x-e[0].x),y:e[0].y+i*(e[1].y-e[0].y),pt:o}}({x:t.x,y:t.y},this.vol),o=(e=r,n=this.vol[0],Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)));o<1&&(o=Math.floor(o)),o>this.h-1&&(o=this.h);var i=o/this.h,s=Math.abs(Z(t,this.sSide));return s<30&&(s=30),s=60-(s-=30),{s:s/=60,v:i}},t.isDotIn=function(t){var e=[{x:this.path[0].x,y:this.path[0].y},{x:this.path[1].x,y:this.path[1].y},{x:t.x,y:t.y}],n=this.calcS(e);return e[1]={x:this.path[2].x,y:this.path[2].y},n+=this.calcS(e),e[0]={x:this.path[1].x,y:this.path[1].y},n+=this.calcS(e),Math.ceil(n)==Math.ceil(this.s)},t.updateSize=function(){this.outerRadius=I.innerRadius-B.paddingX-this.padding,this.size=Math.floor(2*this.outerRadius*Math.sin(J(60)));var t=Math.sqrt(3)/2*this.size;this.h=Math.sqrt(3)/2*this.size,this.path=new Array,this.path[0]={x:this.outerRadius,y:0},this.path[1]={x:this.path[0].x-t,y:this.size/2*-1},this.path[2]={x:this.path[1].x,y:this.size/2},this.path[3]={x:this.path[0].x,y:this.path[0].y};for(var e=0;e<=this.path.length-1;++e)this.path[e].x+=I.pos.x,this.path[e].y+=I.pos.y;if(this.vol=new Array,this.s=this.calcS(this.path),this.sOnTop){var n=X(this.path[0],this.path[2]);this.vol[0]={x:this.path[1].x,y:this.path[1].y},this.vol[1]={x:n.x,y:n.y},this.sSide=this.path[1]}else{n=X(this.path[0],this.path[1]);this.vol[0]={x:this.path[2].x,y:this.path[2].y},this.vol[1]={x:n.x,y:n.y},this.sSide=this.path[2]}},A.triangle=t,t}function W(t,e,n,r){return"object"!=typeof t&&(t=document.getElementById(t)),!!t&&(r||(r=""),h[r+e]=n,t.addEventListener?t.addEventListener(e,h[r+e]):t.attachEvent("on"+e,h[r+e]),!0)}function V(t,e,n){return"object"!=typeof t&&(t=document.getElementById(t)),!!t&&(n||(n=""),!!h[n+e]&&(t.removeEventListener?t.removeEventListener(e,h[n+e]):t.detachEvent("on"+e,h[n+e]),h[n+e]=null,!0))}function z(t,e,n){var r,o,i,s,a,l,c,u;switch(t&&void 0===e&&void 0===n&&(e=t.s,n=t.v,t=t.h),l=n*(1-e),c=n*(1-(a=6*t-(s=Math.floor(6*t)))*e),u=n*(1-(1-a)*e),s%6){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;case 5:r=n,o=l,i=c}return{r:Math.floor(255*r),g:Math.floor(255*o),b:Math.floor(255*i)}}function G(t,e,n){t&&void 0===e&&void 0===n&&(e=t.g,n=t.b,t=t.r),t/=255,e/=255,n/=255;var r,o,i=Math.max(t,e,n),s=Math.min(t,e,n),a=i,l=i-s;if(o=0==i?0:l/i,i==s)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:o,v:a}}function q(t){var e=parseInt("#"==t.charAt(0)?t.slice(1):t,16);return{r:e>>16,g:e>>8&255,b:255&e}}function K(t){var e=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e};return"#"+e(t.r)+e(t.g)+e(t.b)}function J(t){return t*(n/180)}function X(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Z(t,e,r){e||(e={x:0,y:0});var o=t.x-e.x,i=t.y-e.y,s=180*Math.atan2(i,o)/n;return r&&s<0&&(s=360+s),s}function Q(){k=2+B.paddingX,g=!1,I.imageData=null,x=C/2,I.pos={x:x,y:x},I.outerRadius=x-k,I.innerRadius=I.outerRadius-I.width,B.path=[{x:I.innerRadius-B.paddingX,y:-1*B.height},{x:I.outerRadius+B.paddingX,y:-1*B.height},{x:I.outerRadius+B.paddingX,y:B.height},{x:I.innerRadius-B.paddingX,y:B.height},{x:I.innerRadius-B.paddingX,y:-1*B.height}];var t=C;l&&(t+=$.width+2*$.padding),"CANVAS"!=E.tagName&&(E.style.width=t+"px",E.style.height=C+"px"),i.width=t,i.height=C,R!=i&&(i.style.width=t+"px",i.style.height=C+"px");for(var n=0;n<=L.length-1;++n)L[n].updateSize();N&&(N.imageData.triangle=null,N.imageData.quad=null,N.updateSize()),e.updateSize(),l&&$.updateSize()}function tt(t){if(v){if(p.updateinput)if(!(0,p.updateinput)(P,v,t))return;var e="rgba("+w.r+", "+w.g+", "+w.b+", "+T.toFixed(2)+")";t||(v.value=T<1&&"mixed"===S?e:"hex"===S||"mixed"===S?M:e),y&&(_.v<.5?v.style.color="#FFF":v.style.color="#000",v.style.background=e)}}function et(){W(i,"mousedown",(function(t){P.mouseDownEvent(t)}),"wait_action_"),W(i,"touchstart",(function(t){P.mouseDownEvent(t)}),"wait_action_"),W(i,"mouseout",(function(t){P.mouseOutEvent(t)}),"wait_action_"),W(window,"touchmove",(function(t){P.touchMoveEvent(t)}),"wait_action_"),W(i,"mousemove",(function(t){P.mouseMoveRest(t)}),"wait_action_")}function nt(){V(i,"mousedown","wait_action_"),V(i,"touchstart","wait_action_"),V(i,"mouseout","wait_action_"),V(window,"touchmove","wait_action_"),V(i,"mousemove","wait_action_")}function rt(t){var e,n;t=t||window.event;var r=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop;"touchend"==t.type?(e=t.changedTouches[0].clientX+r,n=t.changedTouches[0].clientY+o):"touchmove"==t.type||t.touches?(e=t.touches[0].clientX+r,n=t.touches[0].clientY+o):(e=t.clientX+r,n=t.clientY+o);var s=i.getBoundingClientRect();return{x:e-=s.left+r,y:n-=s.top+o}}function ot(t){for(var e=!1,n=0;n<=L.length-1;++n)L[n].selected&&(e=n),L[n].selected=!1;var r=!1;for(n=0;n<=L.length-1;++n)if(n==t){L[n].selected=!0,P.setColorByHex(L[n].color),r=!0;break}r&&p.selectcolorsaver&&(0,p.selectcolorsaver)(P,L[t]);return r||!1===e||(L[e].selected=!0),r}function it(){for(var t=0;t<=L.length-1;++t)L[t].selected&&(L[t].color=M)}function st(){if(L.length)for(var t=0;t<=L.length-1;++t)L[t].draw()}function at(){if(!s||(s.clearRect(0,0,i.width,i.height),!(g?(s.putImageData(m,0,0),st(),1):(I.draw(),e.draw(),l&&$.draw(),st(),N&&N.draw(),c||(m=s.getImageData(0,0,i.width,i.height),g=!0),1))))return!1;var t=360*_.h-I.startAngle;if(l){s.beginPath();var r=$.height*(1-T);s.rect($.pos.x-2,$.padding+r-1,$.width+4,2),s.strokeStyle="rgba(0,0,0, 0.8)",s.lineWidth=2,s.stroke(),s.closePath()}s.beginPath();for(var a=function(t,e){e=J(e);for(var n=new Array,r=0;r<=t.length-1;++r)n[r]={x:t[r].x*Math.cos(e)-t[r].y*Math.sin(e),y:t[r].x*Math.sin(e)+t[r].y*Math.cos(e)};return n}(B.path,t,(I.pos.x,I.pos.y)),u=0;u<=a.length-1;++u)a[u].x+=I.pos.x,a[u].y+=I.pos.y,0==u?s.moveTo(a[u].x,a[u].y):s.lineTo(a[u].x,a[u].y);return s.strokeStyle="rgba(0,0,0,0.8)",s.lineWidth=B.lineWeight,s.stroke(),s.closePath(),_.v>.5&&_.s<.5?s.strokeStyle="rgba(0, 0, 0, 1)":s.strokeStyle="rgba(255, 255, 255, 1)",s.beginPath(),s.lineWidth=2,s.arc(_.x,_.y,o.radius,0,2*n),s.stroke(),s.closePath(),!1}Y.svCursorData=null,Y.stCursor=null,Y.curType=0,Y.size=16,Y.cEl=document.body,Y.initSvCursor=function(){if(!i)return!1;if(this.curType=1,this.stCursor||(this.stCursor=window.getComputedStyle(this.cEl).cursor,this.stCursor||(this.stCursor="auto")),this.svCursorData)return this.cEl.style.cursor=this.svCursorData,!0;if(!d)return!1;var t=this.size+2;d.width=t,d.height=t,f.clearRect(0,0,this.size,this.size),f.strokeStyle="rgba(255, 255, 255, 1)",f.beginPath(),f.lineWidth=2,f.arc(t/2,t/2,this.size/2,0,2*n),f.stroke(),f.closePath();var e=t,r=d.toDataURL();return this.svCursorData="url("+r+") "+e/2+" "+e/2+", auto",!!this.svCursorData&&(this.cEl.style.cursor=this.svCursorData,-1===this.cEl.style.cursor.indexOf(r)&&(this.svCursorData="crosshair",this.cEl.style.cursor="crosshair"),!0)},Y.initStandartCursor=function(){this.stCursor&&(Y.curType=0,this.cEl.style.cursor=this.stCursor)},Y.updateCursor=function(t){r&&(De.cursorLock||(e.isDotIn(t)?Y.initSvCursor():Y.initStandartCursor()))},this.popUpClose=function(t){if(!1!==b.tag){if(t){if(t.target==v||t.target==i)return!1;if(t.target==b.tag)return!1}b.tag.style.display="none",De.activePopUp==P&&(De.activePopUp=!1)}},this.popUpShow=function(t){if(!1!==b.tag){if(p.popupshow)if(!(0,p.popupshow)(P,t))return;De.popupEventsInclude||(W(document,"click",(function(t){return!!De.activePopUp&&De.activePopUp.popUpClose(t)}),"popup_close_"),W(window,"resize",(function(t){if(De.activePopUp)return De.activePopUp.popUpShow(t)}),"popup_resize_"),De.popupEventsInclude=!0),De.activePopUp&&De.activePopUp.popUpClose(!1);var e=P.getCanvas().width,n=P.getAlphaFig();n&&(e-=n.width+n.padding);var r=window.getComputedStyle(b.tag),o=parseInt(r.paddingBottom)+parseInt(r.paddingTop);o<=0&&(o=0);var i=v.getBoundingClientRect(),s=i.top+(window.scrollY||window.pageYOffset||document.body.scrollTop)-o,a=i.left+(window.scrollX||window.pageXOffset||document.body.scrollLeft);return b.tag.style.top=s-e-b.margin+"px",b.tag.style.left=a+"px",b.tag.style.display="block",De.activePopUp=P,!1}},this.setHueByDot=function(t){var e=Z(t,I.pos)+I.startAngle;(e<0&&(e=360+e),_.h=e/360,w=z(_.h,_.s,_.v),M=K(w),it(),p.change)&&(0,p.change)(P);tt(),g=!1,at()},this.setColorForColorSaver=function(t,e){var n=U(t,!0);if(n){var r=P.getColorSaver(e);return r.selected?this.setColorByHex(t,!1):(r.color=n.h,at()),!0}},this.setColor=function(t,e){P.setColorByHex(t,e)},this.setColorByHex=function(t,n){n||(n=!1);var r=T;if(!1!==t){if(!t||!t.length)return;var o=U(t,!0);if(!o)return;t=o.h,l&&(r=o.a)}else t=M;if(l&&t==M&&g&&r!=T)return T=r,void at();if(!M||t!=M||!g){T=r,w=q(t),M=t,_=G(w);var i=e.svToDot(_);if(_.x=i.x,_.y=i.y,g=!1,it(),at(),p.change)(0,p.change)(P);tt(n)}},this.setAlphaByDot=function(t){(T=$.dotToAlpha(t),p.change)&&(0,p.change)(P);tt(),at()},this.setAlpha=function(t){T=t,tt(),at()},this.setColorByDot=function(t){var n=e.dotToSv(t);(_.s=n.s,_.v=n.v,_.x=t.x,_.y=t.y,_.s>1&&(_.s=1),_.s<0&&(_.s=0),_.v>1&&(_.v=1),_.v<0&&(_.v=0),w=z(_.h,_.s,_.v),M=K(w),it(),p.change)&&(0,p.change)(P);tt(),at()},this.mouseOutEvent=function(t){Y.curType>0&&!De.cursorLock&&Y.initStandartCursor()},this.mouseMoveRest=function(t){if(!c&&u){u=!1;var e=rt(t);if(Y.updateCursor(e),requestAnimationFrame((function(){u=!0})),p.mousemoverest)(0,p.mousemoverest)(t,P,e)}},this.touchMoveEvent=function(t){c&&event.preventDefault()},this.mouseDownEvent=function(t){t.preventDefault();var n,r=!1,o=rt(t);if(I.isDotIn(o))c="wheel",P.setHueByDot(o),n=function(t){P.wheelMouseMove(t,o)},r=function(t){De.cursorLock=!1,P.wheelMouseUp(t,o)};else if(e.isDotIn(o))c="sv",P.setColorByDot(o),n=function(t){P.svMouseMove(t,o)},r=function(t){De.cursorLock=!1,P.svMouseUp(t,o)};else if(l&&$.isDotIn(o))c="alpha",P.setAlphaByDot(o),n=function(t){P.alphaMouseMove(t,o)},r=function(t){De.cursorLock=!1,P.alphaMouseUp(t,o)};else if(N&&N.isDotIn(o))P.setMethod();else if(L.length)for(var i=0;i<=L.length-1;++i)if(L[i].isDotIn(o)){ot(i);break}n&&r&&(nt(),De.cursorLock=P,W(document,"mouseup",r,"action_process_"),W(document,"mousemove",n,"action_process_"),W(document,"touchend",r,"action_process_"),W(document,"touchmove",n,"action_process_"))},this.wheelMouseMove=function(t,e){if(t.preventDefault(),c&&u){u=!1;var n=rt(t);if(requestAnimationFrame((function(){u=!0})),P.setHueByDot(n),p.mousemoveh)(0,p.mousemoveh)(t,P,n)}},this.wheelMouseUp=function(t,e){if(t.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),et(),c=!1,g=!1,at();var n=rt(t);if(Y.updateCursor(n),p.mouseuph)(0,p.mouseuph)(t,P,n)}},this.alphaMouseMove=function(t,e){if(t.preventDefault(),c&&u){u=!1;var n=rt(t);if(n=$.limitDotPosition(n),requestAnimationFrame((function(){u=!0})),P.setAlphaByDot(n),p.mousemovealpha)(0,p.mousemovealpha)(t,P,n)}},this.alphaMouseUp=function(t,e){if(t.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),et(),c=!1;var n=rt(t);if(Y.updateCursor(n),p.mouseupalpha)(0,p.mouseupalpha)(t,P,n)}},this.svMouseMove=function(t,n){if(t.preventDefault(),c&&u){u=!1;var r=rt(t);if(r=e.limitDotPosition(r),requestAnimationFrame((function(){u=!0})),P.setColorByDot(r),p.mousemovesv)(0,p.mousemovesv)(t,P,r)}},this.svMouseUp=function(t,e){if(t.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),et(),c=!1;var n=rt(t);if(Y.updateCursor(n),l&&(g=!1,at()),p.mouseupsv)(0,p.mouseupsv)(t,P,n)}},this.addUserEvent=function(t,e){return p[t]=e,!0},this.removeUserEvent=function(t){return!!p[t]&&(p[t]=null,!0)},this.getCanvas=function(){return!!s&&i},this.getCtx=function(){return s||!1},this.getInput=function(){return v},this.getSvFig=function(){return e},this.getSvFigCursor=function(){return o},this.getWheel=function(){return I},this.getWheelCursor=function(){return B},this.getCurColorHsv=function(){return _},this.getCurColorRgb=function(){return w},this.getCurColorHex=function(){return M},this.getCurColorRgba=function(){return{r:w.r,g:w.g,b:w.b,a:T}},this.getCurAlpha=function(){return T},this.getAlphaFig=function(){return!!l&&$},this.getPopup=function(){return b},this.getSize=function(){return C},this.getColorSaver=function(t){for(var e=0;e<=L.length-1;++e)if(!t&&L[e].selected||L[e].align==t)return L[e].rgb=q(L[e].color),L[e].hsv=G(L[e].rgb.r,L[e].rgb.g,L[e].rgb.b),L[e]},this.setColorSaver=function(t){if(!t)return!1;for(var e=0;e<=L.length-1;++e)if(L[e].align==t)return ot(e),L[e]},this.updateView=function(t){return!!s&&(t&&(I.imageData=null,e.imageData=null,m=null),g=!1,Q(),at(),!0)},this.resize=function(t,n){return!!s&&(t==C&&!n||(g=!1,I.imageData=null,e.imageData=null,m=null,C=t,Q(),P.setColorByHex(!1),!1))},this.syncSize=function(t){if(!R)return!1;var e=F(R);return e&&P.resize(e),!1},this.setMethod=function(t){if(t||(t="triangle","triangle"==a&&(t="quad")),t==a)return!1;if("quad"!=a&&"triangle"!=a)return!1;("quad"==(a=t)&&(e=H()),"triangle"==a&&(e=j()),P.resize(C,!0),p.setmethod)&&(0,p.setmethod)(P,a);return!0},this.destroy=function(){if(!P)return!1;Y.curType>0&&(De.cursorLock=!1,Y.initStandartCursor()),c&&(V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),c=!1),b.tag&&V(v,"click","popup_"),v&&(V(v,"click","input_edit_"),V(v,"change","input_edit_"),V(v,"keyup","input_edit_"),V(v,"keypress","input_edit_")),De.popupEventsInclude&&h.popup_close_click&&(De.activePopUp&&De.activePopUp.popUpClose(!1),V(document,"click","popup_close_"),V(window,"resize","popup_resize_"),De.popupEventsInclude=!1),I.imageData=null,e.imageData=null,m=null,d=null,E&&E.parentNode&&E.parentNode.removeChild(E),R&&V(window,"resize","canvas_"),nt(),P=null},function(t){var o="",c="";if(void 0!==t.alpha_slider&&(t.alphaSlider=t.alpha_slider),void 0!==t.input_color&&(t.inputColor=t.input_color),void 0!==t.input_format&&(t.inputFormat=t.input_format),t.input&&"object"!=typeof t.input?(t.input=document.getElementById(t.input),v=t.input):"object"==typeof t.input&&(v=t.input),void 0!==t.changeCursor&&(r=t.changeCursor),void 0!==t.alpha&&(T=t.alpha),void 0!==t.alphaSlider&&(l=t.alphaSlider),void 0!==t.inputColor&&(y=t.inputColor),void 0!==t.inputFormat&&(S=t.inputFormat),t.userEvents&&(p=t.userEvents),t.place&&"object"!=typeof t.place&&(c=t.place,t.place=document.getElementById(t.place)),t.place)E=t.place;else if(v){b.tag=document.createElement("div"),b.tag.className="popup-kelly-color",t.popupClass?b.tag.className=t.popupClass:(b.tag.className="popup-kelly-color",b.tag.style.position="absolute",b.tag.style.bottom="0px",b.tag.style.left="0px",b.tag.style.display="none",b.tag.style.backgroundColor="#e1e1e1",b.tag.style.border="1px solid #bfbfbf",b.tag.style.boxShadow="7px 7px 14px -3px rgba(0,0,0,0.24)",b.tag.style.borderTopLeftRadius="4px",b.tag.style.borderTopRightRadius="4px",b.tag.style.borderBottomLeftRadius="4px",b.tag.style.borderBottomRightRadius="4px",b.tag.style.padding="12px",b.tag.style.boxSizing="content-box"),E=b.tag,document.getElementsByTagName("body")[0].appendChild(b.tag),W(v,"click",(function(t){return P.popUpShow(t)}),"popup_")}else o+='| "place" ('+c+") not not found";var u=!1;if(t.color?u=U(t.color):v&&v.value&&(u=U(v.value)),u&&(M=u.h,l&&(T=u.a)),!t.method||"triangle"!=t.method&&"quad"!=t.method||(a=t.method),function(){if(!E)return!1;"CANVAS"!=E.tagName?(i=document.createElement("CANVAS"),E.appendChild(i)):i=E;void 0!==window.G_vmlCanvasManager&&(i=window.G_vmlCanvasManager.initElement(i),d=window.G_vmlCanvasManager.initElement(d));return!(!i.getContext||!i.getContext("2d"))&&(s=i.getContext("2d"),f=d.getContext("2d"),!0)}()||(o+=" | cant init canvas context"),t.resizeWith&&("object"!=typeof t.resizeWith&&"boolean"!=typeof t.resizeWith&&(t.resizeWith=document.getElementById(t.resizeWith)),R=!0===t.resizeWith?i:t.resizeWith,t.resizeSide&&(D=t.resizeSide),R&&(F(R)&&(t.size=F(R)),W(window,"resize",(function(t){return P.syncSize(t)}),"canvas_"))),t.size&&t.size>0&&(C=t.size),o)"undefined"!=typeof console&&console.log("KellyColorPicker : "+o);else{if("quad"==a&&(e=H()),"triangle"==a&&(e=j()),v){var h=function(t){(t=t||window.event).target||(t.target=t.srcElement),P.setColorByHex(t.target.value,!0)};W(v,"click",h,"input_edit_"),W(v,"change",h,"input_edit_"),W(v,"keyup",h,"input_edit_"),W(v,"keypress",h,"input_edit_")}t.colorSaver&&(O("left",!0),O("right")),t.methodSwitch&&((N=new Object).size,N.sizePercentage=10,N.position,N.paddingY=4,N.paddingX=4,N.imageData=new Array,N.lineWidth=2,N.color="#c1ebf5",N.updateSize=function(){this.size=parseInt(C-C/100*(100-this.sizePercentage)),this.size<16&&(this.size=16),this.position={x:this.paddingX,y:this.paddingY}},N.draw=function(){if(this.imageData[a])s.putImageData(this.imageData[a],this.position.x,this.position.y);else{var t=q(this.color);d.width=this.size,d.height=this.size,f.clearRect(0,0,this.size,this.size),f.beginPath();var e,r="triangle";if("triangle"==a&&(r="quad"),f.beginPath(),this.size<35)var o=i=d.width/2;else{var i=d.width/2-this.lineWidth;f.arc(this.size/2,this.size/2,i,0,2*n),f.strokeStyle="rgba(0, 0, 0, 0.4)",f.lineWidth=this.lineWidth,f.stroke(),o=i-6,f.closePath(),f.beginPath(),f.arc(this.size/2,this.size/2,o,0,2*n),f.strokeStyle="rgba(0, 0, 0, 0.4)",f.lineWidth=this.lineWidth,f.stroke(),f.closePath()}if(f.beginPath(),"quad"==r){var l=2*o-4;e=Math.floor(l/Math.sqrt(2));var c=(this.size-e)/2;(u={x:c+e,y:c+e/2}).y=u.y-e/2,f.moveTo(u.x,u.y),f.lineTo(u.x-e,u.y),f.lineTo(u.x-e,u.y+e),f.lineTo(u.x,u.y+e)}else{e=Math.floor((2*o-4)*Math.sin(J(60)));var u={x:2*o+(i-o),y:this.size/2},h=Math.sqrt(3)/2*e;f.moveTo(u.x,u.y),f.lineTo(u.x-h,u.y-e/2),f.lineTo(u.x-h,u.y+e/2),f.lineTo(u.x,u.y)}f.lineTo(u.x,u.y),f.fillStyle="rgba("+t.r+","+t.g+","+t.b+", 1)",f.fill(),f.lineWidth=this.lineWidth,f.strokeStyle="rgba(0, 0, 0, 0.6)",f.stroke(),f.closePath(),this.imageData[a]=f.getImageData(0,0,d.width,d.width),s.drawImage(d,this.position.x,this.position.y)}},N.isDotIn=function(t){return t.x>=this.position.x&&t.x<=this.position.x+this.size&&t.y>=this.position.y&&t.y<=this.position.y+this.size}),et(),Q(),P.setColorByHex(!1)}}(t)}function Le(t){let e,n,r,o,i,s,a,c,u,h,g,S,_,E,P,C,M,T;return{c(){e=m("div"),n=m("p"),r=v("The color for "),o=v(t[4]),i=v(":"),s=y(),a=m("canvas"),c=m("br"),u=y(),h=m("input"),g=y(),S=m("button"),_=v("Select"),E=y(),P=m("button"),C=v("Quit"),k(a,"id","picker"),k(h,"id","color"),h.value=t[0],w(S,"background-color",t[1]),w(S,"color",t[2]),k(S,"class","svelte-1mpxtnf"),w(P,"background-color",t[1]),w(P,"color",t[2]),k(P,"class","svelte-1mpxtnf"),k(e,"id","colorPicker"),w(e,"background-color",t[1]),w(e,"color",t[2]),k(e,"class","svelte-1mpxtnf")},m(l,f){d(l,e,f),p(e,n),p(n,r),p(n,o),p(n,i),p(e,s),p(e,a),t[12](a),p(e,c),p(e,u),p(e,h),t[13](h),p(e,g),p(e,S),p(S,_),p(e,E),p(e,P),p(P,C),M||(T=[b(h,"keyup",t[14]),b(S,"click",t[15]),b(P,"click",t[16])],M=!0)},p(t,n){16&n&&x(o,t[4]),1&n&&h.value!==t[0]&&(h.value=t[0]),2&n&&w(S,"background-color",t[1]),4&n&&w(S,"color",t[2]),2&n&&w(P,"background-color",t[1]),4&n&&w(P,"color",t[2]),2&n&&w(e,"background-color",t[1]),4&n&&w(e,"color",t[2])},d(n){n&&f(e),t[12](null),t[13](null),M=!1,l(T)}}}function Ne(t){let e,n=t[3]&&Le(t);return{c(){n&&n.c(),e=S()},m(t,r){n&&n.m(t,r),d(t,e,r)},p(t,[r]){t[3]?n?n.p(t,r):(n=Le(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i,o:i,d(t){n&&n.d(t),t&&f(e)}}}function Ae(t,e,n){let r,o,{color:i=""}=e,{id:s=0}=e,{background:a="black"}=e,{textColor:l="white"}=e,{show:c=!1}=e,{item:u="circle"}=e,{explainText:h=""}=e,p={};const d=L();function f(t,e){d(t,{data:e})}function g(){f("quitColorPicker",{})}function m(){document.body.style.cursor="default",f("colorChanged",{color:o.value,id:s})}function v(t){"Enter"===t.key&&(t.preventDefault(),t.stopPropagation(),m())}D(()=>{c&&(p=new De({place:r,input:o,colorSaver:!0,methodSwitch:!0}))});return t.$$set=t=>{"color"in t&&n(0,i=t.color),"id"in t&&n(10,s=t.id),"background"in t&&n(1,a=t.background),"textColor"in t&&n(2,l=t.textColor),"show"in t&&n(3,c=t.show),"item"in t&&n(11,u=t.item),"explainText"in t&&n(4,h=t.explainText)},[i,a,l,c,h,r,o,g,m,v,s,u,function(t){A[t?"unshift":"push"](()=>{r=t,n(5,r)})},function(t){A[t?"unshift":"push"](()=>{o=t,n(6,o)})},t=>{v(t)},t=>{m()},t=>{g()}]}De.cursorLock=!1,De.activePopUp=!1,De.popupEventsInclude=!1,De.attachToInputByClass=function(t,e){for(var n=new Array,r=document.getElementsByClassName(t),o=0;o<r.length;o++)e?e.input=r[o]:e={input:r[o],size:150},n.push(new De(e));return n};class Oe extends rt{constructor(t){super(),nt(this,t,Ae,Ne,u,{color:0,id:10,background:1,textColor:2,show:3,item:11,explainText:4})}}function Ie(t,e,n){const r=t.slice();return r[25]=e[n],r[27]=n,r}function Be(t){let e,n,r,o,i,s,a,l,c,u,h=t[0].taskpaper,x=[];for(let e=0;e<h.length;e+=1)x[e]=$e(Ie(t,h,e));let _=t[4]&&Ye(t);return{c(){e=m("div"),n=m("label"),n.textContent="List the TaskPaper Files:",r=y();for(let t=0;t<x.length;t+=1)x[t].c();o=y(),i=m("button"),s=v("Create a New TaskPaper List"),a=y(),_&&_.c(),l=S(),k(n,"class","styleLabel svelte-5mxuec"),k(e,"class","fileListWrap svelte-5mxuec"),k(i,"class","buttonStyle svelte-5mxuec"),w(i,"background-color",t[1].editorBackground),w(i,"color",t[1].textcolor)},m(h,f){d(h,e,f),p(e,n),p(e,r);for(let t=0;t<x.length;t+=1)x[t].m(e,null);d(h,o,f),d(h,i,f),p(i,s),d(h,a,f),_&&_.m(h,f),d(h,l,f),c||(u=b(i,"click",t[16]),c=!0)},p(t,n){if(385&n){let r;for(h=t[0].taskpaper,r=0;r<h.length;r+=1){const o=Ie(t,h,r);x[r]?x[r].p(o,n):(x[r]=$e(o),x[r].c(),x[r].m(e,null))}for(;r<x.length;r+=1)x[r].d(1);x.length=h.length}2&n&&w(i,"background-color",t[1].editorBackground),2&n&&w(i,"color",t[1].textcolor),t[4]?_?_.p(t,n):(_=Ye(t),_.c(),_.m(l.parentNode,l)):_&&(_.d(1),_=null)},d(t){t&&f(e),g(x,t),t&&f(o),t&&f(i),t&&f(a),_&&_.d(t),t&&f(l),c=!1,u()}}}function $e(t){let e,n,r,o,i,s,a,c,u,h,g,S,_,w=t[25].name+"",E=t[25].loc+"";function P(...e){return t[14](t[25],t[27],...e)}function C(...e){return t[15](t[25],...e)}return{c(){e=m("div"),n=m("span"),n.textContent="✏️",r=y(),o=m("label"),i=v(w),s=y(),a=m("label"),c=v(E),u=y(),h=m("span"),h.textContent="❌",g=y(),k(n,"class","editSpan svelte-5mxuec"),k(o,"class","listFileLocLabel svelte-5mxuec"),k(a,"class","listFileLocDirLabel svelte-5mxuec"),k(h,"class","deleteSpan svelte-5mxuec"),k(e,"class","listFileLoc svelte-5mxuec")},m(t,l){d(t,e,l),p(e,n),p(e,r),p(e,o),p(o,i),p(e,s),p(e,a),p(a,c),p(e,u),p(e,h),p(e,g),S||(_=[b(n,"click",P),b(h,"click",C)],S=!0)},p(e,n){t=e,1&n&&w!==(w=t[25].name+"")&&x(i,w),1&n&&E!==(E=t[25].loc+"")&&x(c,E)},d(t){t&&f(e),S=!1,l(_)}}}function Ye(t){let e,n,r,o,i,s,a,c,u,h,g,S,x,E,P,C;function M(t,e){return""!==t[3]?Ue:Fe}let T=M(t),R=T(t);return{c(){e=m("div"),n=m("label"),n.textContent="Name",r=y(),o=m("input"),i=y(),s=m("label"),s.textContent="Location",a=y(),R.c(),c=y(),u=m("div"),h=m("button"),g=v("Save"),S=y(),x=m("button"),E=v("Cancel"),k(n,"class","svelte-5mxuec"),k(o,"type","text"),k(o,"name","name"),w(o,"background-color",t[1].editorBackground),w(o,"color",t[1].textcolor),k(o,"class","svelte-5mxuec"),k(s,"class","svelte-5mxuec"),k(h,"class","buttonStyle svelte-5mxuec"),w(h,"background-color",t[1].editorBackground),w(h,"color",t[1].textcolor),k(x,"class","buttonStyle svelte-5mxuec"),w(x,"background-color",t[1].editorBackground),w(x,"color",t[1].textcolor),k(u,"class","buttonRow"),k(e,"id","NewTaskPaperDiv"),w(e,"background-color",t[1].editorBackground),w(e,"color",t[1].textcolor),k(e,"class","svelte-5mxuec")},m(l,f){d(l,e,f),p(e,n),p(e,r),p(e,o),_(o,t[2]),p(e,i),p(e,s),p(e,a),R.m(e,null),p(e,c),p(e,u),p(u,h),p(h,g),p(u,S),p(u,x),p(x,E),P||(C=[b(o,"input",t[17]),b(h,"click",t[20]),b(x,"click",t[21])],P=!0)},p(t,n){2&n&&w(o,"background-color",t[1].editorBackground),2&n&&w(o,"color",t[1].textcolor),4&n&&o.value!==t[2]&&_(o,t[2]),T===(T=M(t))&&R?R.p(t,n):(R.d(1),R=T(t),R&&(R.c(),R.m(e,c))),2&n&&w(h,"background-color",t[1].editorBackground),2&n&&w(h,"color",t[1].textcolor),2&n&&w(x,"background-color",t[1].editorBackground),2&n&&w(x,"color",t[1].textcolor),2&n&&w(e,"background-color",t[1].editorBackground),2&n&&w(e,"color",t[1].textcolor)},d(t){t&&f(e),R.d(),P=!1,l(C)}}}function Fe(t){let e,n,r;return{c(){e=m("input"),k(e,"type","file"),k(e,"name","location"),w(e,"background-color",t[1].editorBackground),w(e,"color",t[1].textcolor),k(e,"class","svelte-5mxuec")},m(o,i){d(o,e,i),n||(r=b(e,"change",t[19]),n=!0)},p(t,n){2&n&&w(e,"background-color",t[1].editorBackground),2&n&&w(e,"color",t[1].textcolor)},d(t){t&&f(e),n=!1,r()}}}function Ue(t){let e,n,r;return{c(){e=m("input"),k(e,"type","text"),k(e,"name","location"),w(e,"background-color",t[1].editorBackground),w(e,"color",t[1].textcolor),k(e,"class","svelte-5mxuec")},m(o,i){d(o,e,i),_(e,t[3]),n||(r=b(e,"input",t[18]),n=!0)},p(t,n){2&n&&w(e,"background-color",t[1].editorBackground),2&n&&w(e,"color",t[1].textcolor),8&n&&e.value!==t[3]&&_(e,t[3])},d(t){t&&f(e),n=!1,r()}}}function He(t){let e,n,r,o,s,a,c,u,h,g,v,S,x,_,w,E=t[0].UseTaskPaper&&Be(t);return{c(){e=m("div"),n=m("h2"),n.textContent="Todos",r=y(),o=m("div"),s=m("label"),s.textContent="Use NotePlan Todos?",a=y(),c=m("input"),u=y(),h=m("div"),g=m("label"),g.textContent="Use TaskPaper style Todos?",v=y(),S=m("input"),x=y(),E&&E.c(),k(s,"class","styleLabel svelte-5mxuec"),k(c,"class","PrefCheck svelte-5mxuec"),k(c,"type","checkbox"),k(o,"class","labelRadialHolder svelte-5mxuec"),k(g,"class","styleLabel svelte-5mxuec"),k(S,"class","PrefCheck svelte-5mxuec"),k(S,"type","checkbox"),k(h,"class","labelRadialHolder svelte-5mxuec")},m(i,l){d(i,e,l),p(e,n),p(e,r),p(e,o),p(o,s),p(o,a),p(o,c),c.checked=t[0].UseNotePlan,p(e,u),p(e,h),p(h,g),p(h,v),p(h,S),S.checked=t[0].UseTaskPaper,p(e,x),E&&E.m(e,null),_||(w=[b(c,"change",t[10]),b(c,"change",t[11]),b(S,"change",t[12]),b(S,"change",t[13])],_=!0)},p(t,[n]){1&n&&(c.checked=t[0].UseNotePlan),1&n&&(S.checked=t[0].UseTaskPaper),t[0].UseTaskPaper?E?E.p(t,n):(E=Be(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},i:i,o:i,d(t){t&&f(e),E&&E.d(),_=!1,l(w)}}}function je(t,e,n){let{styles:r={}}=e,{preferences:o={}}=e;const i=L();let s=-1,a="",l="",c=!1;function u(){var t,e;t="changeTodos",e={taskpaper:o.taskpaper,UseTaskPaper:o.UseTaskPaper,UseNotePlan:o.UseNotePlan},i(t,{data:e})}function h(t,e){n(4,c=!0),n(2,a=t),n(3,l=e),s=-1}function p(t){n(4,c=!1);const e=o.taskpaper.findIndex(e=>e.name===t);o.taskpaper.splice(e,1),n(0,o),s=-1,u()}function d(t,e,r){n(4,c=!0),n(2,a=t),n(3,l=e),s=r,u()}function f(t,e){if(-1===s){const r=o.taskpaper.find(t=>{t.name});n(0,r>=0?o.taskpaper[r]={name:t,loc:e}:o.taskpaper=o.taskpaper.concat({name:t,loc:e}),o)}else n(0,o.taskpaper[s]={name:t,loc:e},o);n(4,c=!1),s=-1,u()}return t.$$set=t=>{"styles"in t&&n(1,r=t.styles),"preferences"in t&&n(0,o=t.preferences)},[o,r,a,l,c,u,h,p,d,f,function(){o.UseNotePlan=this.checked,n(0,o)},()=>{u()},function(){o.UseTaskPaper=this.checked,n(0,o)},()=>{u()},(t,e,n)=>{d(t.name,t.loc,e)},(t,e)=>{p(t.name)},t=>{h("","")},function(){a=this.value,n(2,a)},function(){l=this.value,n(3,l)},function(){l=this.value,n(3,l)},t=>{f(a,l)},t=>{n(4,c=!1)}]}class We extends rt{constructor(t){super(),nt(this,t,je,He,u,{styles:1,preferences:0})}}function Ve(t){let e,n,r,o,s,a,c,u,h,g,v,S,x,_;return{c(){e=m("div"),n=m("h2"),n.textContent="Node-Red",r=y(),o=m("div"),s=m("label"),s.textContent="Auto Launch Node-Red?",a=y(),c=m("input"),u=y(),h=m("div"),g=m("label"),g.textContent="Dashboard configured?",v=y(),S=m("input"),k(s,"class","styleLabel svelte-n1ihpd"),k(c,"class","PrefCheck svelte-n1ihpd"),k(c,"type","checkbox"),k(o,"class","labelRadialHolder svelte-n1ihpd"),k(g,"class","styleLabel svelte-n1ihpd"),k(S,"class","PrefCheck svelte-n1ihpd"),k(S,"type","checkbox"),k(h,"class","labelRadialHolder svelte-n1ihpd")},m(i,l){d(i,e,l),p(e,n),p(e,r),p(e,o),p(o,s),p(o,a),p(o,c),c.checked=t[0].REDAuto,p(e,u),p(e,h),p(h,g),p(h,v),p(h,S),S.checked=t[0].REDDashboard,x||(_=[b(c,"change",t[3]),b(c,"change",t[4]),b(S,"change",t[5]),b(S,"change",t[6])],x=!0)},p(t,[e]){1&e&&(c.checked=t[0].REDAuto),1&e&&(S.checked=t[0].REDDashboard)},i:i,o:i,d(t){t&&f(e),x=!1,l(_)}}}function ze(t,e,n){let{styles:r={}}=e,{preferences:o={}}=e;const i=L();function s(){var t,e;t="changeTodos",e={auto:o.REDAuto,dashboard:o.REDDashboard},i(t,{data:e})}return t.$$set=t=>{"styles"in t&&n(2,r=t.styles),"preferences"in t&&n(0,o=t.preferences)},[o,s,r,function(){o.REDAuto=this.checked,n(0,o)},()=>{s()},function(){o.REDDashboard=this.checked,n(0,o)},()=>{s()}]}class Ge extends rt{constructor(t){super(),nt(this,t,ze,Ve,u,{styles:2,preferences:0})}}function qe(t,e,n){const r=t.slice();return r[75]=e[n],r}function Ke(t,e,n){const r=t.slice();return r[78]=e[n],r[80]=n,r}function Je(t,e,n){const r=t.slice();return r[81]=e[n],r[80]=n,r}function Xe(t,e,n){const r=t.slice();return r[75]=e[n],r}function Ze(t,e,n){const r=t.slice();return r[72]=e[n],r[74]=n,r}function Qe(t,e,n){const r=t.slice();return r[72]=e[n],r}function tn(t){let e,n,r,o,i=t[72].name+"";function s(...e){return t[36](t[72],...e)}return{c(){e=m("li"),n=v(i),k(e,"class","tabName notCurrent svelte-1fximu5")},m(t,i){d(t,e,i),p(e,n),r||(o=b(e,"click",s),r=!0)},p(e,n){t=e},d(t){t&&f(e),r=!1,o()}}}function en(t){let e,n,r=t[72].name+"";return{c(){e=m("li"),n=v(r),k(e,"class","tabName current svelte-1fximu5")},m(t,r){d(t,e,r),p(e,n)},p:i,d(t){t&&f(e)}}}function nn(t){let e;function n(t,e){return t[72].name===t[6]?en:tn}let r=n(t),o=r(t);return{c(){o.c(),e=S()},m(t,n){o.m(t,n),d(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&f(e)}}}function rn(t){let e,n,r,o,i;const s=[ln,an,sn,on],a=[];return~(n=function(t,e){return"General"===t[72].name?0:"Theme"===t[72].name?1:"Todos"===t[72].name?2:"Node-Red"===t[72].name?3:-1}(t))&&(r=a[n]=s[n](t)),{c(){e=m("div"),r&&r.c(),o=y(),k(e,"class","prefListPanel svelte-1fximu5")},m(t,r){d(t,e,r),~n&&a[n].m(e,null),p(e,o),i=!0},p(t,e){r&&r.p(t,e)},i(t){i||(J(r),i=!0)},o(t){X(r),i=!1},d(t){t&&f(e),~n&&a[n].d()}}}function on(t){let e,n;return e=new Ge({props:{preferences:t[1],styles:t[0]}}),e.$on("changeNodeRed",t[64]),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.preferences=t[1]),1&n[0]&&(r.styles=t[0]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function sn(t){let e,n;return e=new We({props:{preferences:t[1],styles:t[0]}}),e.$on("changeTodos",t[63]),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.preferences=t[1]),1&n[0]&&(r.styles=t[0]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function an(t){let e,n,r,o,i,s,a,c,u,h,S,_,P,C,M,T,R,D,L,N,A,O,I,B,$,Y,F,H,j,W,V,z,G,q,K,Z,nt,rt,ot,it,st,at,lt,ct,ut,ht,pt,dt,ft,gt,mt,vt,yt,St,bt,kt,xt,_t,wt,Et,Pt,Ct,Mt,Tt,Rt,Dt,Lt,Nt,At,Ot,It,Bt,$t,Yt,Ft,Ut,Ht,jt,Wt,Vt,zt,Gt,qt,Kt,Jt,Xt,Zt,Qt,te,ee,ne,re,oe,ie,se,ae,le,ce,ue,he,pe,de,fe,ge,me,ve,ye,Se,be,ke,xe,_e,we,Ee,Pe,Ce,Me,Te,Re,De,Le,Ne,Ae,Ie,Be,$e,Ye,Fe,Ue,He,je,We,Ve,ze,Ge,Xe,Ze,Qe,tn,en,nn,rn,on,sn,an,ln,hn=t[0].editorBackground+"",gn=t[0].textcolor+"",mn=t[0].appBackground+"",vn=t[0].shadowColor+"",yn=t[0].scriptMenuBackground+"",Sn=t[0].scriptMenuTextColor+"",bn=t[0].selectionBackgroundColor+"",kn=t[0].selectionColor+"",xn=t[0].selectionMenuColor+"",_n=t[0].selectionMenuBackgroundColor+"",wn=t[0].scriptMenuItemSystem+"",En=t[0].scriptMenuItemUser+"";function Pn(t,e){return"New"===t[1].style||t[7]?un:cn}let Cn=Pn(t),Mn=Cn(t),Tn=t[0].buttons,Rn=[];for(let e=0;e<Tn.length;e+=1)Rn[e]=pn(Je(t,Tn,e));let Dn=t[0].matchStyle,Ln=[];for(let e=0;e<Dn.length;e+=1)Ln[e]=dn(Ke(t,Dn,e));let Nn=t[15](),An=[];for(let e=0;e<Nn.length;e+=1)An[e]=fn(qe(t,Nn,e));return on=new Oe({props:{item:t[8],textColor:t[0].textcolor,background:t[0].editorBackground,explainText:t[9],color:t[3],id:t[4],show:t[5]}}),on.$on("colorChanged",t[61]),on.$on("quitColorPicker",t[62]),{c(){e=m("h2"),e.textContent="Theme",n=y(),r=m("div"),o=m("label"),o.textContent="Name of theme:",i=y(),Mn.c(),s=y(),a=m("h3"),a.textContent="Circle Colors",c=y(),u=m("div");for(let t=0;t<Rn.length;t+=1)Rn[t].c();h=y(),S=m("h3"),S.textContent="Regular Expression Sub-Matches Colors",_=y(),P=m("div");for(let t=0;t<Ln.length;t+=1)Ln[t].c();C=y(),M=m("h3"),M.textContent="Various Other Colors",T=y(),R=m("div"),D=m("div"),L=m("label"),L.textContent="Editor Theme:",N=y(),A=m("select");for(let t=0;t<An.length;t+=1)An[t].c();O=y(),I=m("div"),B=m("label"),B.textContent="Editor Background",$=m("br"),Y=y(),F=m("div"),H=m("div"),j=y(),W=m("label"),V=v(hn),z=y(),G=m("div"),q=m("label"),q.textContent="Text Color",K=m("br"),Z=y(),nt=m("div"),rt=m("div"),ot=y(),it=m("label"),st=v(gn),at=y(),lt=m("div"),ct=m("label"),ct.textContent="Application Background",ut=m("br"),ht=y(),pt=m("div"),dt=m("div"),ft=y(),gt=m("label"),mt=v(mn),vt=y(),yt=m("div"),St=m("label"),St.textContent="Shadow Color",bt=m("br"),kt=y(),xt=m("div"),_t=m("div"),wt=y(),Et=m("label"),Pt=v(vn),Ct=y(),Mt=m("div"),Tt=m("label"),Tt.textContent="Script Menu Background",Rt=m("br"),Dt=y(),Lt=m("div"),Nt=m("div"),At=y(),Ot=m("label"),It=v(yn),Bt=y(),$t=m("div"),Yt=m("label"),Yt.textContent="Script Menu Text Color",Ft=m("br"),Ut=y(),Ht=m("div"),jt=m("div"),Wt=y(),Vt=m("label"),zt=v(Sn),Gt=y(),qt=m("div"),Kt=m("label"),Kt.textContent="Selection Background Color",Jt=m("br"),Xt=y(),Zt=m("div"),Qt=m("div"),te=y(),ee=m("label"),ne=v(bn),re=y(),oe=m("div"),ie=m("label"),ie.textContent="Selection Text Color",se=m("br"),ae=y(),le=m("div"),ce=m("div"),ue=y(),he=m("label"),pe=v(kn),de=y(),fe=m("div"),ge=m("label"),ge.textContent="Selection Menu Color",me=m("br"),ve=y(),ye=m("div"),Se=m("div"),be=y(),ke=m("label"),xe=v(xn),_e=y(),we=m("div"),Ee=m("label"),Ee.textContent="Selection Menu Background Color",Pe=m("br"),Ce=y(),Me=m("div"),Te=m("div"),Re=y(),De=m("label"),Le=v(_n),Ne=y(),Ae=m("div"),Ie=m("label"),Ie.textContent="System Script Menu Item",Be=m("br"),$e=y(),Ye=m("div"),Fe=m("div"),Ue=y(),He=m("label"),je=v(wn),We=y(),Ve=m("div"),ze=m("label"),ze.textContent="User Script Menu Item",Ge=m("br"),Xe=y(),Ze=m("div"),Qe=m("div"),tn=y(),en=m("label"),nn=v(En),rn=y(),Q(on.$$.fragment),k(r,"id","themeName"),k(r,"class","svelte-1fximu5"),k(u,"class","circlePickersWrap svelte-1fximu5"),k(P,"class","circlePickersWrap svelte-1fximu5"),w(L,"margin-top","7px"),k(A,"class","prefSelector svelte-1fximu5"),w(A,"background-color",t[0].editorBackground),w(A,"color",t[0].textcolor),void 0===t[0].editorTheme&&U(()=>t[47].call(A)),k(D,"id","themeName"),k(D,"class","svelte-1fximu5"),k(B,"class","styleLabel svelte-1fximu5"),k(H,"class","circlePicker svelte-1fximu5"),w(H,"background-color",t[0].editorBackground),w(H,"border-color","black"),w(H,"border-width","2px"),w(H,"border-style","solid"),k(W,"class","circlePickerLabel svelte-1fximu5"),k(F,"class","prefColorHolder svelte-1fximu5"),k(I,"class","prefColorDiv svelte-1fximu5"),k(q,"class","styleLabel svelte-1fximu5"),k(rt,"class","circlePicker svelte-1fximu5"),w(rt,"background-color",t[0].textcolor),k(it,"class","circlePickerLabel svelte-1fximu5"),k(nt,"class","prefColorHolder svelte-1fximu5"),k(G,"class","prefColorDiv svelte-1fximu5"),k(ct,"class","styleLabel svelte-1fximu5"),k(dt,"class","circlePicker svelte-1fximu5"),w(dt,"background-color",t[0].appBackground),k(gt,"class","circlePickerLabel svelte-1fximu5"),k(pt,"class","prefColorHolder svelte-1fximu5"),k(lt,"class","prefColorDiv svelte-1fximu5"),k(St,"class","styleLabel svelte-1fximu5"),k(_t,"class","circlePicker svelte-1fximu5"),w(_t,"background-color",t[0].shadowColor),k(Et,"class","circlePickerLabel svelte-1fximu5"),k(xt,"class","prefColorHolder svelte-1fximu5"),k(yt,"class","prefColorDiv svelte-1fximu5"),k(Tt,"class","styleLabel svelte-1fximu5"),k(Nt,"class","circlePicker svelte-1fximu5"),w(Nt,"background-color",t[0].scriptMenuBackground),k(Ot,"class","circlePickerLabel svelte-1fximu5"),k(Lt,"class","prefColorHolder svelte-1fximu5"),k(Mt,"class","prefColorDiv svelte-1fximu5"),k(Yt,"class","styleLabel svelte-1fximu5"),k(jt,"class","circlePicker svelte-1fximu5"),w(jt,"background-color",t[0].scriptMenuTextColor),k(Vt,"class","circlePickerLabel svelte-1fximu5"),k(Ht,"class","prefColorHolder svelte-1fximu5"),k($t,"class","prefColorDiv svelte-1fximu5"),k(Kt,"class","styleLabel svelte-1fximu5"),k(Qt,"class","circlePicker svelte-1fximu5"),w(Qt,"background-color",t[0].selectionBackgroundColor),k(ee,"class","circlePickerLabel svelte-1fximu5"),k(Zt,"class","prefColorHolder svelte-1fximu5"),k(qt,"class","prefColorDiv svelte-1fximu5"),k(ie,"class","styleLabel svelte-1fximu5"),k(ce,"class","circlePicker svelte-1fximu5"),w(ce,"background-color",t[0].selectionColor),k(he,"class","circlePickerLabel svelte-1fximu5"),k(le,"class","prefColorHolder svelte-1fximu5"),k(oe,"class","prefColorDiv svelte-1fximu5"),k(ge,"class","styleLabel svelte-1fximu5"),k(Se,"class","circlePicker svelte-1fximu5"),w(Se,"background-color",t[0].selectionMenuColor),k(ke,"class","circlePickerLabel svelte-1fximu5"),k(ye,"class","prefColorHolder svelte-1fximu5"),k(fe,"class","prefColorDiv svelte-1fximu5"),k(Ee,"class","styleLabel svelte-1fximu5"),k(Te,"class","circlePicker svelte-1fximu5"),w(Te,"background-color",t[0].selectionMenuBackgroundColor),k(De,"class","circlePickerLabel svelte-1fximu5"),k(Me,"class","prefColorHolder svelte-1fximu5"),k(we,"class","prefColorDiv svelte-1fximu5"),k(Ie,"class","styleLabel svelte-1fximu5"),k(Fe,"class","circlePicker svelte-1fximu5"),w(Fe,"background-color",t[0].scriptMenuItemSystem),k(He,"class","circlePickerLabel svelte-1fximu5"),k(Ye,"class","prefColorHolder svelte-1fximu5"),k(Ae,"class","prefColorDiv svelte-1fximu5"),k(ze,"class","styleLabel svelte-1fximu5"),k(Qe,"class","circlePicker svelte-1fximu5"),w(Qe,"background-color",t[0].scriptMenuItemUser),k(en,"class","circlePickerLabel svelte-1fximu5"),k(Ze,"class","prefColorHolder svelte-1fximu5"),k(Ve,"class","prefColorDiv svelte-1fximu5"),k(R,"id","variousOtherColorsDiv"),k(R,"class","svelte-1fximu5")},m(l,f){d(l,e,f),d(l,n,f),d(l,r,f),p(r,o),p(r,i),Mn.m(r,null),d(l,s,f),d(l,a,f),d(l,c,f),d(l,u,f);for(let t=0;t<Rn.length;t+=1)Rn[t].m(u,null);d(l,h,f),d(l,S,f),d(l,_,f),d(l,P,f);for(let t=0;t<Ln.length;t+=1)Ln[t].m(P,null);d(l,C,f),d(l,M,f),d(l,T,f),d(l,R,f),p(R,D),p(D,L),p(D,N),p(D,A);for(let t=0;t<An.length;t+=1)An[t].m(A,null);E(A,t[0].editorTheme),p(R,O),p(R,I),p(I,B),p(I,$),p(I,Y),p(I,F),p(F,H),p(F,j),p(F,W),p(W,V),p(R,z),p(R,G),p(G,q),p(G,K),p(G,Z),p(G,nt),p(nt,rt),p(nt,ot),p(nt,it),p(it,st),p(R,at),p(R,lt),p(lt,ct),p(lt,ut),p(lt,ht),p(lt,pt),p(pt,dt),p(pt,ft),p(pt,gt),p(gt,mt),p(R,vt),p(R,yt),p(yt,St),p(yt,bt),p(yt,kt),p(yt,xt),p(xt,_t),p(xt,wt),p(xt,Et),p(Et,Pt),p(R,Ct),p(R,Mt),p(Mt,Tt),p(Mt,Rt),p(Mt,Dt),p(Mt,Lt),p(Lt,Nt),p(Lt,At),p(Lt,Ot),p(Ot,It),p(R,Bt),p(R,$t),p($t,Yt),p($t,Ft),p($t,Ut),p($t,Ht),p(Ht,jt),p(Ht,Wt),p(Ht,Vt),p(Vt,zt),p(R,Gt),p(R,qt),p(qt,Kt),p(qt,Jt),p(qt,Xt),p(qt,Zt),p(Zt,Qt),p(Zt,te),p(Zt,ee),p(ee,ne),p(R,re),p(R,oe),p(oe,ie),p(oe,se),p(oe,ae),p(oe,le),p(le,ce),p(le,ue),p(le,he),p(he,pe),p(R,de),p(R,fe),p(fe,ge),p(fe,me),p(fe,ve),p(fe,ye),p(ye,Se),p(ye,be),p(ye,ke),p(ke,xe),p(R,_e),p(R,we),p(we,Ee),p(we,Pe),p(we,Ce),p(we,Me),p(Me,Te),p(Me,Re),p(Me,De),p(De,Le),p(R,Ne),p(R,Ae),p(Ae,Ie),p(Ae,Be),p(Ae,$e),p(Ae,Ye),p(Ye,Fe),p(Ye,Ue),p(Ye,He),p(He,je),p(R,We),p(R,Ve),p(Ve,ze),p(Ve,Ge),p(Ve,Xe),p(Ve,Ze),p(Ze,Qe),p(Ze,tn),p(Ze,en),p(en,nn),d(l,rn,f),tt(on,l,f),sn=!0,an||(ln=[b(A,"change",t[47]),b(A,"change",t[48]),b(H,"click",t[49]),b(rt,"click",t[50]),b(dt,"click",t[51]),b(_t,"click",t[52]),b(Nt,"click",t[53]),b(jt,"click",t[54]),b(Qt,"click",t[55]),b(ce,"click",t[56]),b(Se,"click",t[57]),b(Te,"click",t[58]),b(Fe,"click",t[59]),b(Qe,"click",t[60])],an=!0)},p(t,e){if(Cn===(Cn=Pn(t))&&Mn?Mn.p(t,e):(Mn.d(1),Mn=Cn(t),Mn&&(Mn.c(),Mn.m(r,null))),1&e[0]|2&e[1]){let n;for(Tn=t[0].buttons,n=0;n<Tn.length;n+=1){const r=Je(t,Tn,n);Rn[n]?Rn[n].p(r,e):(Rn[n]=pn(r),Rn[n].c(),Rn[n].m(u,null))}for(;n<Rn.length;n+=1)Rn[n].d(1);Rn.length=Tn.length}if(1&e[0]|1&e[1]){let n;for(Dn=t[0].matchStyle,n=0;n<Dn.length;n+=1){const r=Ke(t,Dn,n);Ln[n]?Ln[n].p(r,e):(Ln[n]=dn(r),Ln[n].c(),Ln[n].m(P,null))}for(;n<Ln.length;n+=1)Ln[n].d(1);Ln.length=Dn.length}if(32768&e[0]){let n;for(Nn=t[15](),n=0;n<Nn.length;n+=1){const r=qe(t,Nn,n);An[n]?An[n].p(r,e):(An[n]=fn(r),An[n].c(),An[n].m(A,null))}for(;n<An.length;n+=1)An[n].d(1);An.length=Nn.length}(!sn||1&e[0])&&w(A,"background-color",t[0].editorBackground),(!sn||1&e[0])&&w(A,"color",t[0].textcolor),32769&e[0]&&E(A,t[0].editorTheme),(!sn||1&e[0])&&w(H,"background-color",t[0].editorBackground),(!sn||1&e[0])&&hn!==(hn=t[0].editorBackground+"")&&x(V,hn),(!sn||1&e[0])&&w(rt,"background-color",t[0].textcolor),(!sn||1&e[0])&&gn!==(gn=t[0].textcolor+"")&&x(st,gn),(!sn||1&e[0])&&w(dt,"background-color",t[0].appBackground),(!sn||1&e[0])&&mn!==(mn=t[0].appBackground+"")&&x(mt,mn),(!sn||1&e[0])&&w(_t,"background-color",t[0].shadowColor),(!sn||1&e[0])&&vn!==(vn=t[0].shadowColor+"")&&x(Pt,vn),(!sn||1&e[0])&&w(Nt,"background-color",t[0].scriptMenuBackground),(!sn||1&e[0])&&yn!==(yn=t[0].scriptMenuBackground+"")&&x(It,yn),(!sn||1&e[0])&&w(jt,"background-color",t[0].scriptMenuTextColor),(!sn||1&e[0])&&Sn!==(Sn=t[0].scriptMenuTextColor+"")&&x(zt,Sn),(!sn||1&e[0])&&w(Qt,"background-color",t[0].selectionBackgroundColor),(!sn||1&e[0])&&bn!==(bn=t[0].selectionBackgroundColor+"")&&x(ne,bn),(!sn||1&e[0])&&w(ce,"background-color",t[0].selectionColor),(!sn||1&e[0])&&kn!==(kn=t[0].selectionColor+"")&&x(pe,kn),(!sn||1&e[0])&&w(Se,"background-color",t[0].selectionMenuColor),(!sn||1&e[0])&&xn!==(xn=t[0].selectionMenuColor+"")&&x(xe,xn),(!sn||1&e[0])&&w(Te,"background-color",t[0].selectionMenuBackgroundColor),(!sn||1&e[0])&&_n!==(_n=t[0].selectionMenuBackgroundColor+"")&&x(Le,_n),(!sn||1&e[0])&&w(Fe,"background-color",t[0].scriptMenuItemSystem),(!sn||1&e[0])&&wn!==(wn=t[0].scriptMenuItemSystem+"")&&x(je,wn),(!sn||1&e[0])&&w(Qe,"background-color",t[0].scriptMenuItemUser),(!sn||1&e[0])&&En!==(En=t[0].scriptMenuItemUser+"")&&x(nn,En);const n={};256&e[0]&&(n.item=t[8]),1&e[0]&&(n.textColor=t[0].textcolor),1&e[0]&&(n.background=t[0].editorBackground),512&e[0]&&(n.explainText=t[9]),8&e[0]&&(n.color=t[3]),16&e[0]&&(n.id=t[4]),32&e[0]&&(n.show=t[5]),on.$set(n)},i(t){sn||(J(on.$$.fragment,t),sn=!0)},o(t){X(on.$$.fragment,t),sn=!1},d(t){t&&f(e),t&&f(n),t&&f(r),Mn.d(),t&&f(s),t&&f(a),t&&f(c),t&&f(u),g(Rn,t),t&&f(h),t&&f(S),t&&f(_),t&&f(P),g(Ln,t),t&&f(C),t&&f(M),t&&f(T),t&&f(R),g(An,t),t&&f(rn),et(on,t),an=!1,l(ln)}}}function ln(t){let e,n,r,o,s,a,c,u,h,g,v,S,x,_,P,C,M,T,R,D,L,N,A,O,I,B,$,Y,F,H,j,W,V,z;return{c(){e=m("h2"),e.textContent="General",n=y(),r=m("div"),o=m("label"),o.textContent="Use line numbers in the code editor?",s=y(),a=m("input"),c=y(),u=m("div"),h=m("label"),h.textContent="Use line numbers in the note editor?",g=y(),v=m("input"),S=y(),x=m("div"),_=m("label"),_.textContent="Note Editor KeyMap:",P=y(),C=m("select"),M=m("option"),M.textContent="Sublime",T=m("option"),T.textContent="Vim",R=m("option"),R.textContent="Emacs",D=y(),L=m("div"),N=m("label"),N.textContent="Code Editor KeyMap:",A=y(),O=m("select"),I=m("option"),I.textContent="Sublime",B=m("option"),B.textContent="Vim",$=m("option"),$.textContent="Emacs",Y=y(),F=m("div"),H=m("label"),H.textContent="Clear Cache on Exit?",j=y(),W=m("input"),k(o,"class","styleLabel svelte-1fximu5"),k(a,"class","PrefCheck svelte-1fximu5"),k(a,"type","checkbox"),k(r,"class","labelRadialHolder svelte-1fximu5"),k(h,"class","styleLabel svelte-1fximu5"),k(v,"class","PrefCheck svelte-1fximu5"),k(v,"type","checkbox"),k(u,"class","labelRadialHolder svelte-1fximu5"),k(_,"class","styleLabel svelte-1fximu5"),M.__value="sublime",M.value=M.__value,T.__value="vim",T.value=T.__value,R.__value="emacs",R.value=R.__value,k(C,"class","prefSelector svelte-1fximu5"),w(C,"background-color",t[0].editorBackground),w(C,"color",t[0].textcolor),void 0===t[1].noteKeyMap&&U(()=>t[39].call(C)),k(x,"class","labelRadialHolder svelte-1fximu5"),k(N,"class","styleLabel svelte-1fximu5"),I.__value="sublime",I.value=I.__value,B.__value="vim",B.value=B.__value,$.__value="emacs",$.value=$.__value,k(O,"class","prefSelector svelte-1fximu5"),w(O,"background-color",t[0].editorBackground),w(O,"color",t[0].textcolor),void 0===t[1].scriptKeyMap&&U(()=>t[40].call(O)),k(L,"class","labelRadialHolder svelte-1fximu5"),k(H,"class","styleLabel svelte-1fximu5"),k(W,"class","PrefCheck svelte-1fximu5"),k(W,"type","checkbox"),k(F,"class","labelRadialHolder svelte-1fximu5")},m(i,l){d(i,e,l),d(i,n,l),d(i,r,l),p(r,o),p(r,s),p(r,a),a.checked=t[1].codeLineNumbers,d(i,c,l),d(i,u,l),p(u,h),p(u,g),p(u,v),v.checked=t[1].noteLineNumbers,d(i,S,l),d(i,x,l),p(x,_),p(x,P),p(x,C),p(C,M),p(C,T),p(C,R),E(C,t[1].noteKeyMap),d(i,D,l),d(i,L,l),p(L,N),p(L,A),p(L,O),p(O,I),p(O,B),p(O,$),E(O,t[1].scriptKeyMap),d(i,Y,l),d(i,F,l),p(F,H),p(F,j),p(F,W),W.checked=t[1].clearCache,V||(z=[b(a,"change",t[37]),b(v,"change",t[38]),b(C,"change",t[39]),b(O,"change",t[40]),b(W,"change",t[41])],V=!0)},p(t,e){536870914&e[0]&&(a.checked=t[1].codeLineNumbers),536870914&e[0]&&(v.checked=t[1].noteLineNumbers),1&e[0]&&w(C,"background-color",t[0].editorBackground),1&e[0]&&w(C,"color",t[0].textcolor),536870914&e[0]&&E(C,t[1].noteKeyMap),1&e[0]&&w(O,"background-color",t[0].editorBackground),1&e[0]&&w(O,"color",t[0].textcolor),536870914&e[0]&&E(O,t[1].scriptKeyMap),536870914&e[0]&&(W.checked=t[1].clearCache)},i:i,o:i,d(t){t&&f(e),t&&f(n),t&&f(r),t&&f(c),t&&f(u),t&&f(S),t&&f(x),t&&f(D),t&&f(L),t&&f(Y),t&&f(F),V=!1,l(z)}}}function cn(t){let e,n,r,o=t[29](),i=[];for(let e=0;e<o.length;e+=1)i[e]=hn(Xe(t,o,e));return{c(){e=m("select");for(let t=0;t<i.length;t+=1)i[t].c();k(e,"class","prefSelector svelte-1fximu5"),w(e,"background-color",t[0].editorBackground),w(e,"color",t[0].textcolor),void 0===t[1].style&&U(()=>t[43].call(e))},m(o,s){d(o,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);E(e,t[1].style),n||(r=[b(e,"change",t[43]),b(e,"change",t[44])],n=!0)},p(t,n){if(536870912&n[0]){let r;for(o=t[29](),r=0;r<o.length;r+=1){const s=Xe(t,o,r);i[r]?i[r].p(s,n):(i[r]=hn(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}1&n[0]&&w(e,"background-color",t[0].editorBackground),1&n[0]&&w(e,"color",t[0].textcolor),536870914&n[0]&&E(e,t[1].style)},d(t){t&&f(e),g(i,t),n=!1,l(r)}}}function un(t){let e,n,r;return{c(){e=m("input"),k(e,"class","prefInput svelte-1fximu5"),w(e,"background-color",t[0].editorBackground),w(e,"color",t[0].textcolor)},m(o,i){d(o,e,i),_(e,t[1].style),n||(r=b(e,"input",t[42]),n=!0)},p(t,n){1&n[0]&&w(e,"background-color",t[0].editorBackground),1&n[0]&&w(e,"color",t[0].textcolor),536870914&n[0]&&e.value!==t[1].style&&_(e,t[1].style)},d(t){t&&f(e),n=!1,r()}}}function hn(t){let e,n,r,o=t[75]+"";return{c(){e=m("option"),n=v(o),e.__value=r=t[75],e.value=e.__value},m(t,r){d(t,e,r),p(e,n)},p:i,d(t){t&&f(e)}}}function pn(t){let e,n,r,o,i,s,a,l,c,u,h,g,S=t[80]+1+"",_=t[81].color+"";function E(...e){return t[45](t[81],...e)}return{c(){e=m("div"),n=m("label"),r=v("#"),o=v(S),i=y(),s=m("div"),a=y(),l=m("label"),c=v(_),u=y(),k(n,"class","circlePickerLabel svelte-1fximu5"),k(s,"class","circlePicker svelte-1fximu5"),w(s,"background-color",t[81].color),k(l,"class","circlePickerLabel svelte-1fximu5"),k(e,"class","circlePickerWrap svelte-1fximu5")},m(t,f){d(t,e,f),p(e,n),p(n,r),p(n,o),p(e,i),p(e,s),p(e,a),p(e,l),p(l,c),p(e,u),h||(g=b(s,"click",E),h=!0)},p(e,n){t=e,1&n[0]&&w(s,"background-color",t[81].color),1&n[0]&&_!==(_=t[81].color+"")&&x(c,_)},d(t){t&&f(e),h=!1,g()}}}function dn(t){let e,n,r,o,i,s,a,l,c,u,h,g,S=t[80]+1+"",_=t[78]+"";function E(...e){return t[46](t[78],t[80],...e)}return{c(){e=m("div"),n=m("label"),r=v("#"),o=v(S),i=y(),s=m("div"),a=y(),l=m("label"),c=v(_),u=y(),k(n,"class","circlePickerLabel svelte-1fximu5"),k(s,"class","circlePicker svelte-1fximu5"),w(s,"background-color",t[78]),k(l,"class","circlePickerLabel svelte-1fximu5"),k(e,"class","circlePickerWrap svelte-1fximu5")},m(t,f){d(t,e,f),p(e,n),p(n,r),p(n,o),p(e,i),p(e,s),p(e,a),p(e,l),p(l,c),p(e,u),h||(g=b(s,"click",E),h=!0)},p(e,n){t=e,1&n[0]&&w(s,"background-color",t[78]),1&n[0]&&_!==(_=t[78]+"")&&x(c,_)},d(t){t&&f(e),h=!1,g()}}}function fn(t){let e,n,r,o=t[75]+"";return{c(){e=m("option"),n=v(o),e.__value=r=t[75],e.value=e.__value},m(t,r){d(t,e,r),p(e,n)},p:i,d(t){t&&f(e)}}}function gn(t){let e,n,r=t[72].name===t[6]&&rn(t);return{c(){r&&r.c(),e=S()},m(t,o){r&&r.m(t,o),d(t,e,o),n=!0},p(t,n){t[72].name===t[6]?r?(r.p(t,n),64&n[0]&&J(r,1)):(r=rn(t),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(q(),X(r,1,1,()=>{r=null}),K())},i(t){n||(J(r),n=!0)},o(t){X(r),n=!1},d(t){r&&r.d(t),t&&f(e)}}}function mn(t){let e,n,r,o,i,s,a,c,u,S,x,_,E,P,C,M=t[10],T=[];for(let e=0;e<M.length;e+=1)T[e]=nn(Qe(t,M,e));let R=t[10],D=[];for(let e=0;e<R.length;e+=1)D[e]=gn(Ze(t,R,e));const L=t=>X(D[t],1,1,()=>{D[t]=null});return{c(){e=m("div"),n=m("ul");for(let t=0;t<T.length;t+=1)T[t].c();r=y(),o=m("div");for(let t=0;t<D.length;t+=1)D[t].c();i=y(),s=m("div"),a=m("button"),c=v("Save Styles & Preference"),u=y(),S=m("button"),x=v("Quit Preferences"),k(n,"id","tabs"),k(n,"class","svelte-1fximu5"),k(o,"id","prefListWrap"),k(o,"class","svelte-1fximu5"),w(a,"background-color",t[0].editorBackground),w(a,"color",t[0].textcolor),k(a,"class","svelte-1fximu5"),w(S,"background-color",t[0].editorBackground),w(S,"color",t[0].textcolor),k(S,"class","svelte-1fximu5"),k(s,"id","buttonPanel"),k(s,"class","svelte-1fximu5"),k(e,"id","PreferencePanel"),k(e,"class",_=h(t[2]?"visible":"invisible")+" svelte-1fximu5"),w(e,"background-color",t[0].editorBackground)},m(l,h){d(l,e,h),p(e,n);for(let t=0;t<T.length;t+=1)T[t].m(n,null);p(e,r),p(e,o);for(let t=0;t<D.length;t+=1)D[t].m(o,null);p(e,i),p(e,s),p(s,a),p(a,c),p(s,u),p(s,S),p(S,x),E=!0,P||(C=[b(a,"click",t[65]),b(S,"click",t[66])],P=!0)},p(t,r){if(1088&r[0]|4&r[1]){let e;for(M=t[10],e=0;e<M.length;e+=1){const o=Qe(t,M,e);T[e]?T[e].p(o,r):(T[e]=nn(o),T[e].c(),T[e].m(n,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=M.length}if(2147465211&r[0]|3&r[1]){let e;for(R=t[10],e=0;e<R.length;e+=1){const n=Ze(t,R,e);D[e]?(D[e].p(n,r),J(D[e],1)):(D[e]=gn(n),D[e].c(),J(D[e],1),D[e].m(o,null))}for(q(),e=R.length;e<D.length;e+=1)L(e);K()}(!E||1&r[0])&&w(a,"background-color",t[0].editorBackground),(!E||1&r[0])&&w(a,"color",t[0].textcolor),(!E||1&r[0])&&w(S,"background-color",t[0].editorBackground),(!E||1&r[0])&&w(S,"color",t[0].textcolor),(!E||4&r[0]&&_!==(_=h(t[2]?"visible":"invisible")+" svelte-1fximu5"))&&k(e,"class",_),(!E||1&r[0])&&w(e,"background-color",t[0].editorBackground)},i(t){if(!E){for(let t=0;t<R.length;t+=1)J(D[t]);E=!0}},o(t){D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)X(D[t]);E=!1},d(t){t&&f(e),g(T,t),g(D,t),P=!1,l(C)}}}function vn(t,e,n){const r=L();let o,{openPanel:i=!1}=e,{styles:s={}}=e,{preferences:a={}}=e,{currentID:l=0}=e,{ScriptPad:c={}}=e,u="",h=0,p=!1,d="General",f=!1,g=!1,m=!1,v="";function y(t,e){r(t,{data:e})}function S(t){n(1,a.taskpaper=t.taskpaper,a),n(1,a.UseTaskPaper=t.UseTaskPaper,a),n(1,a.UseNotePlan=t.UseNotePlan,a),k()}function b(t){n(1,a.REDAuto=t.auto,a),n(1,a.REDDashboard=t.dashboard,a),k()}function k(){y("changeStyles",s),y("changePreferences",a),n(7,m=!1)}function x(){return c.getEditorThemes()}function _(){n(3,u=s.editorBackground),n(4,h="edbk"),n(8,v="Editor Background"),n(5,p=!0)}function w(){n(3,u=s.textcolor),n(4,h="edtc"),n(8,v="Text Color"),n(5,p=!0)}function E(){n(3,u=s.appBackground),n(4,h="edab"),n(8,v="Application Background Color"),n(5,p=!0)}function C(){n(3,u=s.shadowColor),n(4,h="edsc"),n(8,v="Shadow Color"),n(5,p=!0)}function M(){n(3,u=s.scriptMenuBackground),n(4,h="edsmbk"),n(8,v="Script Menu Background Color"),n(5,p=!0)}function T(){n(3,u=s.scriptMenuTextColor),n(4,h="edsmtc"),n(8,v="Script Menu Text Color"),n(5,p=!0)}function R(){n(3,u=s.selectionBackgroundColor),n(4,h="edsbk"),n(8,v="Selection Background Color"),n(5,p=!0)}function D(){n(3,u=s.selectionColor),n(4,h="edstc"),n(8,v="Selection Text Color"),n(5,p=!0)}function N(){n(3,u=s.selectionMenuColor),n(4,h="edsmc"),n(8,v="Selection Menu Color"),n(5,p=!0)}function A(){n(3,u=s.selectionMenuBackgroundColor),n(4,h="edsmbc"),n(8,v="Selection Menu Background Color"),n(5,p=!0)}function O(){n(3,u=s.scriptMenuItemUser),n(4,h="edsmuc"),n(8,v="Script Menu User Color"),n(5,p=!0)}function I(){n(3,u=s.scriptMenuItemSystem),n(4,h="edsmsc"),n(8,v="Script Menu  Color"),n(5,p=!0)}function B(){var t;m||(t=a.style,globalThis.style=c.getStyleFile(t),globalThis.style.buttons[l].selected=!0,y("changeStyles",globalThis.style))}function $(){return c.getStyleNames()}function Y(t,e){if(g)n(0,s.buttons[t].color=e,s);else if(f)n(0,s.matchStyle[t]=e,s);else switch(t){case"edbk":n(0,s.editorBackground=e,s);break;case"edtc":n(0,s.textcolor=e,s);break;case"edab":n(0,s.appBackground=e,s);break;case"edsc":n(0,s.shadowColor=e,s);break;case"edsmtc":n(0,s.scriptMenuTextColor=e,s);break;case"edsbk":n(0,s.selectionBackgroundColor=e,s);break;case"edsmbk":n(0,s.scriptMenuBackground=e,s);break;case"edstc":n(0,s.selectionColor=e,s);break;case"edsmc":n(0,s.selectionMenuColor=e,s);break;case"edsmbc":n(0,s.selectionMenuBackgroundColor=e,s);break;case"edsmuc":n(0,s.scriptMenuItemUser=e,s);break;case"edsmsc":n(0,s.scriptMenuItemSystem=e,s);break;default:console.log("Invalid id.")}n(5,p=!1),g=!1,f=!1}function F(t,e,r){n(3,u=e),n(4,h=r),n(5,p=!0),f=!0,g=!1,n(8,v="SubExpression")}function U(t,e){n(3,u=e.color),n(4,h=e.id),n(5,p=!0),f=!1,g=!0,n(8,v="Circle")}function H(t){n(6,d=t)}return t.$$set=t=>{"openPanel"in t&&n(2,i=t.openPanel),"styles"in t&&n(0,s=t.styles),"preferences"in t&&n(1,a=t.preferences),"currentID"in t&&n(34,l=t.currentID),"ScriptPad"in t&&n(35,c=t.ScriptPad)},t.$$.update=()=>{var e,r;130&t.$$.dirty[0]&&(e=a.style,r=m,"New"!==e||r||n(7,m=!0)),272&t.$$.dirty[0]&&n(9,o=Number.isInteger(h)?"#"+(h+1)+" of "+v:v+" Color")},[s,a,i,u,h,p,d,m,v,o,[{name:"General"},{name:"Theme"},{name:"Todos"},{name:"Node-Red"}],y,S,b,k,x,_,w,E,C,M,T,R,D,N,A,O,I,B,$,Y,F,U,H,l,c,(t,e)=>{H(t.name)},function(){a.codeLineNumbers=this.checked,n(1,a),n(29,$)},function(){a.noteLineNumbers=this.checked,n(1,a),n(29,$)},function(){a.noteKeyMap=P(this),n(1,a),n(29,$)},function(){a.scriptKeyMap=P(this),n(1,a),n(29,$)},function(){a.clearCache=this.checked,n(1,a),n(29,$)},function(){a.style=this.value,n(1,a),n(29,$)},function(){a.style=P(this),n(1,a),n(29,$)},t=>{B()},(t,e)=>{U(0,t)},(t,e,n)=>{F(0,t,e)},function(){s.editorTheme=P(this),n(0,s),n(15,x)},t=>{console.log("Editor Theme Change.")},t=>{_()},t=>{w()},t=>{E()},t=>{C()},t=>{M()},t=>{T()},t=>{R()},t=>{D()},t=>{N()},t=>{A()},t=>{I()},t=>{O()},t=>{Y(t.detail.data.id,t.detail.data.color)},t=>{n(5,p=!1)},t=>{S(t.detail.data)},t=>{b(t.detail.data)},t=>{k()},t=>{y("quitPreferences",{}),n(7,m=!1)}]}class yn extends rt{constructor(t){super(),nt(this,t,vn,mn,u,{openPanel:2,styles:0,preferences:1,currentID:34,ScriptPad:35},[-1,-1,-1])}}function Sn(t){let e,n;return{c(){e=m("div"),n=m("div"),k(n,"id","HeaderInside"),w(n,"border-bottom-color",t[0]),k(n,"class","svelte-1h9uwn2"),k(e,"id","HeaderOutside"),k(e,"class","svelte-1h9uwn2")},m(t,r){d(t,e,r),p(e,n)},p(t,[e]){1&e&&w(n,"border-bottom-color",t[0])},i:i,o:i,d(t){t&&f(e)}}}function bn(t,e,n){let{background:r="red"}=e;return t.$$set=t=>{"background"in t&&n(0,r=t.background)},[r]}class kn extends rt{constructor(t){super(),nt(this,t,bn,Sn,u,{background:0})}}function xn(t,e,n){const r=t.slice();return r[8]=e[n],r}function _n(t){let e,n,r,o,i,s,a=t[8]+"";function l(...e){return t[6](t[8],...e)}return{c(){e=m("li"),n=m("span"),r=v(a),o=y(),k(n,"class","scriptName svelte-jtoj0l")},m(t,a){d(t,e,a),p(e,n),p(n,r),p(e,o),i||(s=b(n,"click",l),i=!0)},p(e,n){t=e,2&n&&a!==(a=t[8]+"")&&x(r,a)},d(t){t&&f(e),i=!1,s()}}}function wn(t){let e,n,r,o,s,a,l,c,u,h,S=t[1],x=[];for(let e=0;e<S.length;e+=1)x[e]=_n(xn(t,S,e));return{c(){e=m("div"),n=m("h1"),n.textContent="External Scripts",r=y(),o=m("ol");for(let t=0;t<x.length;t+=1)x[t].c();s=y(),a=m("div"),l=m("button"),c=v("New Script"),k(n,"class","svelte-jtoj0l"),k(o,"class","svelte-jtoj0l"),k(l,"id","new"),k(l,"class","buttonStyle svelte-jtoj0l"),k(l,"type","button"),w(l,"background-color",t[0].editorBackground),w(l,"color",t[0].textcolor),k(a,"id","buttonRow"),k(a,"class","svelte-jtoj0l"),k(e,"id","scriptlist"),k(e,"class","svelte-jtoj0l")},m(i,f){d(i,e,f),p(e,n),p(e,r),p(e,o);for(let t=0;t<x.length;t+=1)x[t].m(o,null);p(e,s),p(e,a),p(a,l),p(l,c),u||(h=b(l,"click",t[3]),u=!0)},p(t,[e]){if(6&e){let n;for(S=t[1],n=0;n<S.length;n+=1){const r=xn(t,S,n);x[n]?x[n].p(r,e):(x[n]=_n(r),x[n].c(),x[n].m(o,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=S.length}1&e&&w(l,"background-color",t[0].editorBackground),1&e&&w(l,"color",t[0].textcolor)},i:i,o:i,d(t){t&&f(e),g(x,t),u=!1,h()}}}function En(t,e,n){let{config:r}=e,{ScriptPad:o}=e,{styles:i}=e,s=[];const a=L();function l(t){a("changeView",{view:"script",config:{script:t}})}R(()=>{n(1,s=o.listExtScripts())});return t.$$set=t=>{"config"in t&&n(4,r=t.config),"ScriptPad"in t&&n(5,o=t.ScriptPad),"styles"in t&&n(0,i=t.styles)},[i,s,l,function(){a("changeView",{view:"script",config:{script:"new"}})},r,o,t=>{l(t)}]}class Pn extends rt{constructor(t){super(),nt(this,t,En,wn,u,{config:4,ScriptPad:5,styles:0})}}function Cn(t,e,n){const r=t.slice();return r[14]=e[n],r}function Mn(t){let e,n,r,o,i,s,a,c,u,h,p,v,S,x,w,P,C,M=t[2],T=[];for(let e=0;e<M.length;e+=1)T[e]=Tn(Cn(t,M,e));return{c(){e=m("label"),e.textContent="Name of Script",n=y(),r=m("input"),o=y(),i=m("label"),i.textContent="What is the name of the Script file?",s=y(),a=m("input"),c=y(),u=m("label"),u.textContent="What is the directory for the script?",h=y(),p=m("input"),v=y(),S=m("label"),S.textContent="What is the environment for the script?",x=y(),w=m("select");for(let t=0;t<T.length;t+=1)T[t].c();k(e,"id","scriptName"),k(e,"for","scriptName"),k(r,"id","scriptName"),k(r,"name","scriptName"),k(i,"id","scriptScript"),k(i,"for","scriptScript"),k(a,"id","scriptScript"),k(a,"name","scriptScript"),k(u,"id","scriptPath"),k(u,"for","scriptPath"),k(p,"id","scriptPath"),k(p,"name","scriptPath"),k(S,"id","scriptEnv"),k(S,"for","scriptEnv"),k(w,"id","scriptEnv"),k(w,"name","scriptEnv"),void 0===t[1].env&&U(()=>t[11].call(w))},m(l,f){d(l,e,f),d(l,n,f),d(l,r,f),_(r,t[1].name),d(l,o,f),d(l,i,f),d(l,s,f),d(l,a,f),_(a,t[1].script),d(l,c,f),d(l,u,f),d(l,h,f),d(l,p,f),_(p,t[1].path),d(l,v,f),d(l,S,f),d(l,x,f),d(l,w,f);for(let t=0;t<T.length;t+=1)T[t].m(w,null);E(w,t[1].env),P||(C=[b(r,"blur",t[3]),b(r,"input",t[8]),b(a,"blur",t[3]),b(a,"input",t[9]),b(p,"blur",t[3]),b(p,"input",t[10]),b(w,"blur",t[3]),b(w,"change",t[11])],P=!0)},p(t,e){if(6&e&&r.value!==t[1].name&&_(r,t[1].name),6&e&&a.value!==t[1].script&&_(a,t[1].script),6&e&&p.value!==t[1].path&&_(p,t[1].path),4&e){let n;for(M=t[2],n=0;n<M.length;n+=1){const r=Cn(t,M,n);T[n]?T[n].p(r,e):(T[n]=Tn(r),T[n].c(),T[n].m(w,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=M.length}6&e&&E(w,t[1].env)},d(t){t&&f(e),t&&f(n),t&&f(r),t&&f(o),t&&f(i),t&&f(s),t&&f(a),t&&f(c),t&&f(u),t&&f(h),t&&f(p),t&&f(v),t&&f(S),t&&f(x),t&&f(w),g(T,t),P=!1,l(C)}}}function Tn(t){let e,n,r,o=t[14]+"";return{c(){e=m("option"),n=v(o),e.__value=r=t[14],e.value=e.__value},m(t,r){d(t,e,r),p(e,n)},p(t,i){4&i&&o!==(o=t[14]+"")&&x(n,o),4&i&&r!==(r=t[14])&&(e.__value=r,e.value=e.__value)},d(t){t&&f(e)}}}function Rn(t){let e,n,r,o,s,a,c,u,h,g,S=void 0!==t[1]&&void 0!==t[2]&&Mn(t);return{c(){e=m("div"),S&&S.c(),n=y(),r=m("div"),o=m("button"),s=v("Return"),a=y(),c=m("button"),u=v("Delete"),k(o,"class","buttonStyle svelte-98jqa1"),k(o,"type","button"),w(o,"background-color",t[0].editorBackground),w(o,"color",t[0].textcolor),k(c,"class","buttonStyle svelte-98jqa1"),k(c,"type","button"),w(c,"background-color",t[0].editorBackground),w(c,"color",t[0].textcolor),k(r,"id","buttonRow"),k(e,"id","script"),w(e,"color",t[0].textcolor),w(e,"background-color",t[0].appBackground),k(e,"class","svelte-98jqa1")},m(i,l){d(i,e,l),S&&S.m(e,null),p(e,n),p(e,r),p(r,o),p(o,s),p(r,a),p(r,c),p(c,u),h||(g=[b(o,"click",t[12]),b(c,"click",t[4])],h=!0)},p(t,[r]){void 0!==t[1]&&void 0!==t[2]?S?S.p(t,r):(S=Mn(t),S.c(),S.m(e,n)):S&&(S.d(1),S=null),1&r&&w(o,"background-color",t[0].editorBackground),1&r&&w(o,"color",t[0].textcolor),1&r&&w(c,"background-color",t[0].editorBackground),1&r&&w(c,"color",t[0].textcolor),1&r&&w(e,"color",t[0].textcolor),1&r&&w(e,"background-color",t[0].appBackground)},i:i,o:i,d(t){t&&f(e),S&&S.d(),h=!1,l(g)}}}function Dn(t,e,n){let r,o,{config:i}=e,{ScriptPad:s}=e,{styles:a}=e;const l=L();function c(){""!==r.name&&null!==r.name&&"new"!==r.name&&s.addExtScript(r)}function u(){l("changeView",{view:"lists",config:{}})}R(()=>{"new"!==i.script?n(1,r=s.getExtScript(i.script)):n(1,r={name:"new",script:"",path:"",env:""}),n(2,o=s.getEnvNames())});return t.$$set=t=>{"config"in t&&n(6,i=t.config),"ScriptPad"in t&&n(7,s=t.ScriptPad),"styles"in t&&n(0,a=t.styles)},[a,r,o,c,function(){s.removeExtScript(r.name),F(),u()},u,i,s,function(){r.name=this.value,n(1,r),n(2,o)},function(){r.script=this.value,n(1,r),n(2,o)},function(){r.path=this.value,n(1,r),n(2,o)},function(){r.env=P(this),n(1,r),n(2,o)},()=>{c(),u()}]}class Ln extends rt{constructor(t){super(),nt(this,t,Dn,Rn,u,{config:6,ScriptPad:7,styles:0})}}function Nn(t,e,n){const r=t.slice();return r[11]=e[n],r}function An(t){let e,n,r,o,i,s,a=t[11]+"";function l(...e){return t[8](t[11],...e)}return{c(){e=m("li"),n=m("span"),r=v(a),o=y(),k(n,"class","envName svelte-qye8vk")},m(t,a){d(t,e,a),p(e,n),p(n,r),p(e,o),i||(s=b(n,"click",l),i=!0)},p(e,n){t=e,2&n&&a!==(a=t[11]+"")&&x(r,a)},d(t){t&&f(e),i=!1,s()}}}function On(t){let e,n,r,o;return{c(){e=m("button"),n=v("Create Default"),k(e,"id","default"),k(e,"class","buttonStyle svelte-qye8vk"),w(e,"background-color",t[0].editorBackground),w(e,"color",t[0].textcolor),k(e,"type","button")},m(i,s){d(i,e,s),p(e,n),r||(o=b(e,"click",t[5]),r=!0)},p(t,n){1&n&&w(e,"background-color",t[0].editorBackground),1&n&&w(e,"color",t[0].textcolor)},d(t){t&&f(e),r=!1,o()}}}function In(t){let e,n,r,o,s,a,l,c,u,h,S,x=t[1],_=[];for(let e=0;e<x.length;e+=1)_[e]=An(Nn(t,x,e));let E=t[2]&&On(t);return{c(){e=m("div"),n=m("h1"),n.textContent="Environments",r=y(),o=m("ol");for(let t=0;t<_.length;t+=1)_[t].c();s=y(),a=m("div"),l=m("button"),c=v("New Environment"),u=y(),E&&E.c(),k(n,"class","svelte-qye8vk"),k(o,"class","svelte-qye8vk"),k(l,"id","new"),k(l,"class","buttonStyle svelte-qye8vk"),w(l,"background-color",t[0].editorBackground),w(l,"color",t[0].textcolor),k(l,"type","button"),k(a,"id","buttonRow"),k(a,"class","svelte-qye8vk"),k(e,"id","envlist"),k(e,"class","svelte-qye8vk")},m(i,f){d(i,e,f),p(e,n),p(e,r),p(e,o);for(let t=0;t<_.length;t+=1)_[t].m(o,null);p(e,s),p(e,a),p(a,l),p(l,c),p(a,u),E&&E.m(a,null),h||(S=b(l,"click",t[3]),h=!0)},p(t,[e]){if(18&e){let n;for(x=t[1],n=0;n<x.length;n+=1){const r=Nn(t,x,n);_[n]?_[n].p(r,e):(_[n]=An(r),_[n].c(),_[n].m(o,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=x.length}1&e&&w(l,"background-color",t[0].editorBackground),1&e&&w(l,"color",t[0].textcolor),t[2]?E?E.p(t,e):(E=On(t),E.c(),E.m(a,null)):E&&(E.d(1),E=null)},i:i,o:i,d(t){t&&f(e),g(_,t),E&&E.d(),h=!1,S()}}}function Bn(t,e,n){let{config:r}=e,{ScriptPad:o}=e,{styles:i}=e,s=[],a=!1;const l=L();function c(t){l("changeView",{view:"env",config:{env:t}})}R(()=>{n(1,s=o.getEnvNames());var t=s.filter(t=>"Default"===t);Array.isArray(t)&&0===t.length&&n(2,a=!0)});return t.$$set=t=>{"config"in t&&n(6,r=t.config),"ScriptPad"in t&&n(7,o=t.ScriptPad),"styles"in t&&n(0,i=t.styles)},[i,s,a,function(){l("changeView",{view:"env",config:{env:"new",envVar:[]}})},c,function(){var t=o.createDefaultEnv();o.addEnv(t),l("changeView",{view:"env",config:{env:"Default"}})},r,o,t=>{c(t)}]}class $n extends rt{constructor(t){super(),nt(this,t,Bn,In,u,{config:6,ScriptPad:7,styles:0})}}function Yn(t){let e,n,r,o,s,a,l,c,u,h;return{c(){e=m("tr"),n=m("td"),n.innerHTML="<span>✏️</span>",r=y(),o=m("td"),o.innerHTML="<span>❌</span>",s=y(),a=m("td"),l=v(t[0]),c=y(),u=m("td"),h=v(t[1]),k(n,"class","editTD svelte-j6ke92"),k(o,"class","deleteTD svelte-j6ke92")},m(t,i){d(t,e,i),p(e,n),p(e,r),p(e,o),p(e,s),p(e,a),p(a,l),p(e,c),p(e,u),p(u,h)},p(t,[e]){1&e&&x(l,t[0]),2&e&&x(h,t[1])},i:i,o:i,d(t){t&&f(e)}}}function Fn(t,e,n){let{name:r}=e,{value:o}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"value"in t&&n(1,o=t.value)},[r,o]}class Un extends rt{constructor(t){super(),nt(this,t,Fn,Yn,u,{name:0,value:1})}}function Hn(t,e,n){const r=t.slice();return r[17]=e[n],r}function jn(t){let e,n,r,o,i,s,a,c,u="undefined"!==t[1].envVar&&Wn(t);return{c(){e=m("label"),e.textContent="Name of the Environment",n=y(),r=m("input"),o=y(),u&&u.c(),i=S(),k(e,"id","envName"),k(e,"for","envName"),k(r,"id","envName"),k(r,"name","envName")},m(l,h){d(l,e,h),d(l,n,h),d(l,r,h),_(r,t[1].name),d(l,o,h),u&&u.m(l,h),d(l,i,h),s=!0,a||(c=[b(r,"blur",t[5]),b(r,"input",t[11])],a=!0)},p(t,e){2&e&&r.value!==t[1].name&&_(r,t[1].name),"undefined"!==t[1].envVar?u?(u.p(t,e),2&e&&J(u,1)):(u=Wn(t),u.c(),J(u,1),u.m(i.parentNode,i)):u&&(q(),X(u,1,1,()=>{u=null}),K())},i(t){s||(J(u),s=!0)},o(t){X(u),s=!1},d(t){t&&f(e),t&&f(n),t&&f(r),t&&f(o),u&&u.d(t),t&&f(i),a=!1,l(c)}}}function Wn(t){let e,n,r,o,i,s,a,l=Object.entries(t[1].envVar),c=[];for(let e=0;e<l.length;e+=1)c[e]=Vn(Hn(t,l,e));const u=t=>X(c[t],1,1,()=>{c[t]=null});function h(t,e){return t[2]?Gn:zn}let v=h(t),S=v(t);return{c(){e=m("div"),n=m("table"),r=m("thead"),r.innerHTML='<tr><th class="svelte-fmh02v"></th> \n              <th class="svelte-fmh02v"></th> \n              <th class="svelte-fmh02v">Name</th> \n              <th class="svelte-fmh02v">Value</th></tr>',o=y(),i=m("tbody");for(let t=0;t<c.length;t+=1)c[t].c();s=y(),S.c(),k(e,"id","EnvTable"),k(e,"class","svelte-fmh02v")},m(t,l){d(t,e,l),p(e,n),p(n,r),p(n,o),p(n,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);p(i,s),S.m(i,null),a=!0},p(t,e){if(2&e){let n;for(l=Object.entries(t[1].envVar),n=0;n<l.length;n+=1){const r=Hn(t,l,n);c[n]?(c[n].p(r,e),J(c[n],1)):(c[n]=Vn(r),c[n].c(),J(c[n],1),c[n].m(i,s))}for(q(),n=l.length;n<c.length;n+=1)u(n);K()}v===(v=h(t))&&S?S.p(t,e):(S.d(1),S=v(t),S&&(S.c(),S.m(i,null)))},i(t){if(!a){for(let t=0;t<l.length;t+=1)J(c[t]);a=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)X(c[t]);a=!1},d(t){t&&f(e),g(c,t),S.d()}}}function Vn(t){let e,n;return e=new Un({props:{name:t[17][0],value:t[17][1]}}),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.name=t[17][0]),2&n&&(r.value=t[17][1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function zn(t){let e,n,r,o,s;return{c(){e=m("tr"),n=m("td"),r=m("span"),r.textContent="+",k(r,"class","addNewItem svelte-fmh02v"),k(n,"span","2"),k(n,"class","svelte-fmh02v")},m(i,a){d(i,e,a),p(e,n),p(n,r),o||(s=b(r,"click",t[14]),o=!0)},p:i,d(t){t&&f(e),o=!1,s()}}}function Gn(t){let e,n,r,o,i,s,a,c;return{c(){e=m("tr"),n=m("td"),r=m("input"),o=y(),i=m("td"),s=m("input"),k(r,"class","inputKV"),k(r,"type","text"),k(n,"class","svelte-fmh02v"),k(s,"class","inputKV"),k(s,"type","text"),k(i,"class","svelte-fmh02v")},m(l,u){d(l,e,u),p(e,n),p(n,r),_(r,t[3]),p(n,o),p(e,i),p(i,s),_(s,t[4]),a||(c=[b(r,"input",t[12]),b(s,"input",t[13]),b(s,"blur",t[8])],a=!0)},p(t,e){8&e&&r.value!==t[3]&&_(r,t[3]),16&e&&s.value!==t[4]&&_(s,t[4])},d(t){t&&f(e),a=!1,l(c)}}}function qn(t){let e,n,r,o,i,s,a,c,u,h,g,S=void 0!==t[1]&&jn(t);return{c(){e=m("div"),S&&S.c(),n=y(),r=m("div"),o=m("button"),i=v("Return"),s=y(),a=m("button"),c=v("Delete"),k(o,"id","goback"),k(o,"class","buttonStyle svelte-fmh02v"),k(o,"type","button"),w(o,"background-color",t[0].editorBackground),w(o,"color",t[0].textcolor),k(a,"class","buttonStyle svelte-fmh02v"),k(a,"type","button"),w(a,"background-color",t[0].editorBackground),w(a,"color",t[0].textcolor),k(r,"id","buttonRow"),k(r,"class","svelte-fmh02v"),k(e,"id","env"),w(e,"color",t[0].textcolor),w(e,"background-color",t[0].appBackground),k(e,"class","svelte-fmh02v")},m(l,f){d(l,e,f),S&&S.m(e,null),p(e,n),p(e,r),p(r,o),p(o,i),p(r,s),p(r,a),p(a,c),u=!0,h||(g=[b(o,"click",t[15]),b(a,"click",t[6])],h=!0)},p(t,[r]){void 0!==t[1]?S?(S.p(t,r),2&r&&J(S,1)):(S=jn(t),S.c(),J(S,1),S.m(e,n)):S&&(q(),X(S,1,1,()=>{S=null}),K()),(!u||1&r)&&w(o,"background-color",t[0].editorBackground),(!u||1&r)&&w(o,"color",t[0].textcolor),(!u||1&r)&&w(a,"background-color",t[0].editorBackground),(!u||1&r)&&w(a,"color",t[0].textcolor),(!u||1&r)&&w(e,"color",t[0].textcolor),(!u||1&r)&&w(e,"background-color",t[0].appBackground)},i(t){u||(J(S),u=!0)},o(t){X(S),u=!1},d(t){t&&f(e),S&&S.d(),h=!1,l(g)}}}function Kn(t,e,n){let r,{config:o}=e,{ScriptPad:i}=e,{styles:s}=e,a=!1,l="",c="";const u=L();function h(){void 0!==r&&""!==r.name&&null!==r.name&&"new"!==r.name&&i.addEnv(r)}function p(){u("changeView",{view:"lists",config:{}})}R(()=>{void 0!==o.env&&("new"!==o.env&&null!==o.env?("default"===o.env&&n(9,o.env="Default",o),n(1,r=i.getEnv(o.env))):n(1,r={name:"new",envVar:[]}))});return t.$$set=t=>{"config"in t&&n(9,o=t.config),"ScriptPad"in t&&n(10,i=t.ScriptPad),"styles"in t&&n(0,s=t.styles)},[s,r,a,l,c,h,function(){void 0!==r&&null!==r.name&&"new"!==r.name&&""!==r.name&&(i.removeEnv(r.name),F(),p())},p,function(){n(1,r.envVar[l]=c,r),n(2,a=!1),n(3,l=""),n(4,c=""),h()},o,i,function(){r.name=this.value,n(1,r)},function(){l=this.value,n(3,l)},function(){c=this.value,n(4,c)},()=>{n(2,a=!0)},()=>{h(),p()}]}class Jn extends rt{constructor(t){super(),nt(this,t,Kn,qn,u,{config:9,ScriptPad:10,styles:0})}}function Xn(t){let e,n;return e=new Jn({props:{config:t[4],styles:t[0],ScriptPad:t[1]}}),e.$on("changeView",t[5]),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.config=t[4]),1&n&&(r.styles=t[0]),2&n&&(r.ScriptPad=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Zn(t){let e,n;return e=new Ln({props:{config:t[4],styles:t[0],ScriptPad:t[1]}}),e.$on("changeView",t[5]),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.config=t[4]),1&n&&(r.styles=t[0]),2&n&&(r.ScriptPad=t[1]),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function Qn(t){let e,n,r,o,i;return n=new Pn({props:{config:t[4],styles:t[0],ScriptPad:t[1]}}),n.$on("changeView",t[5]),o=new $n({props:{config:t[4],styles:t[0],ScriptPad:t[1]}}),o.$on("changeView",t[5]),{c(){e=m("div"),Q(n.$$.fragment),r=y(),Q(o.$$.fragment),k(e,"id","listviews"),k(e,"class","svelte-1v7c128")},m(t,s){d(t,e,s),tt(n,e,null),p(e,r),tt(o,e,null),i=!0},p(t,e){const r={};16&e&&(r.config=t[4]),1&e&&(r.styles=t[0]),2&e&&(r.ScriptPad=t[1]),n.$set(r);const i={};16&e&&(i.config=t[4]),1&e&&(i.styles=t[0]),2&e&&(i.ScriptPad=t[1]),o.$set(i)},i(t){i||(J(n.$$.fragment,t),J(o.$$.fragment,t),i=!0)},o(t){X(n.$$.fragment,t),X(o.$$.fragment,t),i=!1},d(t){t&&f(e),et(n),et(o)}}}function tr(t){let e,n,r,o,i,s,a,l,c,u;const h=[Qn,Zn,Xn],g=[];function S(t,e){return"lists"===t[3]?0:"script"===t[3]?1:"env"===t[3]?2:-1}return~(n=S(t))&&(r=g[n]=h[n](t)),{c(){e=m("div"),r&&r.c(),o=y(),i=m("div"),s=m("button"),a=v("Return"),k(s,"class","buttonStyle svelte-1v7c128"),w(s,"background-color",t[0].editorBackground),w(s,"color",t[0].textcolor),k(i,"class","buttonRow svelte-1v7c128"),k(e,"id","ExtScriptEditor"),w(e,"color",t[0].textcolor),w(e,"left",(t[2]?6:-470)+"px"),w(e,"background-color",t[0].appBackground),k(e,"class","svelte-1v7c128")},m(r,h){d(r,e,h),~n&&g[n].m(e,null),p(e,o),p(e,i),p(i,s),p(s,a),l=!0,c||(u=b(s,"click",t[6]),c=!0)},p(t,[i]){let a=n;n=S(t),n===a?~n&&g[n].p(t,i):(r&&(q(),X(g[a],1,1,()=>{g[a]=null}),K()),~n?(r=g[n],r||(r=g[n]=h[n](t),r.c()),J(r,1),r.m(e,o)):r=null),(!l||1&i)&&w(s,"background-color",t[0].editorBackground),(!l||1&i)&&w(s,"color",t[0].textcolor),(!l||1&i)&&w(e,"color",t[0].textcolor),(!l||4&i)&&w(e,"left",(t[2]?6:-470)+"px"),(!l||1&i)&&w(e,"background-color",t[0].appBackground)},i(t){l||(J(r),l=!0)},o(t){X(r),l=!1},d(t){t&&f(e),~n&&g[n].d(),c=!1,u()}}}function er(t,e,n){let{styles:r}=e,{mConfig:o}=e,{ScriptPad:i}=e,{openPanel:s}=e;const a=L();let l="lists",c={};return t.$$set=t=>{"styles"in t&&n(0,r=t.styles),"mConfig"in t&&n(7,o=t.mConfig),"ScriptPad"in t&&n(1,i=t.ScriptPad),"openPanel"in t&&n(2,s=t.openPanel)},[r,i,s,l,c,function(t){n(3,l=t.detail.view),n(4,c=t.detail.config)},function(){a("returnToMain",{})},o]}class nr extends rt{constructor(t){super(),nt(this,t,er,tr,u,{styles:0,mConfig:7,ScriptPad:1,openPanel:2})}}function rr(t){let e;return{c(){e=m("span"),e.textContent="stopped.",k(e,"class","status svelte-df4w47")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function or(t){let e;return{c(){e=m("span"),e.textContent="running...",k(e,"class","status svelte-df4w47")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function ir(t){let e,n,r;return{c(){e=m("div"),e.textContent="Dashboard",k(e,"id","dashboardBut"),k(e,"class","svelte-df4w47")},m(o,i){d(o,e,i),n||(r=b(e,"click",t[10]),n=!0)},p:i,d(t){t&&f(e),n=!1,r()}}}function sr(t){let e;return{c(){e=v("Start")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function ar(t){let e;return{c(){e=v("Stop")},m(t,n){d(t,e,n)},d(t){t&&f(e)}}}function lr(t){let e,n,r,o,s,a,c,u,g,v,S,x,_;function E(t,e){return t[5]?or:rr}let P=E(t),C=P(t),M=t[0].PREFERENCES.REDDashboard&&ir(t);function T(t,e){return t[5]?ar:sr}let R=T(t),D=R(t);return{c(){e=m("div"),n=m("div"),r=y(),o=m("div"),C.c(),s=y(),M&&M.c(),a=y(),c=m("div"),c.textContent="Edit Flows",u=y(),g=m("div"),D.c(),k(n,"id","history"),k(n,"class","svelte-df4w47"),k(c,"id","editFlowBut"),k(c,"class","svelte-df4w47"),k(g,"id","ssbut"),k(g,"class",v=h(t[5]?"liveColor":"deadColor")+" svelte-df4w47"),k(o,"id","redStatus"),k(o,"class","svelte-df4w47"),k(e,"id","codered"),k(e,"class",S=h(t[2]?"show":"hide")+" svelte-df4w47"),w(e,"background-color",t[1].editorBackground),w(e,"color",t[1].textcolor)},m(i,l){d(i,e,l),p(e,n),n.innerHTML=t[4],t[9](n),p(e,r),p(e,o),C.m(o,null),p(o,s),M&&M.m(o,null),p(o,a),p(o,c),p(o,u),p(o,g),D.m(g,null),x||(_=[b(c,"click",t[11]),b(g,"click",t[12])],x=!0)},p(t,[r]){16&r&&(n.innerHTML=t[4]),P!==(P=E(t))&&(C.d(1),C=P(t),C&&(C.c(),C.m(o,s))),t[0].PREFERENCES.REDDashboard?M?M.p(t,r):(M=ir(t),M.c(),M.m(o,a)):M&&(M.d(1),M=null),R!==(R=T(t))&&(D.d(1),D=R(t),D&&(D.c(),D.m(g,null))),32&r&&v!==(v=h(t[5]?"liveColor":"deadColor")+" svelte-df4w47")&&k(g,"class",v),4&r&&S!==(S=h(t[2]?"show":"hide")+" svelte-df4w47")&&k(e,"class",S),2&r&&w(e,"background-color",t[1].editorBackground),2&r&&w(e,"color",t[1].textcolor)},i:i,o:i,d(n){n&&f(e),t[9](null),C.d(),M&&M.d(),D.d(),x=!1,l(_)}}}function cr(t,e,n){let r,{styles:o={}}=e,{ScriptPad:i={}}=e,{visible:s=!1}=e,a="",l=!1;L();function c(){l?i.stopRed(u):(i.initNodeRed(h),i.startRed(u))}function u(){n(5,l=i.REDSTARTED)}function h(t){var e=new Date(t.timestamp),r=e.getMinutes().toString();r=1===r.length?"0"+r:r;var o="["+(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+r+"]  ";void 0!==t.msg?o+=t.msg:o+=JSON.stringify(t,void 0,2),o.includes("Error")?n(4,a+='<p style="margin: 0px; color: red;">'+o+"</p>"):function(t){n(4,a+='<p style="margin: 0px;">'+t+"</p>")}(o)}function p(){if(l)i.nw.Window.open("http://localhost:"+i.PORTNUMBER+"/red/admin/",{id:"flowEditor"},t=>{});else{var t=new Notification("Node-Red in ScriptPad",{body:"Node-Red isn't started."});t.onclick=function(){},t.onshow=function(){setTimeout((function(){t.close()}),3e4)}}}function d(){if(l)i.nw.Window.open("http://localhost:"+i.PORTNUMBER+"/red/api/ui",{id:"NodeRedDashboard"},t=>{DBWin=t});else{var t=new Notification("Node-Red in ScriptPad",{body:"Node-Red isn't started."});t.onclick=function(){},t.onshow=function(){setTimeout((function(){t.close()}),3e4)}}}R(()=>{n(0,i.logger=h,i),setTimeout(()=>{!i.REDSTARTED&&i.PREFERENCES.REDAuto&&(n(5,l=!1),c())},3e4)}),D(()=>{n(3,r.scrollTop=r.scrollHeight-r.clientHeight,r)});return t.$$set=t=>{"styles"in t&&n(1,o=t.styles),"ScriptPad"in t&&n(0,i=t.ScriptPad),"visible"in t&&n(2,s=t.visible)},[i,o,s,r,a,l,c,p,d,function(t){A[t?"unshift":"push"](()=>{r=t,n(3,r)})},()=>{d()},()=>{p()},()=>{c()}]}class ur extends rt{constructor(t){super(),nt(this,t,cr,lr,u,{styles:1,ScriptPad:0,visible:2})}}const{window:hr}=Z;function pr(t){let e,n;return e=new pt({props:{iconAddress:t[1].todoIconAddress}}),e.$on("toggleTodo",t[43]),{c(){Q(e.$$.fragment)},m(t,r){tt(e,t,r),n=!0},p(t,n){const r={};2&n[0]&&(r.iconAddress=t[1].todoIconAddress),e.$set(r)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){et(e,t)}}}function dr(t){let e,n,r,o,i,s,a,c,u,h,g,v,S,x,_,E,P,C,M,T,R,D,L,N,A,O;n=new kn({props:{background:t[1].appBackground}}),i=new nr({props:{openPanel:t[14],styles:t[1],mConfig:t[0],ScriptPad:t[2]}}),i.$on("returnToMain",t[33]),a=new ur({props:{styles:t[1],ScriptPad:t[2],visible:t[5]}}),u=new yn({props:{openPanel:t[11],styles:t[1],preferences:t[0],currentID:t[4],ScriptPad:t[2]}}),u.$on("changeStyles",t[34]),u.$on("changePreferences",t[35]),u.$on("quitPreferences",t[36]),g=new we({props:{currentid:t[4],RegExpOpen:t[9],ScriptEditorOpen:t[10],TemplateEditorOpen:t[12],styles:t[1],preferences:t[0],ScriptPad:t[2]}}),g.$on("toggleRegExp",t[37]),g.$on("toggleScriptEditor",t[38]),g.$on("toggleTemplateEditor",t[39]),g.$on("changeTodos",t[40]),x=new gt({props:{openMenu:t[6],styles:t[1]}}),x.$on("toggleMainMenu",t[41]),E=new lt({props:{buttons:t[1].buttons}}),E.$on("selected",t[42]);let I=(t[0].UseTaskPaper||t[0].UseNotePlan)&&pr(t);return M=new Ft({props:{openPanel:t[7],preferences:t[0],styles:t[1],updateTodos:t[13],ScriptPad:t[2]}}),M.$on("clearUpdateTodos",t[44]),R=new Kt({props:{openMenu:t[6],ScriptPad:t[2],preferences:t[0],styles:t[1]}}),R.$on("toggleMainMenu",t[45]),R.$on("toggleAboutMenu",t[46]),R.$on("toggleNodeRed",t[47]),R.$on("toggleRegExp",t[48]),R.$on("toggleScriptEditor",t[49]),R.$on("toggleExtScriptEditor",t[50]),R.$on("toggleTemplateEditor",t[51]),R.$on("togglePreferences",t[52]),L=new Re({props:{open:t[8],styles:t[1],ScriptPad:t[2]}}),L.$on("toggleAboutMenu",t[53]),{c(){e=y(),Q(n.$$.fragment),r=y(),o=m("div"),Q(i.$$.fragment),s=y(),Q(a.$$.fragment),c=y(),Q(u.$$.fragment),h=y(),Q(g.$$.fragment),v=y(),S=m("div"),Q(x.$$.fragment),_=y(),Q(E.$$.fragment),P=y(),I&&I.c(),C=y(),Q(M.$$.fragment),T=y(),Q(R.$$.fragment),D=y(),Q(L.$$.fragment),document.title="ScriptPad",k(S,"id","controlsClosure"),k(S,"class","svelte-19kgqiq"),k(o,"id","main"),w(o,"background-color",t[1].appBackground),w(o,"color",t[1].textcolor),k(o,"class","svelte-19kgqiq")},m(l,f){d(l,e,f),tt(n,l,f),d(l,r,f),d(l,o,f),tt(i,o,null),p(o,s),tt(a,o,null),p(o,c),tt(u,o,null),p(o,h),tt(g,o,null),p(o,v),p(o,S),tt(x,S,null),p(S,_),tt(E,S,null),p(S,P),I&&I.m(S,null),p(o,C),tt(M,o,null),p(o,T),tt(R,o,null),p(o,D),tt(L,o,null),N=!0,A||(O=[b(hr,"blur",t[31]),b(hr,"keyup",t[32])],A=!0)},p(t,e){const r={};2&e[0]&&(r.background=t[1].appBackground),n.$set(r);const s={};16384&e[0]&&(s.openPanel=t[14]),2&e[0]&&(s.styles=t[1]),1&e[0]&&(s.mConfig=t[0]),4&e[0]&&(s.ScriptPad=t[2]),i.$set(s);const l={};2&e[0]&&(l.styles=t[1]),4&e[0]&&(l.ScriptPad=t[2]),32&e[0]&&(l.visible=t[5]),a.$set(l);const c={};2048&e[0]&&(c.openPanel=t[11]),2&e[0]&&(c.styles=t[1]),1&e[0]&&(c.preferences=t[0]),16&e[0]&&(c.currentID=t[4]),4&e[0]&&(c.ScriptPad=t[2]),u.$set(c);const h={};16&e[0]&&(h.currentid=t[4]),512&e[0]&&(h.RegExpOpen=t[9]),1024&e[0]&&(h.ScriptEditorOpen=t[10]),4096&e[0]&&(h.TemplateEditorOpen=t[12]),2&e[0]&&(h.styles=t[1]),1&e[0]&&(h.preferences=t[0]),4&e[0]&&(h.ScriptPad=t[2]),g.$set(h);const p={};64&e[0]&&(p.openMenu=t[6]),2&e[0]&&(p.styles=t[1]),x.$set(p);const d={};2&e[0]&&(d.buttons=t[1].buttons),E.$set(d),t[0].UseTaskPaper||t[0].UseNotePlan?I?(I.p(t,e),1&e[0]&&J(I,1)):(I=pr(t),I.c(),J(I,1),I.m(S,null)):I&&(q(),X(I,1,1,()=>{I=null}),K());const f={};128&e[0]&&(f.openPanel=t[7]),1&e[0]&&(f.preferences=t[0]),2&e[0]&&(f.styles=t[1]),8192&e[0]&&(f.updateTodos=t[13]),4&e[0]&&(f.ScriptPad=t[2]),M.$set(f);const m={};64&e[0]&&(m.openMenu=t[6]),4&e[0]&&(m.ScriptPad=t[2]),1&e[0]&&(m.preferences=t[0]),2&e[0]&&(m.styles=t[1]),R.$set(m);const v={};256&e[0]&&(v.open=t[8]),2&e[0]&&(v.styles=t[1]),4&e[0]&&(v.ScriptPad=t[2]),L.$set(v),(!N||2&e[0])&&w(o,"background-color",t[1].appBackground),(!N||2&e[0])&&w(o,"color",t[1].textcolor)},i(t){N||(J(n.$$.fragment,t),J(i.$$.fragment,t),J(a.$$.fragment,t),J(u.$$.fragment,t),J(g.$$.fragment,t),J(x.$$.fragment,t),J(E.$$.fragment,t),J(I),J(M.$$.fragment,t),J(R.$$.fragment,t),J(L.$$.fragment,t),N=!0)},o(t){X(n.$$.fragment,t),X(i.$$.fragment,t),X(a.$$.fragment,t),X(u.$$.fragment,t),X(g.$$.fragment,t),X(x.$$.fragment,t),X(E.$$.fragment,t),X(I),X(M.$$.fragment,t),X(R.$$.fragment,t),X(L.$$.fragment,t),N=!1},d(t){t&&f(e),et(n,t),t&&f(r),t&&f(o),et(i),et(a),et(u),et(g),et(x),et(E),I&&I.d(),et(M),et(R),et(L),A=!1,l(O)}}}function fr(t,e,n){let{prefs:r}=e,{styles:o}=e,{ScriptPad:i}=e,{onBlur:s}=e,{onClose:a}=e,l=0,c=!1,u=!1,h=!1,p=!1,d=!1,f=!1,g=!1,m=!1,v=!1,y=!1;function S(){n(13,v=!0)}function b(t){n(1,o=t),function(t){n(1,o.buttons=o.buttons.map(t=>(t.selected=!1,t)),o),globalThis.styleList.includes(t)||globalThis.styleList.push(t);n(2,i.STYLE=o,i),i.writeStyleFile(t)}(r.style)}function k(t){n(0,r=t),n(13,v=!0),n(2,i.PREFERENCES=r,i),i.writePreferencesFile()}function x(){n(11,g=!1),window.Pref=!1}function _(t){var e=t.key;if(t.ctrlKey&&(e>="0"&&e<="9"||"y"===e||"t"===e||"r"===e||"e"===e||"x"===e||"p"===e||"n"===e))switch(t.preventDefault(),t.stopPropagation(),e){case"r":T();break;case"y":E();break;case"e":R();break;case"t":D();break;case"p":break;case"n":w();case"1":N(0);break;case"2":N(1);break;case"3":N(2);break;case"4":N(3);break;case"5":N(4);break;case"6":N(5);break;case"7":N(6);break;case"8":N(7);break;case"9":N(8)}}function w(){c?n(5,c=!1):(n(5,c=!0),n(14,y=!1),n(8,p=!1),n(6,u=!1),n(7,h=!1),n(9,d=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function E(){y?n(14,y=!1):(n(5,c=!1),n(14,y=!0),n(8,p=!1),n(6,u=!1),n(7,h=!1),n(9,d=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function P(){p?n(8,p=!1):(n(5,c=!1),n(8,p=!0),n(14,y=!1),n(6,u=!1),n(7,h=!1),n(9,d=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function C(){u?n(6,u=!1):(n(6,u=!0),n(5,c=!1),n(14,y=!1),n(7,h=!1),n(8,p=!1),n(9,d=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function M(){h?n(7,h=!1):(n(7,h=!0),n(5,c=!1),n(14,y=!1),n(6,u=!1),n(8,p=!1),n(9,d=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function T(){d?n(9,d=!1):(n(9,d=!0),n(5,c=!1),n(14,y=!1),n(7,h=!1),n(6,u=!1),n(8,p=!1),n(10,f=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function R(){f?n(10,f=!1):(n(10,f=!0),n(5,c=!1),n(14,y=!1),n(9,d=!1),n(7,h=!1),n(6,u=!1),n(8,p=!1),n(11,g=!1),n(12,m=!1),window.Pref=!1)}function D(){m?n(12,m=!1):(n(5,c=!1),n(10,f=!1),n(14,y=!1),n(9,d=!1),n(7,h=!1),n(6,u=!1),n(8,p=!1),n(11,g=!1),n(12,m=!0),window.Pref=!1)}function L(){g?(n(11,g=!1),window.Pref=!1):(n(10,f=!1),n(5,c=!1),n(14,y=!1),n(9,d=!1),n(7,h=!1),n(6,u=!1),n(8,p=!1),n(11,g=!0),n(12,m=!1),window.Pref=!0)}function N(t){t>=0&&t<=8&&(n(1,o.buttons[l].selected=!1,o),n(4,l=t),n(1,o.buttons[t].selected=!0,o))}return t.$$set=t=>{"prefs"in t&&n(0,r=t.prefs),"styles"in t&&n(1,o=t.styles),"ScriptPad"in t&&n(2,i=t.ScriptPad),"onBlur"in t&&n(3,s=t.onBlur),"onClose"in t&&n(30,a=t.onClose)},[r,o,i,s,l,c,u,h,p,d,f,g,m,v,y,S,b,k,x,_,w,E,P,C,M,T,R,D,L,N,a,()=>{null!==s&&s()},t=>{_(t)},()=>{E()},t=>{b(t.detail.data)},t=>{k(t.detail.data)},()=>{x(),n(11,g=!1)},()=>{T()},()=>{R()},()=>{D()},()=>{S()},()=>{C()},t=>{N(t.detail.data)},()=>{M()},()=>{n(13,v=!1)},()=>{C()},()=>{P()},()=>{w()},()=>{T()},()=>{R()},()=>{E()},()=>{D()},t=>{L(t.detail.data)},()=>{P()}]}class gr extends rt{constructor(t){super(),nt(this,t,fr,dr,u,{prefs:0,styles:1,ScriptPad:2,onBlur:3,onClose:30},[-1,-1])}}var mr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function vr(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sr(t,e){return t(e={exports:{}},e.exports),e.exports}var br=Sr((function(t,e){t.exports=function(){var e,n;function r(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function l(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function p(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,r){return we(t,e,n,r,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=f(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function m(t){var e=d(NaN);return null!=t?p(f(e),t):f(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var v=r.momentProperties=[],y=!1;function S(t,e){var n,r,o;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=f(e)),l(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)l(o=e[r=v[n]])||(t[r]=o);return t}function b(t){S(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function k(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,e){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var o,i,a,l=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];l.push(o)}x(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var w,E={};function P(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),E[t]||(x(e),E[t]=!0)}function C(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var n,r=p({},t);for(n in e)s(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},p(r[n],t[n]),p(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&i(t[n])&&(r[n]=p({},r[n]));return r}function T(t){null!=t&&this.set(t)}function R(t,e,n){var r=""+Math.abs(t),o=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,w=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},A={};function O(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(A[t]=o),e&&(A[e[0]]=function(){return R(o.apply(this,arguments),e[1],e[2])}),n&&(A[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function I(t,e){return t.isValid()?(e=B(e,t.localeData()),N[e]=N[e]||function(t){var e,n,r,o=t.match(D);for(e=0,n=o.length;e<n;e++)A[o[e]]?o[e]=A[o[e]]:o[e]=(r=o[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,i="";for(r=0;r<n;r++)i+=C(o[r])?o[r].call(e,t):o[r];return i}}(e),N[e](t)):t.localeData().invalidDate()}function B(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(L.lastIndex=0;n>=0&&L.test(t);)t=t.replace(L,r),L.lastIndex=0,n-=1;return t}var $={};function Y(t,e){var n=t.toLowerCase();$[n]=$[n+"s"]=$[e]=t}function F(t){return"string"==typeof t?$[t]||$[t.toLowerCase()]:void 0}function U(t){var e,n,r={};for(n in t)s(t,n)&&(e=F(n))&&(r[e]=t[n]);return r}var H={};function j(t,e){H[t]=e}function W(t){return t%4==0&&t%100!=0||t%400==0}function V(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function z(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=V(e)),n}function G(t,e){return function(n){return null!=n?(K(this,t,n),r.updateOffset(this,e),this):q(this,t)}}function q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function K(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&W(t.year())&&1===t.month()&&29===t.date()?(n=z(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),kt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var J,X=/\d/,Z=/\d\d/,Q=/\d{3}/,tt=/\d{4}/,et=/[+-]?\d{6}/,nt=/\d\d?/,rt=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,it=/\d{1,3}/,st=/\d{1,4}/,at=/[+-]?\d{1,6}/,lt=/\d+/,ct=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,pt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function dt(t,e,n){J[t]=C(e)?e:function(t,r){return t&&n?n:e}}function ft(t,e){return s(J,t)?J[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,o){return e||n||r||o}))))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var mt,vt={};function yt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=z(t)}),n=0;n<t.length;n++)vt[t[n]]=r}function St(t,e){yt(t,(function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)}))}function bt(t,e,n){null!=e&&s(vt,t)&&vt[t](e,n._a,n,t)}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?W(t)?29:28:31-r%7%2}mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},O("M",["MM",2],"Mo",(function(){return this.month()+1})),O("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),O("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Y("month","M"),j("month",8),dt("M",nt),dt("MM",nt,Z),dt("MMM",(function(t,e){return e.monthsShortRegex(t)})),dt("MMMM",(function(t,e){return e.monthsRegex(t)})),yt(["M","MM"],(function(t,e){e[1]=z(t)-1})),yt(["MMM","MMMM"],(function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[1]=o:f(n).invalidMonth=t}));var xt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_t="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et=pt,Pt=pt;function Ct(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,s))?o:null:-1!==(o=mt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=mt.call(this._shortMonthsParse,s))||-1!==(o=mt.call(this._longMonthsParse,s))?o:null:-1!==(o=mt.call(this._longMonthsParse,s))||-1!==(o=mt.call(this._shortMonthsParse,s))?o:null}function Mt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=z(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Tt(t){return null!=t?(Mt(this,t),r.updateOffset(this,!0),this):q(this,"Month")}function Rt(){function t(t,e){return e.length-t.length}var e,n,r=[],o=[],i=[];for(e=0;e<12;e++)n=d([2e3,e]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)r[e]=gt(r[e]),o[e]=gt(o[e]);for(e=0;e<24;e++)i[e]=gt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Dt(t){return W(t)?366:365}O("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),O(0,["YY",2],0,(function(){return this.year()%100})),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),j("year",1),dt("Y",ct),dt("YY",nt,Z),dt("YYYY",st,tt),dt("YYYYY",at,et),dt("YYYYYY",at,et),yt(["YYYYY","YYYYYY"],0),yt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):z(t)})),yt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),yt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return z(t)+(z(t)>68?1900:2e3)};var Lt=G("FullYear",!0);function Nt(t,e,n,r,o,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,o,i,s),a}function At(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ot(t,e,n){var r=7+e-n;return-(7+At(t,0,r).getUTCDay()-e)%7+r-1}function It(t,e,n,r,o){var i,s,a=1+7*(e-1)+(7+n-r)%7+Ot(t,r,o);return a<=0?s=Dt(i=t-1)+a:a>Dt(t)?(i=t+1,s=a-Dt(t)):(i=t,s=a),{year:i,dayOfYear:s}}function Bt(t,e,n){var r,o,i=Ot(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?r=s+$t(o=t.year()-1,e,n):s>$t(t.year(),e,n)?(r=s-$t(t.year(),e,n),o=t.year()+1):(o=t.year(),r=s),{week:r,year:o}}function $t(t,e,n){var r=Ot(t,e,n),o=Ot(t+1,e,n);return(Dt(t)-r+o)/7}function Yt(t,e){return t.slice(e,7).concat(t.slice(0,e))}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),j("week",5),j("isoWeek",5),dt("w",nt),dt("ww",nt,Z),dt("W",nt),dt("WW",nt,Z),St(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=z(t)})),O("d",0,"do","day"),O("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),O("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),O("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),dt("d",nt),dt("e",nt),dt("E",nt),dt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),dt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),dt("dddd",(function(t,e){return e.weekdaysRegex(t)})),St(["dd","ddd","dddd"],(function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);null!=o?e.d=o:f(n).invalidWeekday=t})),St(["d","e","E"],(function(t,e,n,r){e[r]=z(t)}));var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ht="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=pt,Wt=pt,Vt=pt;function zt(t,e,n){var r,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=mt.call(this._weekdaysParse,s))||-1!==(o=mt.call(this._shortWeekdaysParse,s))||-1!==(o=mt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=mt.call(this._shortWeekdaysParse,s))||-1!==(o=mt.call(this._weekdaysParse,s))||-1!==(o=mt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=mt.call(this._minWeekdaysParse,s))||-1!==(o=mt.call(this._weekdaysParse,s))||-1!==(o=mt.call(this._shortWeekdaysParse,s))?o:null}function Gt(){function t(t,e){return e.length-t.length}var e,n,r,o,i,s=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),r=gt(this.weekdaysMin(n,"")),o=gt(this.weekdaysShort(n,"")),i=gt(this.weekdays(n,"")),s.push(r),a.push(o),l.push(i),c.push(r),c.push(o),c.push(i);s.sort(t),a.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qt(){return this.hours()%12||12}function Kt(t,e){O(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Jt(t,e){return e._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,qt),O("k",["kk",2],0,(function(){return this.hours()||24})),O("hmm",0,0,(function(){return""+qt.apply(this)+R(this.minutes(),2)})),O("hmmss",0,0,(function(){return""+qt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),O("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),O("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Kt("a",!0),Kt("A",!1),Y("hour","h"),j("hour",13),dt("a",Jt),dt("A",Jt),dt("H",nt),dt("h",nt),dt("k",nt),dt("HH",nt,Z),dt("hh",nt,Z),dt("kk",nt,Z),dt("hmm",rt),dt("hmmss",ot),dt("Hmm",rt),dt("Hmmss",ot),yt(["H","HH"],3),yt(["k","kk"],(function(t,e,n){var r=z(t);e[3]=24===r?0:r})),yt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),yt(["h","hh"],(function(t,e,n){e[3]=z(t),f(n).bigHour=!0})),yt("hmm",(function(t,e,n){var r=t.length-2;e[3]=z(t.substr(0,r)),e[4]=z(t.substr(r)),f(n).bigHour=!0})),yt("hmmss",(function(t,e,n){var r=t.length-4,o=t.length-2;e[3]=z(t.substr(0,r)),e[4]=z(t.substr(r,2)),e[5]=z(t.substr(o)),f(n).bigHour=!0})),yt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=z(t.substr(0,r)),e[4]=z(t.substr(r))})),yt("Hmmss",(function(t,e,n){var r=t.length-4,o=t.length-2;e[3]=z(t.substr(0,r)),e[4]=z(t.substr(r,2)),e[5]=z(t.substr(o))}));var Xt,Zt=G("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xt,monthsShort:_t,week:{dow:0,doy:6},weekdays:Ft,weekdaysMin:Ht,weekdaysShort:Ut,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ne(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function re(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var n=null;if(void 0===te[e]&&t&&t.exports)try{n=Xt._abbr,vr(),ie(n)}catch(t){te[e]=null}return te[e]}function ie(t,e){var n;return t&&((n=l(e)?ae(t):se(t,e))?Xt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Xt._abbr}function se(t,e){if(null!==e){var n,r=Qt;if(e.abbr=t,null!=te[t])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])r=te[e.parentLocale]._config;else{if(null==(n=oe(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;r=n._config}return te[t]=new T(M(r,e)),ee[t]&&ee[t].forEach((function(t){se(t.name,t.config)})),ie(t),te[t]}return delete te[t],null}function ae(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Xt;if(!o(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,n,r,o,i=0;i<t.length;){for(e=(o=re(t[i]).split("-")).length,n=(n=re(t[i+1]))?n.split("-"):null;e>0;){if(r=oe(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&ne(o,n)>=e-1)break;e--}i++}return Xt}(t)}function le(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>kt(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),f(t)._overflowWeeks&&-1===e&&(e=7),f(t)._overflowWeekday&&-1===e&&(e=8),f(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],de=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],fe=/^\/?Date\((-?\d+)/i,ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,me={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ve(t){var e,n,r,o,i,s,a=t._i,l=ce.exec(a)||ue.exec(a);if(l){for(f(t).iso=!0,e=0,n=pe.length;e<n;e++)if(pe[e][1].exec(l[1])){o=pe[e][0],r=!1!==pe[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=de.length;e<n;e++)if(de[e][1].exec(l[3])){i=(l[2]||" ")+de[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(l[4]){if(!he.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(i||"")+(s||""),xe(t)}else t._isValid=!1}function ye(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Se(t){var e,n,r,o,i,s,a,l,c=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],o=c[2],i=c[5],s=c[6],a=c[7],l=[ye(n),_t.indexOf(r),parseInt(o,10),parseInt(i,10),parseInt(s,10)],a&&l.push(parseInt(a,10)),e=l,!function(t,e,n){return!t||Ut.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return me[t];if(e)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(c[8],c[9],c[10]),t._d=At.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function be(t,e,n){return null!=t?t:null!=e?e:n}function ke(t){var e,n,o,i,s,a=[];if(!t._d){for(o=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,o,i,s,a,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,s=4,n=be(e.GG,t._a[0],Bt(Ee(),1,4).year),r=be(e.W,1),((o=be(e.E,1))<1||o>7)&&(l=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,c=Bt(Ee(),i,s),n=be(e.gg,t._a[0],c.year),r=be(e.w,c.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(l=!0)):o=i),r<1||r>$t(n,i,s)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=It(n,r,o,i,s),t._a[0]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(s=be(t._a[0],o[0]),(t._dayOfYear>Dt(s)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=At(s,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=o[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?At:Nt).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(f(t).weekdayMismatch=!0)}}function xe(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],f(t).empty=!0;var e,n,o,i,s,a,l=""+t._i,c=l.length,u=0;for(o=B(t._f,t._locale).match(D)||[],e=0;e<o.length;e++)i=o[e],(n=(l.match(ft(i,t))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&f(t).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),u+=n.length),A[i]?(n?f(t).empty=!1:f(t).unusedTokens.push(i),bt(i,n,t)):t._strict&&!n&&f(t).unusedTokens.push(i);f(t).charsLeftOver=c-u,l.length>0&&f(t).unusedInput.push(l),t._a[3]<=12&&!0===f(t).bigHour&&t._a[3]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(a=f(t).era)&&(t._a[0]=t._locale.erasConvertYear(a,t._a[0])),ke(t),le(t)}else Se(t);else ve(t)}function _e(t){var e=t._i,n=t._f;return t._locale=t._locale||ae(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new b(le(e)):(u(e)?t._d=e:o(n)?function(t){var e,n,r,o,i,s,a=!1;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,s=!1,e=S({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],xe(e),g(e)&&(s=!0),i+=f(e).charsLeftOver,i+=10*f(e).unusedTokens.length,f(e).score=i,a?i<r&&(r=i,n=e):(null==r||i<r||s)&&(r=i,n=e,s&&(a=!0));p(t,n||e)}(t):n?xe(t):function(t){var e=t._i;l(e)?t._d=new Date(r.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=fe.exec(t._i);null===e?(ve(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),ke(t)):i(e)?function(t){if(!t._d){var e=U(t._i),n=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ke(t)}}(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function we(t,e,n,r,s){var l,c={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(t)&&a(t)||o(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=t,c._f=e,c._strict=r,(l=new b(le(_e(c))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Ee(t,e,n,r){return we(t,e,n,r,!1)}r.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Pe=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),Ce=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function Me(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Ee();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(t){var e=U(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=function(t){var e,n,r=!1;for(e in t)if(s(t,e)&&(-1===mt.call(Te,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<Te.length;++n)if(t[Te[n]]){if(r)return!1;parseFloat(t[Te[n]])!==z(t[Te[n]])&&(r=!0)}return!0}(e),this._milliseconds=+h+1e3*u+6e4*c+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=ae(),this._bubble()}function De(t){return t instanceof Re}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ne(t,e){O(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)}))}Ne("Z",":"),Ne("ZZ",""),dt("Z",ht),dt("ZZ",ht),yt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Oe(ht,t)}));var Ae=/([\+\-]|\d\d)/gi;function Oe(t,e){var n,r,o=(e||"").match(t);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Ae)||["-",0,0])[1]+z(n[2]))?0:"+"===n[0]?r:-r}function Ie(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(k(t)||u(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Ee(t).local()}function Be(t){return-Math.round(t._d.getTimezoneOffset())}function $e(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ye=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var n,r,o,i=t,a=null;return De(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(a=Ye.exec(t))?(n="-"===a[1]?-1:1,i={y:0,d:z(a[2])*n,h:z(a[3])*n,m:z(a[4])*n,s:z(a[5])*n,ms:z(Le(1e3*a[6]))*n}):(a=Fe.exec(t))?(n="-"===a[1]?-1:1,i={y:He(a[2],n),M:He(a[3],n),w:He(a[4],n),d:He(a[5],n),h:He(a[6],n),m:He(a[7],n),s:He(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Ie(e,t),t.isBefore(e)?n=je(t,e):((n=je(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ee(i.from),Ee(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new Re(i),De(t)&&s(t,"_locale")&&(r._locale=t._locale),De(t)&&s(t,"_isValid")&&(r._isValid=t._isValid),r}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function je(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(t,e){return function(n,r){var o;return null===r||isNaN(+r)||(P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Ve(this,Ue(n,r),t),this}}function Ve(t,e,n,o){var i=e._milliseconds,s=Le(e._days),a=Le(e._months);t.isValid()&&(o=null==o||o,a&&Mt(t,q(t,"Month")+a*n),s&&K(t,"Date",q(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),o&&r.updateOffset(t,s||a))}Ue.fn=Re.prototype,Ue.invalid=function(){return Ue(NaN)};var ze=We(1,"add"),Ge=We(-1,"subtract");function qe(t){return"string"==typeof t||t instanceof String}function Ke(t){return k(t)||u(t)||qe(t)||c(t)||function(t){var e=o(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&qe(t)})).length),e&&n}(t)||function(t){var e,n,r=i(t)&&!a(t),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<l.length;e+=1)n=l[e],o=o||s(t,n);return r&&o}(t)||null==t}function Je(t){var e,n=i(t)&&!a(t),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)r=r||s(t,o[e]);return n&&r}function Xe(t,e){if(t.date()<e.date())return-Xe(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ae(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function tn(){return this._locale}function en(t,e){return(t%e+e)%e}function nn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function rn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function on(t,e){return e.erasAbbrRegex(t)}function sn(){var t,e,n=[],r=[],o=[],i=[],s=this.eras();for(t=0,e=s.length;t<e;++t)r.push(gt(s[t].name)),n.push(gt(s[t].abbr)),o.push(gt(s[t].narrow)),i.push(gt(s[t].name)),i.push(gt(s[t].abbr)),i.push(gt(s[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function an(t,e){O(0,[t,t.length],0,e)}function ln(t,e,n,r,o){var i;return null==t?Bt(this,r,o).year:(e>(i=$t(t,r,o))&&(e=i),cn.call(this,t,e,n,r,o))}function cn(t,e,n,r,o){var i=It(t,e,n,r,o),s=At(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),dt("N",on),dt("NN",on),dt("NNN",on),dt("NNNN",(function(t,e){return e.erasNameRegex(t)})),dt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),yt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var o=n._locale.erasParse(t,r,n._strict);o?f(n).era=o:f(n).invalidEra=t})),dt("y",lt),dt("yy",lt),dt("yyy",lt),dt("yyyy",lt),dt("yo",(function(t,e){return e._eraYearOrdinalRegex||lt})),yt(["y","yy","yyy","yyyy"],0),yt(["yo"],(function(t,e,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,o):e[0]=parseInt(t,10)})),O(0,["gg",2],0,(function(){return this.weekYear()%100})),O(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),dt("G",ct),dt("g",ct),dt("GG",nt,Z),dt("gg",nt,Z),dt("GGGG",st,tt),dt("gggg",st,tt),dt("GGGGG",at,et),dt("ggggg",at,et),St(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=z(t)})),St(["gg","GG"],(function(t,e,n,o){e[o]=r.parseTwoDigitYear(t)})),O("Q",0,"Qo","quarter"),Y("quarter","Q"),j("quarter",7),dt("Q",X),yt("Q",(function(t,e){e[1]=3*(z(t)-1)})),O("D",["DD",2],"Do","date"),Y("date","D"),j("date",9),dt("D",nt),dt("DD",nt,Z),dt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),yt(["D","DD"],2),yt("Do",(function(t,e){e[2]=z(t.match(nt)[0])}));var un=G("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),j("dayOfYear",4),dt("DDD",it),dt("DDDD",Q),yt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=z(t)})),O("m",["mm",2],0,"minute"),Y("minute","m"),j("minute",14),dt("m",nt),dt("mm",nt,Z),yt(["m","mm"],4);var hn=G("Minutes",!1);O("s",["ss",2],0,"second"),Y("second","s"),j("second",15),dt("s",nt),dt("ss",nt,Z),yt(["s","ss"],5);var pn,dn,fn=G("Seconds",!1);for(O("S",0,0,(function(){return~~(this.millisecond()/100)})),O(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),O(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),O(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),O(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),O(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),O(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),j("millisecond",16),dt("S",it,X),dt("SS",it,Z),dt("SSS",it,Q),pn="SSSS";pn.length<=9;pn+="S")dt(pn,lt);function gn(t,e){e[6]=z(1e3*("0."+t))}for(pn="S";pn.length<=9;pn+="S")yt(pn,gn);dn=G("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var mn=b.prototype;function vn(t){return t}mn.add=ze,mn.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ke(arguments[0])?(t=arguments[0],e=void 0):Je(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ee(),o=Ie(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",s=e&&(C(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Ee(n)))},mn.clone=function(){return new b(this)},mn.diff=function(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Ie(t,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),e=F(e)){case"year":i=Xe(this,r)/12;break;case"month":i=Xe(this,r);break;case"quarter":i=Xe(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:V(i)},mn.endOf=function(t){var e,n;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-en(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-en(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},mn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=I(this,t);return this.localeData().postformat(e)},mn.from=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Ee(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.fromNow=function(t){return this.from(Ee(),t)},mn.to=function(t,e){return this.isValid()&&(k(t)&&t.isValid()||Ee(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.toNow=function(t){return this.to(Ee(),t)},mn.get=function(t){return C(this[t=F(t)])?this[t]():this},mn.invalidAt=function(){return f(this).overflow},mn.isAfter=function(t,e){var n=k(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},mn.isBefore=function(t,e){var n=k(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},mn.isBetween=function(t,e,n,r){var o=k(t)?t:Ee(t),i=k(e)?e:Ee(e);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n)))},mn.isSame=function(t,e){var n,r=k(t)?t:Ee(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},mn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},mn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},mn.isValid=function(){return g(this)},mn.lang=Qe,mn.locale=Ze,mn.localeData=tn,mn.max=Ce,mn.min=Pe,mn.parsingFlags=function(){return p({},f(this))},mn.set=function(t,e){if("object"==typeof t){var n,r=function(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:H[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=U(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(C(this[t=F(t)]))return this[t](e);return this},mn.startOf=function(t){var e,n;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=en(e,6e4);break;case"second":e=this._d.valueOf(),e-=en(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},mn.subtract=Ge,mn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},mn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?I(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(n,"Z")):I(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(mn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.eraName=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""},mn.eraNarrow=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""},mn.eraAbbr=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""},mn.eraYear=function(){var t,e,n,o,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,o=this.clone().startOf("day").valueOf(),i[t].since<=o&&o<=i[t].until||i[t].until<=o&&o<=i[t].since)return(this.year()-r(i[t].since).year())*n+i[t].offset;return this.year()},mn.year=Lt,mn.isLeapYear=function(){return W(this.year())},mn.weekYear=function(t){return ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(t){return ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},mn.month=Tt,mn.daysInMonth=function(){return kt(this.year(),this.month())},mn.week=mn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},mn.isoWeek=mn.isoWeeks=function(t){var e=Bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},mn.weeksInYear=function(){var t=this.localeData()._week;return $t(this.year(),t.dow,t.doy)},mn.weeksInWeekYear=function(){var t=this.localeData()._week;return $t(this.weekYear(),t.dow,t.doy)},mn.isoWeeksInYear=function(){return $t(this.year(),1,4)},mn.isoWeeksInISOWeekYear=function(){return $t(this.isoWeekYear(),1,4)},mn.date=un,mn.day=mn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},mn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},mn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},mn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},mn.hour=mn.hours=Zt,mn.minute=mn.minutes=hn,mn.second=mn.seconds=fn,mn.millisecond=mn.milliseconds=dn,mn.utcOffset=function(t,e,n){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Oe(ht,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=Be(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?Ve(this,Ue(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Be(this)},mn.utc=function(t){return this.utcOffset(0,t)},mn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Oe(ut,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=$e,mn.isUTC=$e,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=_("dates accessor is deprecated. Use date instead.",un),mn.months=_("months accessor is deprecated. Use month instead",Tt),mn.years=_("years accessor is deprecated. Use year instead",Lt),mn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),mn.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return S(e,this),(e=_e(e))._a?(t=e._isUTC?d(e._a):Ee(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(r=0;r<o;r++)(n&&t[r]!==e[r]||!n&&z(t[r])!==z(e[r]))&&s++;return s+i}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=T.prototype;function Sn(t,e,n,r){var o=ae(),i=d().set(r,e);return o[n](i,t)}function bn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return Sn(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Sn(t,r,n,"month");return o}function kn(t,e,n,r){"boolean"==typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var o,i=ae(),s=t?i._week.dow:0,a=[];if(null!=n)return Sn(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Sn(e,(o+s)%7,r,"day");return a}yn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r},yn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(D).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(t){return this._ordinal.replace("%d",t)},yn.preparse=vn,yn.postformat=vn,yn.relativeTime=function(t,e,n,r){var o=this._relativeTime[n];return C(o)?o(t,e,n,r):o.replace(/%d/i,t)},yn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},yn.set=function(t){var e,n;for(n in t)s(t,n)&&(C(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(t,e){var n,o,i,s=this._eras||ae("en")._eras;for(n=0,o=s.length;n<o;++n){switch(typeof s[n].since){case"string":i=r(s[n].since).startOf("day"),s[n].since=i.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=r(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}}return s},yn.erasParse=function(t,e,n){var r,o,i,s,a,l=this.eras();for(t=t.toUpperCase(),r=0,o=l.length;r<o;++r)if(i=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return l[r];break;case"NNNN":if(i===t)return l[r];break;case"NNNNN":if(a===t)return l[r]}else if([i,s,a].indexOf(t)>=0)return l[r]},yn.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n},yn.erasAbbrRegex=function(t){return s(this,"_erasAbbrRegex")||sn.call(this),t?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(t){return s(this,"_erasNameRegex")||sn.call(this),t?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(t){return s(this,"_erasNarrowRegex")||sn.call(this),t?this._erasNarrowRegex:this._erasRegex},yn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||wt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},yn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[wt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(t,e,n){var r,o,i;if(this._monthsParseExact)return Ct.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},yn.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Rt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Rt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(t){return Bt(t,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Yt(n,this._week.dow):t?n[t.day()]:n},yn.weekdaysMin=function(t){return!0===t?Yt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yn.weekdaysShort=function(t){return!0===t?Yt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yn.weekdaysParse=function(t,e,n){var r,o,i;if(this._weekdaysParseExact)return zt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},yn.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ie("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===z(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=_("moment.lang is deprecated. Use moment.locale instead.",ie),r.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ae);var xn=Math.abs;function _n(t,e,n,r){var o=Ue(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function wn(t){return t<0?Math.floor(t):Math.ceil(t)}function En(t){return 4800*t/146097}function Pn(t){return 146097*t/4800}function Cn(t){return function(){return this.as(t)}}var Mn=Cn("ms"),Tn=Cn("s"),Rn=Cn("m"),Dn=Cn("h"),Ln=Cn("d"),Nn=Cn("w"),An=Cn("M"),On=Cn("Q"),In=Cn("y");function Bn(t){return function(){return this.isValid()?this._data[t]:NaN}}var $n=Bn("milliseconds"),Yn=Bn("seconds"),Fn=Bn("minutes"),Un=Bn("hours"),Hn=Bn("days"),jn=Bn("months"),Wn=Bn("years"),Vn=Math.round,zn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gn(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}var qn=Math.abs;function Kn(t){return(t>0)-(t<0)||+t}function Jn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,o,i,s,a,l=qn(this._milliseconds)/1e3,c=qn(this._days),u=qn(this._months),h=this.asSeconds();return h?(t=V(l/60),e=V(t/60),l%=60,t%=60,n=V(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=h<0?"-":"",i=Kn(this._months)!==Kn(h)?"-":"",s=Kn(this._days)!==Kn(h)?"-":"",a=Kn(this._milliseconds)!==Kn(h)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(c?s+c+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+r+"S":"")):"P0D"}var Xn=Re.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var t=this._data;return this._milliseconds=xn(this._milliseconds),this._days=xn(this._days),this._months=xn(this._months),t.milliseconds=xn(t.milliseconds),t.seconds=xn(t.seconds),t.minutes=xn(t.minutes),t.hours=xn(t.hours),t.months=xn(t.months),t.years=xn(t.years),this},Xn.add=function(t,e){return _n(this,t,e,1)},Xn.subtract=function(t,e){return _n(this,t,e,-1)},Xn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=F(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+En(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Pn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Xn.asMilliseconds=Mn,Xn.asSeconds=Tn,Xn.asMinutes=Rn,Xn.asHours=Dn,Xn.asDays=Ln,Xn.asWeeks=Nn,Xn.asMonths=An,Xn.asQuarters=On,Xn.asYears=In,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},Xn._bubble=function(){var t,e,n,r,o,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*wn(Pn(a)+s),s=0,a=0),l.milliseconds=i%1e3,t=V(i/1e3),l.seconds=t%60,e=V(t/60),l.minutes=e%60,n=V(e/60),l.hours=n%24,s+=V(n/24),o=V(En(s)),a+=o,s-=wn(Pn(o)),r=V(a/12),a%=12,l.days=s,l.months=a,l.years=r,this},Xn.clone=function(){return Ue(this)},Xn.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},Xn.milliseconds=$n,Xn.seconds=Yn,Xn.minutes=Fn,Xn.hours=Un,Xn.days=Hn,Xn.weeks=function(){return V(this.days()/7)},Xn.months=jn,Xn.years=Wn,Xn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=zn;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(i=Object.assign({},zn,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),n=this.localeData(),r=function(t,e,n,r){var o=Ue(t).abs(),i=Vn(o.as("s")),s=Vn(o.as("m")),a=Vn(o.as("h")),l=Vn(o.as("d")),c=Vn(o.as("M")),u=Vn(o.as("w")),h=Vn(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(p=p||u<=1&&["w"]||u<n.w&&["ww",u]),(p=p||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,p[3]=+t>0,p[4]=r,Gn.apply(null,p)}(this,!o,i,n),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},Xn.toISOString=Jn,Xn.toString=Jn,Xn.toJSON=Jn,Xn.locale=Ze,Xn.localeData=tn,Xn.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jn),Xn.lang=Qe,O("X",0,0,"unix"),O("x",0,0,"valueOf"),dt("x",ct),dt("X",/[+-]?\d+(\.\d{1,3})?/),yt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),yt("x",(function(t,e,n){n._d=new Date(z(t))})),
//! moment.js
r.version="2.29.0",e=Ee,r.fn=mn,r.min=function(){var t=[].slice.call(arguments,0);return Me("isBefore",t)},r.max=function(){var t=[].slice.call(arguments,0);return Me("isAfter",t)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=d,r.unix=function(t){return Ee(1e3*t)},r.months=function(t,e){return bn(t,e,"months")},r.isDate=u,r.locale=ie,r.invalid=m,r.duration=Ue,r.isMoment=k,r.weekdays=function(t,e,n){return kn(t,e,n,"weekdays")},r.parseZone=function(){return Ee.apply(null,arguments).parseZone()},r.localeData=ae,r.isDuration=De,r.monthsShort=function(t,e){return bn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return kn(t,e,n,"weekdaysMin")},r.defineLocale=se,r.updateLocale=function(t,e){if(null!=e){var n,r,o=Qt;null!=te[t]&&null!=te[t].parentLocale?te[t].set(M(te[t]._config,e)):(null!=(r=oe(t))&&(o=r._config),e=M(o,e),null==r&&(e.abbr=t),(n=new T(e)).parentLocale=te[t],te[t]=n),ie(t)}else null!=te[t]&&(null!=te[t].parentLocale?(te[t]=te[t].parentLocale,t===ie()&&ie(t)):null!=te[t]&&delete te[t]);return te[t]},r.locales=function(){return w(te)},r.weekdaysShort=function(t,e,n){return kn(t,e,n,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeRounding=function(t){return void 0===t?Vn:"function"==typeof t&&(Vn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==zn[t]&&(void 0===e?zn[t]:(zn[t]=e,"s"===t&&(zn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=mn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()})),kr=Sr((function(t,e){e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!o.test(t))return t;return t.replace(r,i)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function i(t){return n[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var a=Object.prototype.toString;e.toString=a;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=c}));yr(kr);kr.extend,kr.indexOf,kr.escapeExpression,kr.isEmpty,kr.createFrame,kr.blockParams,kr.appendContextPath,kr.isFunction,kr.isArray;var xr=Sr((function(t,e){e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var o=e&&e.loc,i=void 0,s=void 0,a=void 0,l=void 0;o&&(i=o.start.line,s=o.end.line,a=o.start.column,l=o.end.column,t+=" - "+i+":"+a);for(var c=Error.prototype.constructor.call(this,t),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default}));yr(xr);var _r=Sr((function(t,e){e.__esModule=!0,e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(kr.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var i=kr.createFrame(n.data);i.contextPath=kr.appendContextPath(n.data.contextPath,n.name),n={data:i}}return o(e,n)}))},t.exports=e.default}));yr(_r);var wr=Sr((function(t,e){e.__esModule=!0;var n,r=(n=xr)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new r.default("Must pass iterator to #each");var n,o=e.fn,i=e.inverse,s=0,a="",l=void 0,c=void 0;function u(e,n,r){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!r,c&&(l.contextPath=c+e)),a+=o(t[e],{data:l,blockParams:kr.blockParams([t[e],e],[c+e,null])})}if(e.data&&e.ids&&(c=kr.appendContextPath(e.data.contextPath,e.ids[0])+"."),kr.isFunction(t)&&(t=t.call(this)),e.data&&(l=kr.createFrame(e.data)),t&&"object"==typeof t)if(kr.isArray(t))for(var h=t.length;s<h;s++)s in t&&u(s,s,s===t.length-1);else if(mr.Symbol&&t[mr.Symbol.iterator]){for(var p=[],d=t[mr.Symbol.iterator](),f=d.next();!f.done;f=d.next())p.push(f.value);for(h=(t=p).length;s<h;s++)u(s,s,s===t.length-1)}else n=void 0,Object.keys(t).forEach((function(t){void 0!==n&&u(n,s-1),n=t,s++})),void 0!==n&&u(n,s-1,!0);return 0===s&&(a=i(this)),a}))},t.exports=e.default}));yr(wr);var Er=Sr((function(t,e){e.__esModule=!0;var n,r=(n=xr)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default}));yr(Er);var Pr=Sr((function(t,e){e.__esModule=!0;var n,r=(n=xr)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return kr.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||kr.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default}));yr(Pr);var Cr=Sr((function(t,e){e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default}));yr(Cr);var Mr=Sr((function(t,e){e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default}));yr(Mr);var Tr=Sr((function(t,e){e.__esModule=!0;var n,r=(n=xr)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");kr.isFunction(t)&&(t=t.call(this));var n=e.fn;if(kr.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&((o=kr.createFrame(e.data)).contextPath=kr.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:o,blockParams:kr.blockParams([t],[o&&o.contextPath])})}))},t.exports=e.default}));yr(Tr);var Rr=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),i.default(t),s.default(t),a.default(t),l.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var r=n(_r),o=n(wr),i=n(Er),s=n(Pr),a=n(Cr),l=n(Mr),c=n(Tr)}));yr(Rr);Rr.registerDefaultHelpers,Rr.moveHelperToHooks;var Dr=Sr((function(t,e){e.__esModule=!0,e.default=function(t){t.registerDecorator("inline",(function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var i=n.partials;n.partials=kr.extend({},i,e.partials);var s=t(r,o);return n.partials=i,s}),e.partials[r.args[0]]=r.fn,o}))},t.exports=e.default}));yr(Dr);var Lr=Sr((function(t,e){e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var n,r=(n=Dr)&&n.__esModule?n:{default:n}}));yr(Lr);Lr.registerDefaultDecorators;var Nr=Sr((function(t,e){e.__esModule=!0;var n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=kr.indexOf(n.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=n.lookupLevel(t),"undefined"!=typeof console&&n.lookupLevel(n.level)<=t){var e=n.methodMap[t];console[e]||(e="log");for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];console[e].apply(console,o)}}};e.default=n,t.exports=e.default}));yr(Nr);var Ar=Sr((function(t,e){e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return kr.extend.apply(void 0,[Object.create(null)].concat(e))}}));yr(Ar);Ar.createNewLookupObject;var Or=Sr((function(t,e){e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:Ar.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:Ar.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return o("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(r).forEach((function(t){delete r[t]}))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(Nr),r=Object.create(null);function o(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==r[t]&&(r[t]=!0,n.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}}));yr(Or);Or.createProtoAccessControl,Or.resultIsAllowed,Or.resetLoggedProperties;var Ir=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=i;var r=n(xr),o=n(Nr);e.VERSION="4.7.6";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},Rr.registerDefaultHelpers(this),Lr.registerDefaultDecorators(this)}i.prototype={constructor:i,logger:o.default,log:o.default.log,registerHelper:function(t,e){if("[object Object]"===kr.toString.call(t)){if(e)throw new r.default("Arg not supported with multiple helpers");kr.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===kr.toString.call(t))kr.extend(this.partials,t);else{if(void 0===e)throw new r.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===kr.toString.call(t)){if(e)throw new r.default("Arg not supported with multiple decorators");kr.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){Or.resetLoggedProperties()}};var s=o.default.log;e.log=s,e.createFrame=kr.createFrame,e.logger=o.default}));yr(Ir);Ir.HandlebarsEnvironment,Ir.VERSION,Ir.COMPILER_REVISION,Ir.LAST_COMPATIBLE_COMPILER_REVISION,Ir.REVISION_CHANGES,Ir.log,Ir.createFrame,Ir.logger;var Br=Sr((function(t,e){function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default}));yr(Br);var $r=Sr((function(t,e){e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}}));yr($r);$r.wrapHelper;var Yr=Sr((function(t,e){e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=Ir.COMPILER_REVISION;if(e>=Ir.LAST_COMPATIBLE_COMPILER_REVISION&&e<=Ir.COMPILER_REVISION)return;if(e<Ir.LAST_COMPATIBLE_COMPILER_REVISION){var r=Ir.REVISION_CHANGES[n],i=Ir.REVISION_CHANGES[e];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new o.default("No environment passed to template");if(!t||!t.main)throw new o.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var s={strict:function(t,e,n){if(!t||!(e in t))throw new o.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||Or.resultIsAllowed(n,s.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++){if(null!=(t[r]&&s.lookupProperty(t[r],e)))return t[r][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:r.escapeExpression,invokePartial:function(n,i,s){s.hash&&(i=r.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,s);var a=r.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=e.VM.invokePartial.call(this,n,i,a);if(null==l&&e.compile&&(s.partials[s.name]=e.compile(n,t.compilerOptions,e),l=s.partials[s.name](i,a)),null!=l){if(s.indent){for(var c=l.split("\n"),u=0,h=c.length;u<h&&(c[u]||u+1!==h);u++)c[u]=s.indent+c[u];l=c.join("\n")}return l}throw new o.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var s=this.programs[t],a=this.fn(t);return e||o||r||n?s=i(this,t,a,e,n,r,o):s||(s=this.programs[t]=i(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=r.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function c(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;c._setup(n),!n.partial&&t.useData&&(r=a(e,r));var o=void 0,i=t.useBlockParams?[]:void 0;function u(e){return""+t.main(s,e,s.helpers,s.partials,r,i,o)}return t.useDepths&&(o=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(u=l(t.main,u,s,n.depths||[],r,i))(e,n)}return c.isTop=!0,c._setup=function(o){if(o.partial)s.protoAccessControl=o.protoAccessControl,s.helpers=o.helpers,s.partials=o.partials,s.decorators=o.decorators,s.hooks=o.hooks;else{var i=r.extend({},e.helpers,o.helpers);!function(t,e){Object.keys(t).forEach((function(n){var o=t[n];t[n]=function(t,e){var n=e.lookupProperty;return $r.wrapHelper(t,(function(t){return r.extend({lookupProperty:n},t)}))}(o,e)}))}(i,s),s.helpers=i,t.usePartial&&(s.partials=s.mergeIfNeeded(o.partials,e.partials)),(t.usePartial||t.useDecorators)&&(s.decorators=r.extend({},e.decorators,o.decorators)),s.hooks={},s.protoAccessControl=Or.createProtoAccessControl(o);var a=o.allowCallsToHelperMissing||n;Rr.moveHelperToHooks(s,"helperMissing",a),Rr.moveHelperToHooks(s,"blockHelperMissing",a)}},c._child=function(e,n,r,a){if(t.useBlockParams&&!r)throw new o.default("must pass block params");if(t.useDepths&&!a)throw new o.default("must pass parent depths");return i(s,e,t[e],n,0,r,a)},c},e.wrapProgram=i,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==s&&function(){n.data=Ir.createFrame(n.data);var t=n.fn;a=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=Ir.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=r.extend({},n.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new o.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=s;var n,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(kr),o=(n=xr)&&n.__esModule?n:{default:n};function i(t,e,n,r,o,i,s){function a(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),a)}return(a=l(n,a,t,s,r,i)).program=e,a.depth=s?s.length:0,a.blockParams=o||0,a}function s(){return""}function a(t,e){return e&&"root"in e||((e=e?Ir.createFrame(e):{}).root=t),e}function l(t,e,n,o,i,s){if(t.decorator){var a={};e=t.decorator(e,a,n,o&&o[0],i,s,o),r.extend(e,a)}return e}}));yr(Yr);Yr.checkRevision,Yr.template,Yr.wrapProgram,Yr.resolvePartial,Yr.invokePartial,Yr.noop;var Fr=Sr((function(t,e){e.__esModule=!0,e.default=function(t){var e=void 0!==mr?mr:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}));yr(Fr);var Ur=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var o=r(Ir),i=n(Br),s=n(xr),a=r(kr),l=r(Yr),c=n(Fr);function u(){var t=new o.HandlebarsEnvironment;return a.extend(t,o),t.SafeString=i.default,t.Exception=s.default,t.Utils=a,t.escapeExpression=a.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t}var h=u();h.create=u,c.default(h),h.default=h,e.default=h,t.exports=e.default}));yr(Ur);var Hr=Sr((function(t,e){e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default}));yr(Hr);var jr=Sr((function(t,e){e.__esModule=!0;var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,r,o,i,s){var a=i.length-1;switch(o){case 1:return i[a-1];case 2:this.$=r.prepareProgram(i[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=i[a];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[a]),strip:r.stripFlags(i[a],i[a]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[a],value:i[a],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[a-2],i[a-1],i[a],this._$);break;case 12:this.$={path:i[a-3],params:i[a-2],hash:i[a-1]};break;case 13:this.$=r.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!1,this._$);break;case 14:this.$=r.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!0,this._$);break;case 15:this.$={open:i[a-5],path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:r.stripFlags(i[a-5],i[a])};break;case 16:case 17:this.$={path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:r.stripFlags(i[a-5],i[a])};break;case 18:this.$={strip:r.stripFlags(i[a-1],i[a-1]),program:i[a]};break;case 19:var l=r.prepareBlock(i[a-2],i[a-1],i[a],i[a],!1,this._$),c=r.prepareProgram([l],i[a-1].loc);c.chained=!0,this.$={strip:i[a-2].strip,program:c,chain:!0};break;case 20:this.$=i[a];break;case 21:this.$={path:i[a-1],strip:r.stripFlags(i[a-2],i[a])};break;case 22:case 23:this.$=r.prepareMustache(i[a-3],i[a-2],i[a-1],i[a-4],r.stripFlags(i[a-4],i[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[a-3],params:i[a-2],hash:i[a-1],indent:"",strip:r.stripFlags(i[a-4],i[a]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[a-2],i[a-1],i[a],this._$);break;case 26:this.$={path:i[a-3],params:i[a-2],hash:i[a-1],strip:r.stripFlags(i[a-4],i[a])};break;case 27:case 28:this.$=i[a];break;case 29:this.$={type:"SubExpression",path:i[a-3],params:i[a-2],hash:i[a-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[a],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[a-2]),value:i[a],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[a-1]);break;case 33:case 34:this.$=i[a];break;case 35:this.$={type:"StringLiteral",value:i[a],original:i[a],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[a]),original:Number(i[a]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[a],original:"true"===i[a],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=i[a];break;case 42:this.$=r.preparePath(!0,i[a],this._$);break;case 43:this.$=r.preparePath(!1,i[a],this._$);break;case 44:i[a-2].push({part:r.id(i[a]),original:i[a],separator:i[a-1]}),this.$=i[a-2];break;case 45:this.$=[{part:r.id(i[a]),original:i[a]}];break;case 46:this.$=[];break;case 47:i[a-1].push(i[a]);break;case 48:this.$=[];break;case 49:i[a-1].push(i[a]);break;case 50:this.$=[];break;case 51:i[a-1].push(i[a]);break;case 58:this.$=[];break;case 59:i[a-1].push(i[a]);break;case 64:this.$=[];break;case 65:i[a-1].push(i[a]);break;case 70:this.$=[];break;case 71:i[a-1].push(i[a]);break;case 78:this.$=[];break;case 79:i[a-1].push(i[a]);break;case 82:this.$=[];break;case 83:i[a-1].push(i[a]);break;case 86:this.$=[];break;case 87:i[a-1].push(i[a]);break;case 90:this.$=[];break;case 91:i[a-1].push(i[a]);break;case 94:this.$=[];break;case 95:i[a-1].push(i[a]);break;case 98:this.$=[i[a]];break;case 99:i[a-1].push(i[a]);break;case 100:this.$=[i[a]];break;case 101:i[a-1].push(i[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],r=[null],o=[],i=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,d,f,g,m,v,y,S,b,k={};;){if(d=n[n.length-1],this.defaultActions[d]?f=this.defaultActions[d]:(null==p&&(b=void 0,"number"!=typeof(b=e.lexer.lex()||1)&&(b=e.symbols_[b]||b),p=b),f=i[d]&&i[d][p]),void 0===f||!f.length||!f[0]){var x="";if(!c){for(m in S=[],i[d])this.terminals_[m]&&m>2&&S.push("'"+this.terminals_[m]+"'");x=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:u,expected:S})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+p);switch(f[0]){case 1:n.push(p),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(f[1]),p=null,l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--;break;case 2:if(v=this.productions_[f[1]][1],k.$=r[r.length-v],k._$={first_line:o[o.length-(v||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(v||1)].first_column,last_column:o[o.length-1].last_column},h&&(k._$.range=[o[o.length-(v||1)].range[0],o[o.length-1].range[1]]),void 0!==(g=this.performAction.call(k,s,l,a,this.yy,f[1],r,o)))return g;v&&(n=n.slice(0,-1*v*2),r=r.slice(0,-1*v),o=o.slice(0,-1*v)),n.push(this.productions_[f[1]][0]),r.push(k.$),o.push(k._$),y=i[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length&&(!(n=this._input.match(this.rules[i[s]]))||e&&!(n[0].length>e[0].length)||(e=n,r=s,this.options.flex));s++);return e?((o=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,r){function o(t,n){return e.yytext=e.yytext.substring(t,e.yyleng-n+t)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();function n(){this.yy={}}return t.lexer=e,n.prototype=t,t.Parser=n,new n}();e.default=n,t.exports=e.default}));yr(jr);var Wr=Sr((function(t,e){e.__esModule=!0;var n,r=(n=xr)&&n.__esModule?n:{default:n};function o(){this.parents=[]}function i(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function s(t){i.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function a(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!o.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new r.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new r.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:i,Decorator:i,BlockStatement:s,DecoratorBlock:s,PartialStatement:a,PartialBlockStatement:function(t){a.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=o,t.exports=e.default}));yr(Wr);var Vr=Sr((function(t,e){e.__esModule=!0;var n,r=(n=Wr)&&n.__esModule?n:{default:n};function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function i(t,e,n){void 0===e&&(e=t.length);var r=t[e-1],o=t[e-2];return r?"ContentStatement"===r.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function s(t,e,n){void 0===e&&(e=-1);var r=t[e+1],o=t[e+2];return r?"ContentStatement"===r.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function a(t,e,n){var r=t[null==e?0:e+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var o=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==o}}function l(t,e,n){var r=t[null==e?t.length-1:e-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var o=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==o,r.leftStripped}}o.prototype=new r.default,o.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=t.body,o=0,c=r.length;o<c;o++){var u=r[o],h=this.accept(u);if(h){var p=i(r,o,n),d=s(r,o,n),f=h.openStandalone&&p,g=h.closeStandalone&&d,m=h.inlineStandalone&&p&&d;h.close&&a(r,o,!0),h.open&&l(r,o,!0),e&&m&&(a(r,o),l(r,o)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(r[o-1].original)[1])),e&&f&&(a((u.program||u.inverse).body),l(r,o)),e&&g&&(a(r,o),l((u.inverse||u.program).body))}}return t},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,r=n,o=n;if(n&&n.chained)for(r=n.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:s(e.body),closeStandalone:i((r||e).body)};if(t.openStrip.close&&a(e.body,null,!0),n){var u=t.inverseStrip;u.open&&l(e.body,null,!0),u.close&&a(r.body,null,!0),t.closeStrip.open&&l(o.body,null,!0),!this.options.ignoreStandalone&&i(e.body)&&s(r.body)&&(l(e.body),a(r.body))}else t.closeStrip.open&&l(e.body,null,!0);return c},o.prototype.Decorator=o.prototype.MustacheStatement=function(t){return t.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=o,t.exports=e.default}));yr(Vr);var zr=Sr((function(t,e){e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var o=t?"@":"",i=[],s=0,a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(o+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)i.push(c);else{if(i.length>0)throw new r.default("Invalid path: "+o,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:t,depth:s,parts:i,original:o,loc:n}},e.prepareMustache=function(t,e,n,r,o,i){var s=r.charAt(3)||r.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:o,loc:this.locInfo(i)}},e.prepareRawBlock=function(t,e,n,r){o(t,n),r=this.locInfo(r);var i={type:"Program",body:e,strip:{},loc:r};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,n,i,s,a){i&&i.path&&o(t,i);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,c=n.program}s&&(s=c,c=e,e=s);return{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,r=t[t.length-1].loc;n&&r&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,r){return o(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var n,r=(n=xr)&&n.__esModule?n:{default:n};function o(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new r.default(t.path.original+" doesn't match "+e,n)}}}));yr(zr);zr.SourceLocation,zr.id,zr.stripFlags,zr.stripComment,zr.preparePath,zr.prepareMustache,zr.prepareRawBlock,zr.prepareBlock,zr.prepareProgram,zr.preparePartialBlock;var Gr=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.parseWithoutProcessing=a,e.parse=function(t,e){var n=a(t,e);return new o.default(e).accept(n)};var r=n(jr),o=n(Vr),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(zr);e.parser=r.default;var s={};function a(t,e){return"Program"===t.type?t:(r.default.yy=s,s.locInfo=function(t){return new s.SourceLocation(e&&e.srcName,t)},r.default.parse(t))}kr.extend(s,i)}));yr(Gr);Gr.parseWithoutProcessing,Gr.parse,Gr.parser;var qr=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Compiler=s,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);e.compat&&(e.useDepths=!0);var o=n.parse(t,e),i=(new n.Compiler).compile(o,e);return(new n.JavaScriptCompiler).compile(i,e)},e.compile=function(t,e,n){void 0===e&&(e={});if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=kr.extend({},e))||(e.data=!0);e.compat&&(e.useDepths=!0);var o=void 0;function i(){var r=n.parse(t,e),o=(new n.Compiler).compile(r,e),i=(new n.JavaScriptCompiler).compile(o,e,void 0,!0);return n.template(i)}function s(t,e){return o||(o=i()),o.call(this,t,e)}return s._setup=function(t){return o||(o=i()),o._setup(t)},s._child=function(t,e,n,r){return o||(o=i()),o._child(t,e,n,r)},s};var r=n(xr),o=n(Hr),i=[].slice;function s(){}function a(t,e){if(t===e)return!0;if(kr.isArray(t)&&kr.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}}function l(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}s.prototype={compiler:s,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var r=this.opcodes[n],o=t.opcodes[n];if(r.opcode!==o.opcode||!a(r.args,o.args))return!1}e=this.children.length;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=kr.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new r.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,r=0;r<n;r++)this.accept(e[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){l(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var r=this.classifySexpr(t);"helper"===r?this.helperSexpr(t,e,n):"simple"===r?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),r=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var o=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",i,o,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){l(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var r=t.path,o=r.parts[0],i=null!=e||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",o,i)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),s=t.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+a,t);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,o.default.helpers.simpleId(s))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=o.default.helpers.scopedId(t),r=!t.depth&&!n&&this.blockParamIndex(e);r?this.opcode("lookupBlockParam",r,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,r=e.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:i.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=o.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),r=!n&&o.default.helpers.helperExpression(t),i=!n&&(r||e);if(i&&!r){var s=t.path.parts[0],a=this.options;a.knownHelpers[s]?r=!0:a.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||o.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var r=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,r){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",r),o},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var r=this.options.blockParams[e],o=r&&kr.indexOf(r,t);if(r&&o>=0)return[e,o]}}}}));yr(qr);qr.Compiler,qr.precompile,qr.compile;var Kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Jr=function(t){if(0<=t&&t<Kr.length)return Kr[t];throw new TypeError("Must be between 0 and 63: "+t)},Xr=function(t){return 65<=t&&t<=90?t-65:97<=t&&t<=122?t-97+26:48<=t&&t<=57?t-48+52:43==t?62:47==t?63:-1};var Zr=function(t){var e,n="",r=function(t){return t<0?1+(-t<<1):0+(t<<1)}(t);do{e=31&r,(r>>>=5)>0&&(e|=32),n+=Jr(e)}while(r>0);return n},Qr=function(t,e,n){var r,o,i,s,a=t.length,l=0,c=0;do{if(e>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=Xr(t.charCodeAt(e++))))throw new Error("Invalid base64 digit: "+t.charAt(e-1));r=!!(32&o),l+=(o&=31)<<c,c+=5}while(r);n.value=(s=(i=l)>>1,1==(1&i)?-s:s),n.rest=e},to=Sr((function(t,e){e.getArg=function(t,e,n){if(e in t)return t[e];if(3===arguments.length)return n;throw new Error('"'+e+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(t){var e=t.match(n);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function i(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}function s(t){var n=t,r=o(t);if(r){if(!r.path)return t;n=r.path}for(var s,a=e.isAbsolute(n),l=n.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(s=l[u])?l.splice(u,1):".."===s?c++:c>0&&(""===s?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),r?(r.path=n,i(r)):n}function a(t,e){""===t&&(t="."),""===e&&(e=".");var n=o(e),a=o(t);if(a&&(t=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||e.match(r))return e;if(a&&!a.host&&!a.path)return a.host=e,i(a);var l="/"===e.charAt(0)?e:s(t.replace(/\/+$/,"")+"/"+e);return a?(a.path=l,i(a)):l}e.urlParse=o,e.urlGenerate=i,e.normalize=s,e.join=a,e.isAbsolute=function(t){return"/"===t.charAt(0)||n.test(t)},e.relative=function(t,e){""===t&&(t="."),t=t.replace(/\/$/,"");for(var n=0;0!==e.indexOf(t+"/");){var r=t.lastIndexOf("/");if(r<0)return e;if((t=t.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return e;++n}return Array(n+1).join("../")+e.substr(t.length+1)};var l=!("__proto__"in Object.create(null));function c(t){return t}function u(t){if(!t)return!1;var e=t.length;if(e<9)return!1;if(95!==t.charCodeAt(e-1)||95!==t.charCodeAt(e-2)||111!==t.charCodeAt(e-3)||116!==t.charCodeAt(e-4)||111!==t.charCodeAt(e-5)||114!==t.charCodeAt(e-6)||112!==t.charCodeAt(e-7)||95!==t.charCodeAt(e-8)||95!==t.charCodeAt(e-9))return!1;for(var n=e-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}function h(t,e){return t===e?0:null===t?1:null===e?-1:t>e?1:-1}e.toSetString=l?c:function(t){return u(t)?"$"+t:t},e.fromSetString=l?c:function(t){return u(t)?t.slice(1):t},e.compareByOriginalPositions=function(t,e,n){var r=h(t.source,e.source);return 0!==r||0!==(r=t.originalLine-e.originalLine)||0!==(r=t.originalColumn-e.originalColumn)||n||0!==(r=t.generatedColumn-e.generatedColumn)||0!==(r=t.generatedLine-e.generatedLine)?r:h(t.name,e.name)},e.compareByGeneratedPositionsDeflated=function(t,e,n){var r=t.generatedLine-e.generatedLine;return 0!==r||0!==(r=t.generatedColumn-e.generatedColumn)||n||0!==(r=h(t.source,e.source))||0!==(r=t.originalLine-e.originalLine)||0!==(r=t.originalColumn-e.originalColumn)?r:h(t.name,e.name)},e.compareByGeneratedPositionsInflated=function(t,e){var n=t.generatedLine-e.generatedLine;return 0!==n||0!==(n=t.generatedColumn-e.generatedColumn)||0!==(n=h(t.source,e.source))||0!==(n=t.originalLine-e.originalLine)||0!==(n=t.originalColumn-e.originalColumn)?n:h(t.name,e.name)},e.parseSourceMapInput=function(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(t,e,n){if(e=e||"",t&&("/"!==t[t.length-1]&&"/"!==e[0]&&(t+="/"),e=t+e),n){var r=o(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var l=r.path.lastIndexOf("/");l>=0&&(r.path=r.path.substring(0,l+1))}e=a(i(r),e)}return s(e)}})),eo=(to.getArg,to.urlParse,to.urlGenerate,to.normalize,to.join,to.isAbsolute,to.relative,to.toSetString,to.fromSetString,to.compareByOriginalPositions,to.compareByGeneratedPositionsDeflated,to.compareByGeneratedPositionsInflated,to.parseSourceMapInput,to.computeSourceURL,Object.prototype.hasOwnProperty),no="undefined"!=typeof Map;function ro(){this._array=[],this._set=no?new Map:Object.create(null)}ro.fromArray=function(t,e){for(var n=new ro,r=0,o=t.length;r<o;r++)n.add(t[r],e);return n},ro.prototype.size=function(){return no?this._set.size:Object.getOwnPropertyNames(this._set).length},ro.prototype.add=function(t,e){var n=no?t:to.toSetString(t),r=no?this.has(t):eo.call(this._set,n),o=this._array.length;r&&!e||this._array.push(t),r||(no?this._set.set(t,o):this._set[n]=o)},ro.prototype.has=function(t){if(no)return this._set.has(t);var e=to.toSetString(t);return eo.call(this._set,e)},ro.prototype.indexOf=function(t){if(no){var e=this._set.get(t);if(e>=0)return e}else{var n=to.toSetString(t);if(eo.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},ro.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},ro.prototype.toArray=function(){return this._array.slice()};var oo={ArraySet:ro};function io(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}io.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},io.prototype.add=function(t){var e,n,r,o,i,s;e=this._last,n=t,r=e.generatedLine,o=n.generatedLine,i=e.generatedColumn,s=n.generatedColumn,o>r||o==r&&s>=i||to.compareByGeneratedPositionsInflated(e,n)<=0?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},io.prototype.toArray=function(){return this._sorted||(this._array.sort(to.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var so=oo.ArraySet,ao={MappingList:io}.MappingList;function lo(t){t||(t={}),this._file=to.getArg(t,"file",null),this._sourceRoot=to.getArg(t,"sourceRoot",null),this._skipValidation=to.getArg(t,"skipValidation",!1),this._sources=new so,this._names=new so,this._mappings=new ao,this._sourcesContents=null}lo.prototype._version=3,lo.fromSourceMap=function(t){var e=t.sourceRoot,n=new lo({file:t.file,sourceRoot:e});return t.eachMapping((function(t){var r={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(r.source=t.source,null!=e&&(r.source=to.relative(e,r.source)),r.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(r.name=t.name)),n.addMapping(r)})),t.sources.forEach((function(r){var o=r;null!==e&&(o=to.relative(e,r)),n._sources.has(o)||n._sources.add(o);var i=t.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},lo.prototype.addMapping=function(t){var e=to.getArg(t,"generated"),n=to.getArg(t,"original",null),r=to.getArg(t,"source",null),o=to.getArg(t,"name",null);this._skipValidation||this._validateMapping(e,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:e.line,generatedColumn:e.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},lo.prototype.setSourceContent=function(t,e){var n=t;null!=this._sourceRoot&&(n=to.relative(this._sourceRoot,n)),null!=e?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[to.toSetString(n)]=e):this._sourcesContents&&(delete this._sourcesContents[to.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},lo.prototype.applySourceMap=function(t,e,n){var r=e;if(null==e){if(null==t.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=t.file}var o=this._sourceRoot;null!=o&&(r=to.relative(o,r));var i=new so,s=new so;this._mappings.unsortedForEach((function(e){if(e.source===r&&null!=e.originalLine){var a=t.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=a.source&&(e.source=a.source,null!=n&&(e.source=to.join(n,e.source)),null!=o&&(e.source=to.relative(o,e.source)),e.originalLine=a.line,e.originalColumn=a.column,null!=a.name&&(e.name=a.name))}var l=e.source;null==l||i.has(l)||i.add(l);var c=e.name;null==c||s.has(c)||s.add(c)}),this),this._sources=i,this._names=s,t.sources.forEach((function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=to.join(n,e)),null!=o&&(e=to.relative(o,e)),this.setSourceContent(e,r))}),this)},lo.prototype._validateMapping=function(t,e,n,r){if(e&&"number"!=typeof e.line&&"number"!=typeof e.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0)||e||n||r)&&!(t&&"line"in t&&"column"in t&&e&&"line"in e&&"column"in e&&t.line>0&&t.column>=0&&e.line>0&&e.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:e,name:r}))},lo.prototype._serializeMappings=function(){for(var t,e,n,r,o=0,i=1,s=0,a=0,l=0,c=0,u="",h=this._mappings.toArray(),p=0,d=h.length;p<d;p++){if(t="",(e=h[p]).generatedLine!==i)for(o=0;e.generatedLine!==i;)t+=";",i++;else if(p>0){if(!to.compareByGeneratedPositionsInflated(e,h[p-1]))continue;t+=","}t+=Zr(e.generatedColumn-o),o=e.generatedColumn,null!=e.source&&(r=this._sources.indexOf(e.source),t+=Zr(r-c),c=r,t+=Zr(e.originalLine-1-a),a=e.originalLine-1,t+=Zr(e.originalColumn-s),s=e.originalColumn,null!=e.name&&(n=this._names.indexOf(e.name),t+=Zr(n-l),l=n)),u+=t}return u},lo.prototype._generateSourcesContent=function(t,e){return t.map((function(t){if(!this._sourcesContents)return null;null!=e&&(t=to.relative(e,t));var n=to.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},lo.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},lo.prototype.toString=function(){return JSON.stringify(this.toJSON())};var co={SourceMapGenerator:lo},uo=Sr((function(t,e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2,e.search=function(t,n,r,o){if(0===n.length)return-1;var i=function t(n,r,o,i,s,a){var l=Math.floor((r-n)/2)+n,c=s(o,i[l],!0);return 0===c?l:c>0?r-l>1?t(l,r,o,i,s,a):a==e.LEAST_UPPER_BOUND?r<i.length?r:-1:l:l-n>1?t(n,l,o,i,s,a):a==e.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,t,n,r,o||e.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}}));uo.GREATEST_LOWER_BOUND,uo.LEAST_UPPER_BOUND,uo.search;function ho(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function po(t,e,n,r){if(n<r){var o=n-1;ho(t,(l=n,c=r,Math.round(l+Math.random()*(c-l))),r);for(var i=t[r],s=n;s<r;s++)e(t[s],i)<=0&&ho(t,o+=1,s);ho(t,o+1,s);var a=o+1;po(t,e,n,a-1),po(t,e,a+1,r)}var l,c}var fo=oo.ArraySet,go=function(t,e){po(t,e,0,t.length-1)};function mo(t,e){var n=t;return"string"==typeof t&&(n=to.parseSourceMapInput(t)),null!=n.sections?new ko(n,e):new yo(n,e)}mo.fromSourceMap=function(t,e){return yo.fromSourceMap(t,e)},mo.prototype._version=3,mo.prototype.__generatedMappings=null,Object.defineProperty(mo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),mo.prototype.__originalMappings=null,Object.defineProperty(mo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),mo.prototype._charIsMappingSeparator=function(t,e){var n=t.charAt(e);return";"===n||","===n},mo.prototype._parseMappings=function(t,e){throw new Error("Subclasses must implement _parseMappings")},mo.GENERATED_ORDER=1,mo.ORIGINAL_ORDER=2,mo.GREATEST_LOWER_BOUND=1,mo.LEAST_UPPER_BOUND=2,mo.prototype.eachMapping=function(t,e,n){var r,o=e||null;switch(n||mo.GENERATED_ORDER){case mo.GENERATED_ORDER:r=this._generatedMappings;break;case mo.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map((function(t){var e=null===t.source?null:this._sources.at(t.source);return{source:e=to.computeSourceURL(i,e,this._sourceMapURL),generatedLine:t.generatedLine,generatedColumn:t.generatedColumn,originalLine:t.originalLine,originalColumn:t.originalColumn,name:null===t.name?null:this._names.at(t.name)}}),this).forEach(t,o)},mo.prototype.allGeneratedPositionsFor=function(t){var e=to.getArg(t,"line"),n={source:to.getArg(t,"source"),originalLine:e,originalColumn:to.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",to.compareByOriginalPositions,uo.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===t.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:to.getArg(i,"generatedLine",null),column:to.getArg(i,"generatedColumn",null),lastColumn:to.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var a=i.originalColumn;i&&i.originalLine===e&&i.originalColumn==a;)r.push({line:to.getArg(i,"generatedLine",null),column:to.getArg(i,"generatedColumn",null),lastColumn:to.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r};var vo=mo;function yo(t,e){var n=t;"string"==typeof t&&(n=to.parseSourceMapInput(t));var r=to.getArg(n,"version"),o=to.getArg(n,"sources"),i=to.getArg(n,"names",[]),s=to.getArg(n,"sourceRoot",null),a=to.getArg(n,"sourcesContent",null),l=to.getArg(n,"mappings"),c=to.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);s&&(s=to.normalize(s)),o=o.map(String).map(to.normalize).map((function(t){return s&&to.isAbsolute(s)&&to.isAbsolute(t)?to.relative(s,t):t})),this._names=fo.fromArray(i.map(String),!0),this._sources=fo.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(t){return to.computeSourceURL(s,t,e)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=e,this.file=c}function So(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}yo.prototype=Object.create(mo.prototype),yo.prototype.consumer=mo,yo.prototype._findSourceIndex=function(t){var e,n=t;if(null!=this.sourceRoot&&(n=to.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(e=0;e<this._absoluteSources.length;++e)if(this._absoluteSources[e]==t)return e;return-1},yo.fromSourceMap=function(t,e){var n=Object.create(yo.prototype),r=n._names=fo.fromArray(t._names.toArray(),!0),o=n._sources=fo.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=e,n._absoluteSources=n._sources.toArray().map((function(t){return to.computeSourceURL(n.sourceRoot,t,e)}));for(var i=t._mappings.toArray().slice(),s=n.__generatedMappings=[],a=n.__originalMappings=[],l=0,c=i.length;l<c;l++){var u=i[l],h=new So;h.generatedLine=u.generatedLine,h.generatedColumn=u.generatedColumn,u.source&&(h.source=o.indexOf(u.source),h.originalLine=u.originalLine,h.originalColumn=u.originalColumn,u.name&&(h.name=r.indexOf(u.name)),a.push(h)),s.push(h)}return go(n.__originalMappings,to.compareByOriginalPositions),n},yo.prototype._version=3,Object.defineProperty(yo.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),yo.prototype._parseMappings=function(t,e){for(var n,r,o,i,s,a=1,l=0,c=0,u=0,h=0,p=0,d=t.length,f=0,g={},m={},v=[],y=[];f<d;)if(";"===t.charAt(f))a++,f++,l=0;else if(","===t.charAt(f))f++;else{for((n=new So).generatedLine=a,i=f;i<d&&!this._charIsMappingSeparator(t,i);i++);if(o=g[r=t.slice(f,i)])f+=r.length;else{for(o=[];f<i;)Qr(t,f,m),s=m.value,f=m.rest,o.push(s);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");g[r]=o}n.generatedColumn=l+o[0],l=n.generatedColumn,o.length>1&&(n.source=h+o[1],h+=o[1],n.originalLine=c+o[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=u+o[3],u=n.originalColumn,o.length>4&&(n.name=p+o[4],p+=o[4])),y.push(n),"number"==typeof n.originalLine&&v.push(n)}go(y,to.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,go(v,to.compareByOriginalPositions),this.__originalMappings=v},yo.prototype._findMapping=function(t,e,n,r,o,i){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[r]);return uo.search(t,e,o,i)},yo.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var e=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(e.generatedLine===n.generatedLine){e.lastGeneratedColumn=n.generatedColumn-1;continue}}e.lastGeneratedColumn=1/0}},yo.prototype.originalPositionFor=function(t){var e={generatedLine:to.getArg(t,"line"),generatedColumn:to.getArg(t,"column")},n=this._findMapping(e,this._generatedMappings,"generatedLine","generatedColumn",to.compareByGeneratedPositionsDeflated,to.getArg(t,"bias",mo.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===e.generatedLine){var o=to.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=to.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=to.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:to.getArg(r,"originalLine",null),column:to.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},yo.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(t){return null==t})))},yo.prototype.sourceContentFor=function(t,e){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var r,o=t;if(null!=this.sourceRoot&&(o=to.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=to.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(e)return null;throw new Error('"'+o+'" is not in the SourceMap.')},yo.prototype.generatedPositionFor=function(t){var e=to.getArg(t,"source");if((e=this._findSourceIndex(e))<0)return{line:null,column:null,lastColumn:null};var n={source:e,originalLine:to.getArg(t,"line"),originalColumn:to.getArg(t,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",to.compareByOriginalPositions,to.getArg(t,"bias",mo.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:to.getArg(o,"generatedLine",null),column:to.getArg(o,"generatedColumn",null),lastColumn:to.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var bo=yo;function ko(t,e){var n=t;"string"==typeof t&&(n=to.parseSourceMapInput(t));var r=to.getArg(n,"version"),o=to.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new fo,this._names=new fo;var i={line:-1,column:0};this._sections=o.map((function(t){if(t.url)throw new Error("Support for url field in sections not implemented.");var n=to.getArg(t,"offset"),r=to.getArg(n,"line"),o=to.getArg(n,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new mo(to.getArg(t,"map"),e)}}))}ko.prototype=Object.create(mo.prototype),ko.prototype.constructor=mo,ko.prototype._version=3,Object.defineProperty(ko.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var n=0;n<this._sections[e].consumer.sources.length;n++)t.push(this._sections[e].consumer.sources[n]);return t}}),ko.prototype.originalPositionFor=function(t){var e={generatedLine:to.getArg(t,"line"),generatedColumn:to.getArg(t,"column")},n=uo.search(e,this._sections,(function(t,e){var n=t.generatedLine-e.generatedOffset.generatedLine;return n||t.generatedColumn-e.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:e.generatedLine-(r.generatedOffset.generatedLine-1),column:e.generatedColumn-(r.generatedOffset.generatedLine===e.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},ko.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(t){return t.consumer.hasContentsOfAllSources()}))},ko.prototype.sourceContentFor=function(t,e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(t,!0);if(r)return r}if(e)return null;throw new Error('"'+t+'" is not in the SourceMap.')},ko.prototype.generatedPositionFor=function(t){for(var e=0;e<this._sections.length;e++){var n=this._sections[e];if(-1!==n.consumer._findSourceIndex(to.getArg(t,"source"))){var r=n.consumer.generatedPositionFor(t);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},ko.prototype._parseMappings=function(t,e){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],a=r.consumer._sources.at(s.source);a=to.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var l=null;s.name&&(l=r.consumer._names.at(s.name),this._names.add(l),l=this._names.indexOf(l));var c={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}go(this.__generatedMappings,to.compareByGeneratedPositionsDeflated),go(this.__originalMappings,to.compareByOriginalPositions)};var xo={SourceMapConsumer:vo,BasicSourceMapConsumer:bo,IndexedSourceMapConsumer:ko},_o=co.SourceMapGenerator,wo=/(\r?\n)/,Eo="$$$isSourceNode$$$";function Po(t,e,n,r,o){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==e?null:e,this.source=null==n?null:n,this.name=null==o?null:o,this[Eo]=!0,null!=r&&this.add(r)}Po.fromStringWithSourceMap=function(t,e,n){var r=new Po,o=t.split(wo),i=0,s=function(){return t()+(t()||"");function t(){return i<o.length?o[i++]:void 0}},a=1,l=0,c=null;return e.eachMapping((function(t){if(null!==c){if(!(a<t.generatedLine)){var e=(n=o[i]||"").substr(0,t.generatedColumn-l);return o[i]=n.substr(t.generatedColumn-l),l=t.generatedColumn,u(c,e),void(c=t)}u(c,s()),a++,l=0}for(;a<t.generatedLine;)r.add(s()),a++;if(l<t.generatedColumn){var n=o[i]||"";r.add(n.substr(0,t.generatedColumn)),o[i]=n.substr(t.generatedColumn),l=t.generatedColumn}c=t}),this),i<o.length&&(c&&u(c,s()),r.add(o.splice(i).join(""))),e.sources.forEach((function(t){var o=e.sourceContentFor(t);null!=o&&(null!=n&&(t=to.join(n,t)),r.setSourceContent(t,o))})),r;function u(t,e){if(null===t||void 0===t.source)r.add(e);else{var o=n?to.join(n,t.source):t.source;r.add(new Po(t.originalLine,t.originalColumn,o,e,t.name))}}},Po.prototype.add=function(t){if(Array.isArray(t))t.forEach((function(t){this.add(t)}),this);else{if(!t[Eo]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},Po.prototype.prepend=function(t){if(Array.isArray(t))for(var e=t.length-1;e>=0;e--)this.prepend(t[e]);else{if(!t[Eo]&&"string"!=typeof t)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},Po.prototype.walk=function(t){for(var e,n=0,r=this.children.length;n<r;n++)(e=this.children[n])[Eo]?e.walk(t):""!==e&&t(e,{source:this.source,line:this.line,column:this.column,name:this.name})},Po.prototype.join=function(t){var e,n,r=this.children.length;if(r>0){for(e=[],n=0;n<r-1;n++)e.push(this.children[n]),e.push(t);e.push(this.children[n]),this.children=e}return this},Po.prototype.replaceRight=function(t,e){var n=this.children[this.children.length-1];return n[Eo]?n.replaceRight(t,e):"string"==typeof n?this.children[this.children.length-1]=n.replace(t,e):this.children.push("".replace(t,e)),this},Po.prototype.setSourceContent=function(t,e){this.sourceContents[to.toSetString(t)]=e},Po.prototype.walkSourceContents=function(t){for(var e=0,n=this.children.length;e<n;e++)this.children[e][Eo]&&this.children[e].walkSourceContents(t);var r=Object.keys(this.sourceContents);for(e=0,n=r.length;e<n;e++)t(to.fromSetString(r[e]),this.sourceContents[r[e]])},Po.prototype.toString=function(){var t="";return this.walk((function(e){t+=e})),t},Po.prototype.toStringWithSourceMap=function(t){var e={code:"",line:1,column:0},n=new _o(t),r=!1,o=null,i=null,s=null,a=null;return this.walk((function(t,l){e.code+=t,null!==l.source&&null!==l.line&&null!==l.column?(o===l.source&&i===l.line&&s===l.column&&a===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:e.line,column:e.column},name:l.name}),o=l.source,i=l.line,s=l.column,a=l.name,r=!0):r&&(n.addMapping({generated:{line:e.line,column:e.column}}),o=null,r=!1);for(var c=0,u=t.length;c<u;c++)10===t.charCodeAt(c)?(e.line++,e.column=0,c+1===u?(o=null,r=!1):r&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:e.line,column:e.column},name:l.name})):e.column++})),this.walkSourceContents((function(t,e){n.setSourceContent(t,e)})),{code:e.code,map:n}};var Co={SourceMapGenerator:co.SourceMapGenerator,SourceMapConsumer:xo.SourceMapConsumer,SourceNode:{SourceNode:Po}.SourceNode},Mo=Sr((function(t,e){e.__esModule=!0;var n=void 0;try{n=Co.SourceNode}catch(t){}function r(t,e,n){if(kr.isArray(t)){for(var r=[],o=0,i=t.length;o<i;o++)r.push(e.wrap(t[o],n));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}n||((n=function(t,e,n,r){this.src="",r&&this.add(r)}).prototype={add:function(t){kr.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){kr.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new n(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof n?t:(t=r(t,this,e),new n(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,n=[];Object.keys(t).forEach((function(o){var i=r(t[o],e);"undefined"!==i&&n.push([e.quotedString(o),":",i])}));var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(t){for(var e=this.empty(),n=0,o=t.length;n<o;n++)n&&e.add(","),e.add(r(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=o,t.exports=e.default}));yr(Mo);var To=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(xr),o=n(Mo);function i(t){this.value=t}function s(){}s.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=Ir.COMPILER_REVISION;return[t,Ir.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return kr.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,n,o){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!o,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var i=t.opcodes,s=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=i.length;l<c;l++)s=i[l],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new r.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),o?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(o);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var p=this.context,d=p.programs,f=p.decorators;for(l=0,c=d.length;l<c;l++)d[l]&&(h[l]=d[l],f[l]&&(h[l+"_d"]=f[l],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),o?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new o.default(this.options.srcName),this.decorators=new o.default(this.options.srcName)},createFunctionContext:function(t){var e=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var o=0;Object.keys(this.aliases).forEach((function(t){var r=e.aliases[t];r.children&&r.referenceCount>1&&(n+=", alias"+ ++o+"="+t,r.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var i=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths");var s=this.mergeSource(n);return t?(i.push(s),Function.apply(this,i)):this.source.wrap(["function(",i.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,r=void 0,o=void 0,i=void 0,s=void 0;return this.source.each((function(t){t.appendToBuffer?(i?t.prepend("  + "):i=t,s=t):(i&&(o?i.prepend("buffer += "):r=!0,s.add(";"),i=s=void 0),o=!0,e||(n=!1))})),n?i?(i.prepend("return "),s.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,r,o){var i=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,r){var o=e.popStack(),i=0,s=n.length;t&&s--;for(;i<s;i++)o=e.nameLookup(o,n[i],r);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(n[i]),", ",JSON.stringify(e.source.currentLocation)," )"]:o}(this.options.strict&&o,this,e,t));else for(var s=e.length;n<s;n++)this.replaceStack((function(o){var s=i.nameLookup(o,e[n],t);return r?[" && ",s]:[" != null ? ",s," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),r=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(t,e,n){var r=this.popStack(),o=this.setupHelper(t,e),i=[];n&&i.push(o.name),i.push(r),this.options.strict||i.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(i,"||"),")"],a=this.source.functionCall(s,"call",o.callParams);this.push(a)},itemsSeparatedBy:function(t,e){var n=[];n.push(t[0]);for(var r=1;r<t.length;r++)n.push(e,t[r]);return n},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,e),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(t,e,n){var r=[],o=this.setupParams(e,1,r);t&&(e=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?r.unshift(e):r.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),r.push(o),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(t){var e=this.popStack(),n=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&(i.contexts[t]=n),r&&(i.types[t]=r),o&&(i.ids[t]=o),i.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:s,compileChildren:function(t,e){for(var n=t.children,r=void 0,o=void 0,i=0,s=n.length;i<s;i++){r=n[i],o=new this.compiler;var a=this.matchExistingProgram(r);if(null==a){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=o.compile(r,e,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=a.index,r.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var r=this.context.environments[e];if(r&&r.equals(t))return r}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,o=void 0,s=void 0;if(!this.isInline())throw new r.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)e=["(",n=[a.value]],s=!0;else{o=!0;var l=this.incrStack();e=["((",this.push(l)," = ",a,")"],n=this.topStack()}var c=t.call(this,n);s||this.popStack(),o&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new r.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(e,t,r,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(t,e,n){var r={},o=[],i=[],s=[],a=!n,l=void 0;a&&(n=[]),r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(i[h]=this.popStack(),o[h]=this.popStack());return a&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(i),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,r){var o=this.setupParams(t,e,n);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),r?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=s.RESERVED_WORDS={},n=0,r=t.length;n<r;n++)e[t[n]]=!0}(),s.isValidJavaScriptVariableName=function(t){return!s.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=s,t.exports=e.default}));yr(To);var Ro=Sr((function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(Ur),o=n(Hr),i=n(To),s=n(Wr),a=n(Fr),l=r.default.create;function c(){var t=l();return t.compile=function(e,n){return qr.compile(e,n,t)},t.precompile=function(e,n){return qr.precompile(e,n,t)},t.AST=o.default,t.Compiler=qr.Compiler,t.JavaScriptCompiler=i.default,t.Parser=Gr.parser,t.parse=Gr.parse,t.parseWithoutProcessing=Gr.parseWithoutProcessing,t}var u=c();u.create=c,a.default(u),u.Visitor=s.default,u.default=u,e.default=u,t.exports=e.default}));yr(Ro);var Do=Sr((function(t,e){e.__esModule=!0,e.print=function(t){return(new o).accept(t)},e.PrintVisitor=o;var n,r=(n=Wr)&&n.__esModule?n:{default:n};function o(){this.padding=0}o.prototype=new r.default,o.prototype.pad=function(t){for(var e="",n=0,r=this.padding;n<r;n++)e+="  ";return e+=t+"\n"},o.prototype.Program=function(t){var e="",n=t.body,r=void 0,o=void 0;if(t.blockParams){var i="BLOCK PARAMS: [";for(r=0,o=t.blockParams.length;r<o;r++)i+=" "+t.blockParams[r];i+=" ]",e+=this.pad(i)}for(r=0,o=n.length;r<o;r++)e+=this.accept(n[r]);return this.padding--,e},o.prototype.MustacheStatement=function(t){return this.pad("{{ "+this.SubExpression(t)+" }}")},o.prototype.Decorator=function(t){return this.pad("{{ DIRECTIVE "+this.SubExpression(t)+" }}")},o.prototype.BlockStatement=o.prototype.DecoratorBlock=function(t){var e="";return e+=this.pad(("DecoratorBlock"===t.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,e+=this.pad(this.SubExpression(t)),t.program&&(e+=this.pad("PROGRAM:"),this.padding++,e+=this.accept(t.program),this.padding--),t.inverse&&(t.program&&this.padding++,e+=this.pad("{{^}}"),this.padding++,e+=this.accept(t.inverse),this.padding--,t.program&&this.padding--),this.padding--,e},o.prototype.PartialStatement=function(t){var e="PARTIAL:"+t.name.original;return t.params[0]&&(e+=" "+this.accept(t.params[0])),t.hash&&(e+=" "+this.accept(t.hash)),this.pad("{{> "+e+" }}")},o.prototype.PartialBlockStatement=function(t){var e="PARTIAL BLOCK:"+t.name.original;return t.params[0]&&(e+=" "+this.accept(t.params[0])),t.hash&&(e+=" "+this.accept(t.hash)),e+=" "+this.pad("PROGRAM:"),this.padding++,e+=this.accept(t.program),this.padding--,this.pad("{{> "+e+" }}")},o.prototype.ContentStatement=function(t){return this.pad("CONTENT[ '"+t.value+"' ]")},o.prototype.CommentStatement=function(t){return this.pad("{{! '"+t.value+"' }}")},o.prototype.SubExpression=function(t){for(var e,n=t.params,r=[],o=0,i=n.length;o<i;o++)r.push(this.accept(n[o]));return n="["+r.join(", ")+"]",e=t.hash?" "+this.accept(t.hash):"",this.accept(t.path)+" "+n+e},o.prototype.PathExpression=function(t){var e=t.parts.join("/");return(t.data?"@":"")+"PATH:"+e},o.prototype.StringLiteral=function(t){return'"'+t.value+'"'},o.prototype.NumberLiteral=function(t){return"NUMBER{"+t.value+"}"},o.prototype.BooleanLiteral=function(t){return"BOOLEAN{"+t.value+"}"},o.prototype.UndefinedLiteral=function(){return"UNDEFINED"},o.prototype.NullLiteral=function(){return"NULL"},o.prototype.Hash=function(t){for(var e=t.pairs,n=[],r=0,o=e.length;r<o;r++)n.push(this.accept(e[r]));return"HASH{"+n.join(", ")+"}"},o.prototype.HashPair=function(t){return t.key+"="+this.accept(t.value)}}));yr(Do);Do.print,Do.PrintVisitor;var Lo=Ro.default;Lo.PrintVisitor=Do.PrintVisitor,Lo.print=Do.print;var No=Lo;function Ao(t,e){var n=r.default.readFileSync(e,"utf8");t.exports=Lo.compile(n)}void 0!==vr&&vr.extensions&&(vr.extensions[".handlebars"]=Ao,vr.extensions[".hbs"]=Ao);var Oo=[],Io=[],Bo="undefined"!=typeof Uint8Array?Uint8Array:Array,$o=!1;function Yo(){$o=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Oo[e]=t[e],Io[t.charCodeAt(e)]=e;Io["-".charCodeAt(0)]=62,Io["_".charCodeAt(0)]=63}function Fo(t,e,n){for(var r,o,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(Oo[(o=r)>>18&63]+Oo[o>>12&63]+Oo[o>>6&63]+Oo[63&o]);return i.join("")}function Uo(t){var e;$o||Yo();for(var n=t.length,r=n%3,o="",i=[],s=0,a=n-r;s<a;s+=16383)i.push(Fo(t,s,s+16383>a?a:s+16383));return 1===r?(e=t[n-1],o+=Oo[e>>2],o+=Oo[e<<4&63],o+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],o+=Oo[e>>10],o+=Oo[e>>4&63],o+=Oo[e<<2&63],o+="="),i.push(o),i.join("")}function Ho(t,e,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?o-1:0,p=n?-1:1,d=t[e+h];for(h+=p,i=d&(1<<-u)-1,d>>=-u,u+=a;u>0;i=256*i+t[e+h],h+=p,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)}function jo(t,e,n,r,o,i){var s,a,l,c=8*i-o-1,u=(1<<c)-1,h=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[n+d]=255&a,d+=f,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+d]=255&s,d+=f,s/=256,c-=8);t[n+d-f]|=128*g}var Wo={}.toString,Vo=Array.isArray||function(t){return"[object Array]"==Wo.call(t)};Ko.TYPED_ARRAY_SUPPORT=void 0===global.TYPED_ARRAY_SUPPORT||global.TYPED_ARRAY_SUPPORT;var zo=Go();function Go(){return Ko.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function qo(t,e){if(Go()<e)throw new RangeError("Invalid typed array length");return Ko.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Ko.prototype:(null===t&&(t=new Ko(e)),t.length=e),t}function Ko(t,e,n){if(!(Ko.TYPED_ARRAY_SUPPORT||this instanceof Ko))return new Ko(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Zo(this,t)}return Jo(this,t,e,n)}function Jo(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);Ko.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Ko.prototype:t=Qo(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!Ko.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|ni(e,n),o=(t=qo(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(ei(e)){var n=0|ti(e.length);return 0===(t=qo(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?qo(t,0):Qo(t,e);if("Buffer"===e.type&&Vo(e.data))return Qo(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Xo(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Zo(t,e){if(Xo(e),t=qo(t,e<0?0:0|ti(e)),!Ko.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Qo(t,e){var n=e.length<0?0:0|ti(e.length);t=qo(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function ti(t){if(t>=Go())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Go().toString(16)+" bytes");return 0|t}function ei(t){return!(null==t||!t._isBuffer)}function ni(t,e){if(ei(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Mi(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ti(t).length;default:if(r)return Mi(t).length;e=(""+e).toLowerCase(),r=!0}}function ri(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return vi(this,e,n);case"utf8":case"utf-8":return fi(this,e,n);case"ascii":return gi(this,e,n);case"latin1":case"binary":return mi(this,e,n);case"base64":return di(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yi(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function oi(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ii(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=Ko.from(e,r)),ei(e))return 0===e.length?-1:si(t,e,n,r,o);if("number"==typeof e)return e&=255,Ko.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):si(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function si(t,e,n,r,o){var i,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var u=-1;for(i=n;i<a;i++)if(c(t,i)===c(e,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){for(var h=!0,p=0;p<l;p++)if(c(t,i+p)!==c(e,p)){h=!1;break}if(h)return i}return-1}function ai(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function li(t,e,n,r){return Ri(Mi(e,t.length-n),t,n,r)}function ci(t,e,n,r){return Ri(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function ui(t,e,n,r){return ci(t,e,n,r)}function hi(t,e,n,r){return Ri(Ti(e),t,n,r)}function pi(t,e,n,r){return Ri(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function di(t,e,n){return 0===e&&n===t.length?Uo(t):Uo(t.slice(e,n))}function fi(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,l,c=t[o],u=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(i=t[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(l=(15&c)<<12|(63&i)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}Ko.poolSize=8192,Ko._augment=function(t){return t.__proto__=Ko.prototype,t},Ko.from=function(t,e,n){return Jo(null,t,e,n)},Ko.TYPED_ARRAY_SUPPORT&&(Ko.prototype.__proto__=Uint8Array.prototype,Ko.__proto__=Uint8Array),Ko.alloc=function(t,e,n){return function(t,e,n,r){return Xo(e),e<=0?qo(t,e):void 0!==n?"string"==typeof r?qo(t,e).fill(n,r):qo(t,e).fill(n):qo(t,e)}(null,t,e,n)},Ko.allocUnsafe=function(t){return Zo(null,t)},Ko.allocUnsafeSlow=function(t){return Zo(null,t)},Ko.isBuffer=Di,Ko.compare=function(t,e){if(!ei(t)||!ei(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},Ko.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ko.concat=function(t,e){if(!Vo(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Ko.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=Ko.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!ei(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},Ko.byteLength=ni,Ko.prototype._isBuffer=!0,Ko.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)oi(this,e,e+1);return this},Ko.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)oi(this,e,e+3),oi(this,e+1,e+2);return this},Ko.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)oi(this,e,e+7),oi(this,e+1,e+6),oi(this,e+2,e+5),oi(this,e+3,e+4);return this},Ko.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?fi(this,0,t):ri.apply(this,arguments)},Ko.prototype.equals=function(t){if(!ei(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Ko.compare(this,t)},Ko.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Ko.prototype.compare=function(t,e,n,r,o){if(!ei(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(i,s),l=this.slice(r,o),c=t.slice(e,n),u=0;u<a;++u)if(l[u]!==c[u]){i=l[u],s=c[u];break}return i<s?-1:s<i?1:0},Ko.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Ko.prototype.indexOf=function(t,e,n){return ii(this,t,e,n,!0)},Ko.prototype.lastIndexOf=function(t,e,n){return ii(this,t,e,n,!1)},Ko.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return ai(this,t,e,n);case"utf8":case"utf-8":return li(this,t,e,n);case"ascii":return ci(this,t,e,n);case"latin1":case"binary":return ui(this,t,e,n);case"base64":return hi(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pi(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},Ko.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gi(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function mi(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function vi(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=Ci(t[i]);return o}function yi(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function Si(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function bi(t,e,n,r,o,i){if(!ei(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function ki(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function xi(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function _i(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function wi(t,e,n,r,o){return o||_i(t,0,n,4),jo(t,e,n,r,23,4),n+4}function Ei(t,e,n,r,o){return o||_i(t,0,n,8),jo(t,e,n,r,52,8),n+8}Ko.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),Ko.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Ko.prototype;else{var o=e-t;n=new Ko(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},Ko.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Si(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},Ko.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Si(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},Ko.prototype.readUInt8=function(t,e){return e||Si(t,1,this.length),this[t]},Ko.prototype.readUInt16LE=function(t,e){return e||Si(t,2,this.length),this[t]|this[t+1]<<8},Ko.prototype.readUInt16BE=function(t,e){return e||Si(t,2,this.length),this[t]<<8|this[t+1]},Ko.prototype.readUInt32LE=function(t,e){return e||Si(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ko.prototype.readUInt32BE=function(t,e){return e||Si(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ko.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Si(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},Ko.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Si(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},Ko.prototype.readInt8=function(t,e){return e||Si(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ko.prototype.readInt16LE=function(t,e){e||Si(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Ko.prototype.readInt16BE=function(t,e){e||Si(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Ko.prototype.readInt32LE=function(t,e){return e||Si(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ko.prototype.readInt32BE=function(t,e){return e||Si(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ko.prototype.readFloatLE=function(t,e){return e||Si(t,4,this.length),Ho(this,t,!0,23,4)},Ko.prototype.readFloatBE=function(t,e){return e||Si(t,4,this.length),Ho(this,t,!1,23,4)},Ko.prototype.readDoubleLE=function(t,e){return e||Si(t,8,this.length),Ho(this,t,!0,52,8)},Ko.prototype.readDoubleBE=function(t,e){return e||Si(t,8,this.length),Ho(this,t,!1,52,8)},Ko.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||bi(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},Ko.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||bi(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},Ko.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,1,255,0),Ko.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Ko.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,2,65535,0),Ko.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ki(this,t,e,!0),e+2},Ko.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,2,65535,0),Ko.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ki(this,t,e,!1),e+2},Ko.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,4,4294967295,0),Ko.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):xi(this,t,e,!0),e+4},Ko.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,4,4294967295,0),Ko.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):xi(this,t,e,!1),e+4},Ko.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);bi(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},Ko.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);bi(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},Ko.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,1,127,-128),Ko.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Ko.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,2,32767,-32768),Ko.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):ki(this,t,e,!0),e+2},Ko.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,2,32767,-32768),Ko.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):ki(this,t,e,!1),e+2},Ko.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,4,2147483647,-2147483648),Ko.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):xi(this,t,e,!0),e+4},Ko.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||bi(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Ko.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):xi(this,t,e,!1),e+4},Ko.prototype.writeFloatLE=function(t,e,n){return wi(this,t,e,!0,n)},Ko.prototype.writeFloatBE=function(t,e,n){return wi(this,t,e,!1,n)},Ko.prototype.writeDoubleLE=function(t,e,n){return Ei(this,t,e,!0,n)},Ko.prototype.writeDoubleBE=function(t,e,n){return Ei(this,t,e,!1,n)},Ko.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!Ko.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},Ko.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Ko.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=ei(t)?t:Mi(new Ko(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var Pi=/[^+\/0-9A-Za-z-_]/g;function Ci(t){return t<16?"0"+t.toString(16):t.toString(16)}function Mi(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ti(t){return function(t){var e,n,r,o,i,s;$o||Yo();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Bo(3*a/4-i),r=i>0?a-4:a;var l=0;for(e=0,n=0;e<r;e+=4,n+=3)o=Io[t.charCodeAt(e)]<<18|Io[t.charCodeAt(e+1)]<<12|Io[t.charCodeAt(e+2)]<<6|Io[t.charCodeAt(e+3)],s[l++]=o>>16&255,s[l++]=o>>8&255,s[l++]=255&o;return 2===i?(o=Io[t.charCodeAt(e)]<<2|Io[t.charCodeAt(e+1)]>>4,s[l++]=255&o):1===i&&(o=Io[t.charCodeAt(e)]<<10|Io[t.charCodeAt(e+1)]<<4|Io[t.charCodeAt(e+2)]>>2,s[l++]=o>>8&255,s[l++]=255&o),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Pi,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ri(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Di(t){return null!=t&&(!!t._isBuffer||Li(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Li(t.slice(0,0))}(t))}function Li(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ni=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:zo,Buffer:Ko,SlowBuffer:function(t){return+t!=t&&(t=0),Ko.alloc(+t)},isBuffer:Di}),Ai=Sr((function(t,e){var n=e,r=Ni.Buffer;n.toBuffer=function(t,e,n){var o;if(n=~~n,this.isV4Format(t))o=e||new r(n+4),t.split(/\./g).map((function(t){o[n++]=255&parseInt(t,10)}));else if(this.isV6Format(t)){var i,s=t.split(":",8);for(i=0;i<s.length;i++){var a;this.isV4Format(s[i])&&(a=this.toBuffer(s[i]),s[i]=a.slice(0,2).toString("hex")),a&&++i<8&&s.splice(i,0,a.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&""!==s[i];i++);var l=[i,1];for(i=9-s.length;i>0;i--)l.push("0");s.splice.apply(s,l)}for(o=e||new r(n+16),i=0;i<s.length;i++){var c=parseInt(s[i],16);o[n++]=c>>8&255,o[n++]=255&c}}if(!o)throw Error("Invalid ip address: "+t);return o},n.toString=function(t,e,n){e=~~e;var r=[];if(4===(n=n||t.length-e)){for(var o=0;o<n;o++)r.push(t[e+o]);r=r.join(".")}else if(16===n){for(o=0;o<n;o+=2)r.push(t.readUInt16BE(e+o).toString(16));r=(r=(r=r.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return r};var i=/^(\d{1,3}\.){3,3}\d{1,3}$/,s=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function a(t){return t?t.toLowerCase():"ipv4"}n.isV4Format=function(t){return i.test(t)},n.isV6Format=function(t){return s.test(t)},n.fromPrefixLen=function(t,e){var o=4;"ipv6"===(e=t>32?"ipv6":a(e))&&(o=16);for(var i=new r(o),s=0,l=i.length;s<l;++s){var c=8;t<8&&(c=t),t-=c,i[s]=255&~(255>>c)}return n.toString(i)},n.mask=function(t,e){t=n.toBuffer(t),e=n.toBuffer(e);var o=new r(Math.max(t.length,e.length)),i=0;if(t.length===e.length)for(i=0;i<t.length;i++)o[i]=t[i]&e[i];else if(4===e.length)for(i=0;i<e.length;i++)o[i]=t[t.length-4+i]&e[i];else{for(i=0;i<o.length-6;i++)o[i]=0;for(o[10]=255,o[11]=255,i=0;i<t.length;i++)o[i+12]=t[i]&e[i+12];i+=12}for(;i<o.length;i++)o[i]=0;return n.toString(o)},n.cidr=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(e[1],10));return n.mask(r,o)},n.subnet=function(t,e){for(var r=n.toLong(n.mask(t,e)),o=n.toBuffer(e),i=0,s=0;s<o.length;s++)if(255===o[s])i+=8;else for(var a=255&o[s];a;)a=a<<1&255,i++;var l=Math.pow(2,32-i);return{networkAddress:n.fromLong(r),firstAddress:l<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:l<=2?n.fromLong(r+l-1):n.fromLong(r+l-2),broadcastAddress:n.fromLong(r+l-1),subnetMask:e,subnetMaskLength:i,numHosts:l<=2?l:l-2,length:l,contains:function(t){return r===n.toLong(n.mask(t,e))}}},n.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(e[1],10));return n.subnet(r,o)},n.not=function(t){for(var e=n.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return n.toString(e)},n.or=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return n.toString(t)}var o=t,i=e;e.length>t.length&&(o=e,i=t);var s=o.length-i.length;for(r=s;r<o.length;++r)o[r]|=i[r-s];return n.toString(o)},n.isEqual=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(4===e.length){var o=e;e=t,t=o}for(r=0;r<10;r++)if(0!==e[r])return!1;var i=e.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0},n.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.isPublic=function(t){return!n.isPrivate(t)},n.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.loopback=function(t){if("ipv4"!==(t=a(t))&&"ipv6"!==t)throw new Error("family must be ipv4 or ipv6");return"ipv4"===t?"127.0.0.1":"fe80::1"},n.address=function(t,e){var r,i=o.default.networkInterfaces();if(e=a(e),t&&"private"!==t&&"public"!==t){var s=i[t].filter((function(t){return t.family.toLowerCase()===e}));if(0===s.length)return;return s[0].address}return(r=Object.keys(i).map((function(r){var o=i[r].filter((function(r){return r.family=r.family.toLowerCase(),r.family===e&&!n.isLoopback(r.address)&&(!t||("public"===t?n.isPrivate(r.address):n.isPublic(r.address)))}));return o.length?o[0].address:void 0})).filter(Boolean)).length?r[0]:n.loopback(e)},n.toLong=function(t){var e=0;return t.split(".").forEach((function(t){e<<=8,e+=parseInt(t)})),e>>>0},n.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(255&t)}}));const Oi=window.chokidar,Ii=window.os,Bi=window.fs,$i=window.fsex,Yi=window.nw,Fi=window.childProcess,Ui=Fi.execSync,Hi=(Fi.exec,window.mathjs),ji=window.axios,Wi=window.syncrequest,Vi={logger:null,app:null,httpServer:null,server:null,HOME:Ii.homedir(),NOTES:null,NOTESDIR:Ii.homedir()+"/.scriptpad",NOTESFILELOC:Ii.homedir()+"/.scriptpad/.notesjson",SCRIPTS:null,SCRIPTSFILELOC:Ii.homedir()+"/.scriptpad/.scriptsjson",REGEXP:null,REGEXPFILELOC:Ii.homedir()+"/.scriptpad/.regexpjson",PREFERENCES:{server:"http://localhost:9978",codeMode:"javascript",noteMode:"markdown",codeLineNumbers:!0,noteLineNumbers:!1,scriptKeyMap:"vim",noteKeyMap:"sublime",style:"default",UseNotePlan:!1,UseTaskPaper:!1,taskpaper:[],styleActiveLine:!0,REDAuto:!0,REDDashboard:!1,RedSecret:"jesus-is-lord",clearCache:!1},PREFERENCESFILELOC:Ii.homedir()+"/.scriptpad/preferences.json",SERVERLOCATION:Yi.__dirname,USERTEMPLATESFILE:Ii.homedir()+"/.scriptpad/templates.json",SCRIPTBARPREFERENCES:Ii.homedir()+"/.scriptpad/scriptbar.json",TEMPLATES:null,STYLE:{buttons:[{selected:!0,color:"#CC5A7B",id:0},{selected:!1,color:"#E47D98",id:1},{selected:!1,color:"#FF8CAA",id:2},{selected:!1,color:"#FFBBD0",id:3},{selected:!1,color:"#F1C0CC",id:4},{selected:!1,color:"#F9E2EA",id:5},{selected:!1,color:"#C2B1DB",id:6},{selected:!1,color:"#B09BD2",id:7},{selected:!1,color:"#8279AC",id:8}],commandbuttons:[{selected:!0,color:"#CC5A7B",id:0},{selected:!1,color:"#E47D98",id:1},{selected:!1,color:"#FF8CAA",id:2},{selected:!1,color:"#FFBBD0",id:3},{selected:!1,color:"#F1C0CC",id:4},{selected:!1,color:"#F9E2EA",id:5},{selected:!1,color:"#C2B1DB",id:6},{selected:!1,color:"#B09BD2",id:7},{selected:!1,color:"#8279AC",id:8}],matchStyle:["#CC5A7B","#E47D98","#FF8CAA","#FFBBD0","#F1C0CC","#F9E2EA","#C2B1DB","#B09BD2","#8279AC"],textcolor:"#aba8a9",editorBackground:"#013948",appBackground:"#191b1e",editorTheme:"oceanic-next",shadowColor:"#0D1E2A",scriptMenuBackground:"#0281A3",scriptMenuTextColor:"#EFF1EB",selectionBackgroundColor:"white",selectionColor:"gray",selectionMenuColor:"blue",selectionMenuBackgroundColor:"lightgray",scriptMenuItemSystem:"darkgrey",scriptMenuItemUser:"lightblue",todoIconAddress:"imgs/clipboard.png"},STYLESLOCATION:Ii.homedir()+"/.scriptpad/styles/",HOSTNAME:"localhost",PORTNUMBER:9978,CONNECTED:!1,nw:Yi,fs:Bi,moment:br,math:Hi,chokidar:Oi,execSync:Ui,Handlebars:No,axios:ji,request:Wi,NPiCLOUD:Ii.homedir()+"/Library/Mobile Documents/iCloud~co~noteplan~NotePlan/Documents/Calendar/",NPLOCAL:Ii.homedir()+"/Library/Containers/co.noteplan.NotePlan/Data/Library/Application Support/co.noteplan.NotePlan/Calendar/",NPLOCALBASIC:Ii.homedir()+"/Library/Application Support/co.noteplan/Calendar/",NPFoundFile:"",getTodos:function(t){this.getTodosCallback=t;var e=[];if(this.PREFERENCES.UseNotePlan){var n="",r=[],o=this.moment().format("YYYYMMDD")+".txt";if(Bi.existsSync(this.NPiCLOUD+o)?(this.NPFoundFile=this.NPiCLOUD+o,n=Bi.readFileSync(this.NPFoundFile,"utf8")):Bi.existsSync(this.NPLOCAL+o)?(this.NPFoundFile=this.NPLOCAL+o,n=Bi.readFileSync(this.NPFoundFile,"utf8")):Bi.existsSync(this.NPLOCALBASIC+o)?(this.NPFoundFile=this.NPLOCALBASIC+o,n=Bi.readFileSync(this.NPFoundFile,"utf8")):n="",""!==n)for(var i=(n=n.split("\n")).length,s=0;s<i;s++){n[s]=n[s].trim();var a=!1;""!=n[s]&&("x"==n[s][3]&&(a=!0,n[s]="-"+n[s].substr(5)),r.push({description:n[s].substr(2),done:a,deleted:a}))}e.push({name:"Note Plan",location:"Note Plan",todos:r})}if(this.PREFERENCES.UseTaskPaper)for(var l=this.PREFERENCES.taskpaper.length,c=0;c<l;c++){var u=[];n=[];Bi.existsSync(this.PREFERENCES.taskpaper[c].loc)&&(n=Bi.readFileSync(this.PREFERENCES.taskpaper[c].loc,"utf8"));for(i=(n=n.split("\n")).length,s=0;s<i;s++){n[s]=n[s].trim();a=!1;""!=n[s]&&(n[s].endsWith(":")||(n[s].indexOf("@done")>=0&&(a=!0),u.push({description:n[s].substr(2),done:a,deleted:a})))}e.push({name:this.PREFERENCES.taskpaper[c].name,location:this.PREFERENCES.taskpaper[c].loc,todos:u})}return e},saveTodos:function(t){this.SAVINGTODOS=!0;for(var e=t.length,n=0;n<e;n++)if("Note Plan"===t[n].name){var r="",o=this.moment().format("YYYYMMDD")+".txt";r=Bi.existsSync(this.NPiCLOUD+o)?this.NPiCLOUD+o:Bi.existsSync(this.NPLOCAL+o)?this.NPLOCAL+o:this.NPLOCALBASIC+o;for(var i=[],s=t[n].todos.length,a=[],l=0;l<s;l++)t[n].todos[l].done?a.push("- [x] "+t[n].todos[l].description.trim()):i.push("- "+t[n].todos[l].description.trim());try{Bi.writeFileSync(r,i.join("\n")+"\n"+a.join("\n"),{flag:"w+"})}catch(t){console.log("Can't write to Noteplan file")}}else{var c=0;for(s=this.PREFERENCES.taskpaper.length,l=0;l<s;l++)this.PREFERENCES.taskpaper[l].name===t[n].name&&(c=l);r=this.PREFERENCES.taskpaper[c].loc;(i=[]).push(this.moment().format("dddd MM-DD-YYYY:")),(a=[]).push("Archive:");for(s=t[n].todos.length,l=0;l<s;l++)t[n].todos[l].done?a.push("\t- "+t[n].todos[l].description.trim()):i.push("\t- "+t[n].todos[l].description.trim());try{Bi.writeFileSync(r,i.join("\n")+"\n"+a.join("\n"))}catch(t){console.log("Can't write file "+r)}}this.SAVINGTODOS=!1},SERVERLISTPATH:Ii.homedir()+"/.scriptpad/.clipboardservers",SYSTEMSCRIPTS:[{name:"Upper Case",insert:!1,description:"Makes the text all Upper Cased.",script:"SP.text = SP.text.toUpperCase()",system:!0},{name:"Lower Case",insert:!1,description:"Makes the text all lower cased.",script:"SP.text = SP.text.toLowerCase()",system:!0},{name:"Title Case",insert:!1,description:"Makes the text Title cased.",script:"function TitleCase(t){var a=t.split(' ');var e=['to','an','and','at','as','but','by','for','if','in','on','or','is','with','a','the','of','vs','vs.','via','via','en','I','II','III','IV','V','VI','VII','VIII','IX','X','HTML','CSS','AT&T','PHP','Python','JavaScript','IBM'];for(var r=0;r<a.length;r++){var o=a[r];var s=false;for(var I=0;I<e.length;I++){if(o.toLowerCase()===e[I].toLowerCase()){o=e[I];s=true}}if(!s){o=o.charAt(0).toUpperCase()+o.substr(1).toLowerCase()}a[r]=o}a[0]=a[0].charAt(0).toUpperCase()+a[0].substr(1).toLowerCase();return a.join(' ')}SP.text=TitleCase(SP.text);",system:!0},{name:"Snake Case",insert:!1,description:"Makes the text Snake cased, or underlines instead of spaces.",script:"function SnakeCase(e){if(e.indexOf(' ')!==-1)return e.split(' ').join('_');else return e.split('_').join(' ')}SP.text=SnakeCase(SP.text);",system:!0},{name:"Lower Camel Case",insert:!1,description:"Makes all the words together with the first word all lower cased and each other word capitalized.",script:"function LowerCamelCase(e){var a=e.split(' ');for(var r=0;r<a.length;r++){var t=a[r];if(r!==0){t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}else{t=t.toLowerCase()}a[r]=t}return a.join('')}SP.text=LowerCamelCase(SP.text);",system:!0},{name:"Upper Camel Case",insert:!1,description:"Makes all the words capitalized and without spaces.",script:"function UpperCamelCase(e){var a=e.split(' ');for(var r=0;r<a.length;r++){var t=a[r];t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();a[r]=t}return a.join('')}; SP.text=UpperCamelCase(SP.text);",system:!0},{name:"Hyphen Case",insert:!1,description:"Makes all the spaces into hyphens. Running it again changes all the hyphens to spaces.",script:"function HyphenCase(e){if(e.indexOf(' ')!==-1)return e.split(' ').join('-');else return e.split('-').join(' ')}SP.text=HyphenCase(SP.text);",system:!0},{name:"URI Encode",insert:!1,description:"Encodes the text for a URI.",script:"SP.text = encodeURIComponent( SP.text )",system:!0},{name:"URI Decode",insert:!1,description:"Decodes URI encoded text.",script:"SP.text = decodeURIComponent( SP.text )",system:!0},{name:"HTML Escape",insert:!1,description:"Escapes special characters using HTML escaping.",script:"var e = document.createElement( 'DIV' ); var t = document.createTextNode( SP.text );e.appendChild( t );SP.text = e.innerHTML;",system:!0},{name:"Undo HTML Escaping",insert:!1,description:"Undoes HTML escaping.",script:"var e = document.createElement( 'DIV' );e.innerHTML = SP.text; SP.text = e.childNodes.length === 0 ? ' : e.childNodes[ 0 ].nodeValue;",system:!0},{name:"Surround with ()",insert:!1,description:"Surrounds the text in ().",script:"SP.text = '(' + SP.text + ')'",system:!0},{name:"Surround with []",insert:!1,description:"Surrounds the text in [].",script:"SP.text = '[' + SP.text + ']'",system:!0},{name:"Surround with {}",insert:!1,description:"Surrounds the text in {}.",script:"SP.text = '{' + SP.text + '}'",system:!0},{name:"Surround with **",insert:!1,description:"Surrounds the text in '**'.",script:"SP.text = '**' + SP.text + '**'",system:!0},{name:"Bullet Lines with *",insert:!1,description:"Puts a '* ' at the front of each line of text.",script:"function BulletItems(t){var l=t.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);for(var n=0;n<l.length;n++){l[n]='* '+l[n]}return l.join('')}SP.text=BulletItems(SP.text);",system:!0},{name:"Bullet Lines with Numbers",insert:!1,description:"Puts a number, period, and a space in the front of each line of text. The numbers are sequential from 1.",script:"function NumberItems(t){var r=t.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);var n=1;for(var e=0;e<r.length;e++){r[e]=n.toString()+'. '+r[e];n++}return r.join('')}SP.text=NumberItems(SP.text);",system:!0},{name:"Undo Line Numbering",insert:!1,description:"Removes the line numbering from the beginning of each line.",script:"for(var lines=SP.text.split('\\n'),i=0;i<lines.length;i++){var match=lines[i].match(/^\\d+\\.\\ (.*)$/);null!=match&&(lines[i]=match[1])}SP.text=lines.join('\\n');",system:!0},{name:"Insert Date & Time",insert:!0,description:"Inserts the current date and time at the cursor point.",script:"SP.text = SP.moment().format('MMMM DD, YYYY, h:mm:ss a');",system:!0},{name:"Insert Date",insert:!0,description:"Inserts the current date at the cursor point.",script:"SP.text = SP.moment().format('MMMM DD, YYYY');",system:!0},{name:"Insert Time",insert:!0,description:"Inserts the current time at the cursor point.",script:"SP.text = SP.moment().format('h:mm:ss a');",system:!0},{name:"Insert Day of Week",insert:!0,description:"Inserts the current name of the day of the week at the cursor point.",script:"SP.text = SP.moment().format('dddd');",system:!0},{name:"Insert Date/Time by Format",insert:!1,description:"Takes the selected text as formatting for the date/time function.",script:"SP.text = SP.moment().format(SP.text);",system:!0},{name:"Number of Days from Now",insert:!1,description:"Takes the selected number and gives the date that many days in the future.",script:"SP.text = SP.moment().add(SP.text,'days').format('MMMM DD, YYYY');",system:!0},{name:"Number of Days Ago",insert:!1,description:"Takes the selected number and gives the date that many days in the past.",script:"SP.text = SP.moment().subtract(SP.text,'days').format('MMMM DD, YYYY');",system:!0},{name:"Basic Math",insert:!1,description:"Takes the selection and processes as math.",script:"SP.text = SP.ProcessMathSelection(SP.text)",system:!0},{name:"Evaluate Page for Math",insert:!1,description:"Takes the entire note and processes it for math if the line starts with '>'.",script:"SP.text = SP.ProcessMathNotes(SP.text);",system:!0},{name:"Evaluate Note 1 as Script",insert:!1,description:"Takes the first note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(1), SP.text);",system:!0},{name:"Evaluate Note 2 as Script",insert:!1,description:"Takes the second note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(2), SP.text);",system:!0},{name:"Evaluate Note 3 as Script",insert:!1,description:"Takes the third note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(3), SP.text);",system:!0},{name:"Evaluate Note 4 as Script",insert:!1,description:"Takes the fourth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(4), SP.text);",system:!0},{name:"Evaluate Note 5 as Script",insert:!1,description:"Takes the fifth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(5), SP.text);",system:!0},{name:"Evaluate Note 6 as Script",insert:!1,description:"Takes the sixth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(6), SP.text);",system:!0},{name:"Evaluate Note 7 as Script",insert:!1,description:"Takes the seventh note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(7), SP.text);",system:!0},{name:"Evaluate Note 8 as Script",insert:!1,description:"Takes the eighth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(8), SP.text);",system:!0},{name:"Evaluate Note 9 as Script",insert:!1,description:"Takes the nineth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(9), SP.text);",system:!0}],SYSTEMREGEXPS:[{name:"Main URL",insert:!1,description:"This extracts the main domain and access protocol of a HTTP URL. The first capture is the protocol, second is the domain, and the third is the rest.",script:"(http(s)*://)([^/|:]*)([^s]*)",system:!0}],SYSTEMTEMPLATES:[{name:"Today",description:"Insert today's date.",template:"Today is: {{cDateMDY}}.",system:!0}],NOTEPLANWATCHER:null,TASKPAPERWATCHER:null,SAVINGTODOS:!1,setFileWatches:function(){if(this.PREFERENCES.UseNotePlan){null!==this.NOTEPLANWATCHER&&this.NOTEPLANWATCHER.close(),this.NOTEPLANWATCHER=Oi.watch(this.NPFoundFile,{ignored:/[\/\\]\./,persistent:!0,depth:1,awaitWriteFinish:!0,ignorePermissionErrors:!0});var t=this;this.NOTEPLANWATCHER.on("change",e=>{t.callReadTodos()})}if(this.PREFERENCES.UseTaskPaper){null!==this.TASKPAPERWATCHER&&(this.TASKPAPERWATCHER.close(),this.TASKPAPERWATCHER=null);for(var e=this.PREFERENCES.taskpaper.length,n=(t=this,0);n<e;n++)null===this.TASKPAPERWATCHER?this.TASKPAPERWATCHER=Oi.watch(this.PREFERENCES.taskpaper[n].loc,{ignored:/[\/\\]\./,persistent:!0,depth:1,awaitWriteFinish:!0,ignorepermissionErrors:!0}):this.TASKPAPERWATCHER.add(this.PREFERENCES.taskpaper[n].loc),this.TASKPAPERWATCHER.on("change",e=>{t.callReadTodos()})}},getTodosCallback:null,callReadTodos:function(){this.SAVINGTODOS||null==this.getTodosCallback||this.getTodosCallback()},getStyleFile:function(t){return Bi.existsSync(this.STYLESLOCATION)?Bi.existsSync(this.STYLESLOCATION+t+".json")?this.STYLE=JSON.parse(Bi.readFileSync(this.STYLESLOCATION+t+".json","utf8")):console.log("Style doesn't exist:  "+t):(Bi.mkdirSync(this.STYLESLOCATION),Bi.writeFileSync(this.STYLESLOCATION+"default.json",JSON.stringify(this.STYLE),"utf-8",438,"w+")),this.STYLE},getStyleNames:function(){var t=[];return Bi.existsSync(this.STYLESLOCATION)?t=Bi.readdirSync(this.STYLESLOCATION).map(t=>String(t).split(".")[0]):(Bi.mkdirSync(this.STYLESLOCATION),Bi.writeFileSync(this.STYLESLOCATION+"default.json",JSON.stringify(this.STYLE),"utf-8",438,"w+"),t=["default"]),globalThis.styleList=t,t},getEditorThemes:function(){return Bi.readdirSync(this.SERVERLOCATION+"/scriptpad/editorThemes").map(t=>String(t).split(".")[0])},writeStyleFile:function(t){Bi.existsSync(this.STYLESLOCATION)||Bi.mkdirSync(this.STYLESLOCATION),Bi.writeFileSync(this.STYLESLOCATION+t+".json",JSON.stringify(this.STYLE),"utf-8",438,"w+")},getRegExp:function(){return null===this.REGEXP&&(Bi.existsSync(this.REGEXPFILELOC)?this.REGEXP=JSON.parse(Bi.readFileSync(this.REGEXPFILELOC,"utf8")):(Bi.existsSync(this.NOTESDIR)||Bi.mkdirSync(this.NOTESDIR),this.REGEXP=[],this.putRegExps(this.REGEXP))),this.REGEXP},putRegExps:function(t){null==t&&(t=[]),this.REGEXP=t,Bi.writeFileSync(this.REGEXPFILELOC,JSON.stringify(this.REGEXP),"utf-8",438,"w+")},getScripts:function(){return null===this.SCRIPTS&&(Bi.existsSync(this.SCRIPTSFILELOC)?this.SCRIPTS=JSON.parse(Bi.readFileSync(this.SCRIPTSFILELOC,"utf8")):(Bi.existsSync(this.NOTESDIR)||Bi.mkdirSync(this.NOTESDIR),this.SCRIPTS=[],this.putScripts(this.SCRIPTS))),this.SCRIPTS},getSystemScripts:function(){return this.SYSTEMSCRIPTS},getSystemRegExps:function(){return this.SYSTEMREGEXPS},getSystemTemplates:function(){return this.SYSTEMTEMPLATES},getUserTemplates:function(){return null===this.TEMPLATES&&(Bi.existsSync(this.USERTEMPLATESFILE)?this.TEMPLATES=JSON.parse(Bi.readFileSync(this.USERTEMPLATESFILE,"utf8")):(Bi.existsSync(this.NOTESDIR)||Bi.mkdirSync(this.NOTESDIR),this.TEMPLATES=[],this.saveUserTemplates(this.TEMPLATES))),this.TEMPLATES},saveUserTemplates:function(t){null==t&&(t=[]),this.TEMPLATES=t,Bi.writeFileSync(this.USERTEMPLATESFILE,JSON.stringify(this.TEMPLATES),"utf-8",438,"w+")},getJavaScriptScript:function(t){var e=this.getScripts().find(e=>e.name==t);return void 0===e&&(e=this.getSystemScripts().find(e=>e.name==t)),e.script},runJavaScriptScripts:function(t,e){var n=e,r=this,o={text:e,moment:br,mathjs:Hi,mathParser:Hi.parser(),that:r,Handlebars:No,ProcessMathSelection:function(t){return this.mathParser.evaluate(t)},ProcessMathNotes:function(t){var e="";this.mathParser.clear();let n=t.match(/^.*((\\r\\n|\\n|\\r)|$)/gm),r=n.length;for(let t=0;t<n.length;t++){var o=n[t],i="";if(0===(o=o.trim()).indexOf(">")){var s=(o=o.substr(2)).indexOf("|");-1!==s&&(o=(o=o.substr(0,s-1)).trim()),"function"==typeof(i=this.mathParser.evaluate(o))&&(i="Definition");var a=32-(o.length+3);a<1&&(a=1),e+="> "+o+this.insertCharacters(a," ")+" | "+i}else e+=o;0!=--r&&(e+="\n")}return e},runScript:function(t,e){return r.runJavaScriptScripts(r.getJavaScriptScript(t),e)},returnNote:function(t){var e="";return(t-=1)>=0&&t<=9&&(e=r.NOTES[t]),e},insertCharacters:function(t,e){var n="";if(t<0)return n;for(var r=0;r<t;r++)n+=e;return n}};try{o=new Function("SP",t+"; return SP;")(o)}catch(t){console.log(t),o.text=n}return"String"!=typeof o.text&&(o.text=o.text.toString()),o.text},putScripts:function(t){null==t&&(t=[]),this.SCRIPTS=t,Bi.writeFileSync(this.SCRIPTSFILELOC,JSON.stringify(this.SCRIPTS),"utf-8",438,"w+")},getNote:function(t){if(t>=0&&t<=8)return this.readNotesFile(),this.NOTES[t]},saveNote:function(t,e){null==e&&(e=""),t>=0&&t<=8&&(this.readNotesFile(),this.NOTES[t]=e,this.writeNotesFile())},readPreferencesFile:function(){return Bi.existsSync(this.PREFERENCESFILELOC)?this.PREFERENCES=JSON.parse(Bi.readFileSync(this.PREFERENCESFILELOC,"utf8")):this.writePreferencesFile(),this.PREFERENCES},writePreferencesFile:function(){Bi.writeFileSync(this.PREFERENCESFILELOC,JSON.stringify(this.PREFERENCES),"utf-8",438,"w+")},writeNotesFile:function(){Bi.writeFileSync(this.NOTESFILELOC,JSON.stringify(this.NOTES),"utf-8",438,"w+")},readNotesFile:function(){null===this.NOTES&&(Bi.existsSync(this.NOTESFILELOC)?this.NOTES=JSON.parse(Bi.readFileSync(this.NOTESFILELOC,"utf8")):(Bi.existsSync(this.NOTESDIR)||Bi.mkdirSync(this.NOTESDIR),this.NOTES=[],this.NOTES[0]="",this.NOTES[1]="",this.NOTES[2]="",this.NOTES[3]="",this.NOTES[4]="",this.NOTES[5]="",this.NOTES[6]="",this.NOTES[7]="",this.NOTES[8]="",this.writeNotesFile()))},installAlfred:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPadWorkflow.alfredworkflow')},installKeyboardMaestro:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPadMacros.kmlibrary')},installDropzone:function(){let t=this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPad.dzbundle');t+=this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open "ScriptPad Run Script.dzbundle"')},installPopClip:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPad.popclipext')},installLaunchBar:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open "ScriptPad - Set Note.lbaction"; /usr/bin/open "ScriptPad - Paste Note.lbaction"; /usr/bin/open "ScriptPad - Set BulletinBoard.lbaction";/usr/bin/open "ScriptPad - Append BulletinBoard.lbaction"; /usr/bin/open "ScriptPad - Run Script.lbaction"; /usr/bin/open "ScriptPad - Run Template.lbaction";')},showHelp:function(){var t=this;this.showURL("http://localhost:9978/docs","helpWin",e=>{t.helpwin=e})},helpWin:null,showURL:function(t,e,n){this.nw.Window.open(t,{id:e},n)},TeaCodeExpand:function(t,e){var n=t.replace(new RegExp('"',"g"),'\\"');let r=this.execSync("/usr/bin/osascript -l JavaScript -e \"Application('TeaCode').expandAsJson('"+n+"', { 'extension': '"+e+"' })\"");return JSON.parse(r.toString("utf8"))},quit:async function(){globalThis.mainwin.hide(),null!=this.NOTEPLANWATCHER&&this.NOTEPLANWATCHER.close(),null!=this.TASKPAPERWATCHER&&this.TASKPAPERWATCHER.close(),this.REDSTARTED&&this.RED.stop(),this.server.close();try{await ji.get("http://localhost:9697/api/quit")}catch(t){console.error(t)}if(void 0!==globalThis.moduleWin)for(var t=0;t<globalThis.moduleWin.length;t++)try{void 0!==globalThis.moduleWin[t]&&globalThis.moduleWin[t].close()}catch(t){console.log(t)}this.PREFERENCES.clearCache&&(Yi.App.clearCache(),window.chrome.browsingData.remove({since:0},{appcache:!0,cache:!0,cookies:!0,downloads:!0,fileSystems:!0,formData:!0,history:!0,indexedDB:!0,localStorage:!0,pluginData:!0,passwords:!0,serverBoundCertificates:!0,serviceWorkers:!0,webSQL:!0})),globalThis.mainwin.close(!0),this.nw.App.quit()},setupHandlebarHelpers:function(){var t=this;this.Handlebars.registerHelper("env",(function(t){return process.env[t]})),this.Handlebars.registerHelper("save",(function(e,n){return t.Handlebars.registerHelper(e,(function(){return n})),n})),this.Handlebars.registerHelper("clipboard",(function(){return t.nw.Clipboard.get().get("text")})),this.Handlebars.registerHelper("date",(function(e){return t.moment().format(e)})),this.Handlebars.registerHelper("cdate",(function(e,n){return t.moment(e).format(n)})),this.Handlebars.registerHelper("last",(function(e,n,r){return t.moment().add(-7*e,"d").day(n).format(r)})),this.Handlebars.registerHelper("next",(function(e,n,r){return t.moment().add(7*e,"d").day(n).format(r)})),this.Handlebars.registerHelper("userfillin",(function(e,n=""){return t.getFeedback(e,n)})),this.Handlebars.registerHelper("copyclip",(function(e){return t.getCopyClip(e)}))},getFeedback:function(t,e){return this.getAnswer(t,e)},listTemplates:function(){var t=this.SYSTEMTEMPLATES.map(t=>t.name);return t=t.concat(this.TEMPLATES.map(t=>t.name))},getTemplateByName:function(t){var e=this.TEMPLATES.find(e=>e.name===t);return void 0===e?e=this.SYSTEMTEMPLATES.find(e=>e.name===t):void 0===e&&(e=null),e},runTemplate:function(t,e,n){var r="";try{var o=[];o.cDateMDY=this.moment().format("MMMM DD, YYYY"),o.cDateDMY=this.moment().format("DD MMMM YYYY"),o.cDateDOWDMY=this.moment().format("dddd, DD MMMM YYYY"),o.cDateDOWMDY=this.moment().format("dddd MMMM DD, YYYY"),o.cDay=this.moment().format("DD"),o.cMonth=this.moment().format("MMMM"),o.cYear=this.moment().format("YYYY"),o.cMonthShort=this.moment().format("MMM"),o.cYearShort=this.moment().format("YY"),o.cDOW=this.moment().format("dddd"),o.cMDthYShort=this.moment().format("MMM Do YY"),o.cMDthY=this.moment().format("MMMM Do YYYY"),o.cHMSampm=this.moment().format("h:mm:ss a"),o.cHMampm=this.moment().format("h:mm a"),o.cHMS24=this.moment().format("H:mm:ss"),o.cHM24=this.moment().format("H:mm"),o.Templatename=t,o.text=n;var i=this.getTemplateByName("Defaults");null!==i&&(o=this.MergeRecursive(o,JSON.parse(i.template))),"String"!=typeof(r=No.compile(e)(o))&&(r=r.toString())}catch(t){console.log("Handlebars Error: "+t),r="There was an error."}return r},MergeRecursive:function(t,e){for(var n in e)try{e[n].constructor==Object?t[n]=MergeRecursive(t[n],e[n]):t[n]=e[n]}catch(r){t[n]=e[n]}return t},MergeRenameRecursive:function(t,e,n){for(var r in e)try{e[r].constructor==Object?t[r+n]=MergeRecursive(t[r],e[r]):t[r+n]=e[r]}catch(o){t[r+n]=e[r]}return t},getAlfredDir:function(){var t="";const e=Ii.homedir()+"/Library/Application Support/Alfred/Workflow Data",n=Ii.homedir()+"/Library/Application Support/Alfred 2/Workflow Data",r=Ii.homedir()+"/Library/Application Support/Alfred 3/Workflow Data";return this.fs.existsSync(e)?t=e:this.fs.existsSync(n)?t=n:this.fs.existsSync(r)&&(t=r),t},copyClipFileBeg:"/com.customct.CopyClips/copyclips/copy-",getCopyClip:function(t){return""!==this.getAlfredDir?this.fs.readFileSync(this.getAlfredDir()+this.copyClipFileBeg+t+".txt"):"Alfred CopyClip workflow not installed."},saveCopyClip:function(t,e){""!==this.getAlfredDir&&this.fs.writeFileSync(this.getAlfredDir()+this.copyClipFileBeg+t+".txt",e,"utf8")},getAnswer:function(t,e){return this.queryUserDialog("question",t,e)},queryUserDialog:function(t,...e){var n='"'+t+'" "'+e.join('" "')+'"';return Ui("bin/queryUser "+n)},getIP:function(){return Ai.address()},REDSTARTED:!1,RED:null,REDVARS:{},startRed:function(t){void 0===this.RED||null===this.RED||this.REDSTARTED||this.RED.start().then(()=>{this.REDSTARTED=!0,t()})},stopRed:function(t){this.REDSTARTED&&(this.REDSTARTED=!1,this.RED.stop(),t())},initNodeRed:function(t){if(this.NodeRedHome=this.HOME+"/.nodered-scriptpad/",Bi.existsSync(this.NodeRedHome)||Bi.mkdirSync(this.NodeRedHome),Bi.existsSync(this.NodeRedHome+"node_modules/")||(Bi.mkdirSync(this.NodeRedHome+"node_modules"),$i.copy(this.SERVERLOCATION+"/nodered_modules",this.NodeRedHome+"node_modules")),this.RED=window.nodered,void 0!==this.RED&&null!==this.RED){var e={httpAdminRoot:"/red/admin",httpNodeRoot:"/red/api",userDir:this.NodeRedHome,nodesDir:this.NodeRedHome+"nodes/",credentialSecret:this.PREFERENCES.RedSecret,flowFile:"scriptpad-nodered.json",editorTheme:{projects:{enabled:!1}},logging:{console:{level:"off",metrics:!1,audit:!1},myCustomLogger:{level:"info",metrics:!1,audit:!1,handler:function(e){return function(e){t(e)}}}},functionGlobalContext:{ScriptPad:this}};this.RED.init(this.httpServer,e),this.app.use(e.httpAdminRoot,this.RED.httpAdmin),this.app.use(e.httpNodeRoot,this.RED.httpNode)}},SetRedVar:function(t,e){this.REDVARS[t]=e,void 0!==this.io&&(this.io.emit("varchanged",{variable:t,value:e}),this.io.emit(t,e))},GetRedVar:function(t){var e=null;return void 0!==this.REDVARS[t]&&(e=this.REDVARS[t]),e},GetRedVarArray:function(){return this.REDVARS},scriptEnv:null,ENVIRONMENTVARIABLESFILELOC:Ii.homedir()+"/.scriptpad/environments.json",createDefaultEnv:function(){return{name:"Default",envVar:process.env}},getEnvNames:function(){return null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),this.scriptEnv.map(t=>t.name)},addEnv:function(t){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),void 0===this.scriptEnv.find(e=>e.name===t.name)?this.scriptEnv.push(t):this.scriptEnv=this.scriptEnv.map(e=>(e.name===t.name&&(e=t),e)),this.saveEnv()},removeEnv:function(t){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),this.scriptEnv=this.scriptEnv.filter(e=>e.name!==t),this.saveEnv()},loadEnv:function(){return Bi.existsSync(this.ENVIRONMENTVARIABLESFILELOC)?this.scriptEnv=JSON.parse(Bi.readFileSync(this.ENVIRONMENTVARIABLESFILELOC,"utf8")):(this.scriptEnv=[],this.saveEnv()),this.scriptEnv},saveEnv:function(){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),Bi.writeFileSync(this.ENVIRONMENTVARIABLESFILELOC,JSON.stringify(this.scriptEnv))},getEnv:function(t){t.includes("default")&&(t="Default"),null===this.scriptEnv&&(this.scriptEnv=this.loadEnv());var e=this.scriptEnv.find(e=>e.name===t);return void 0===e&&(e=[]),e},extScripts:null,EXTSCRIPTSFILELOC:Ii.homedir()+"/.scriptpad/extscripts.json",listExtScripts:function(){return null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts.map(t=>t.name)},addExtScript:function(t){null===this.extScripts&&(this.extScripts=this.loadExtScripts()),void 0===this.extScripts.find(e=>e.name===t.name)?this.extScripts.push(t):this.extScripts=this.extScripts.map(e=>(e.name===t.name&&(e=t),e)),this.saveExtScripts()},getExtScript:function(t){return null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts.find(e=>e.name===t)},saveExtScripts:function(){Bi.writeFileSync(this.EXTSCRIPTSFILELOC,JSON.stringify(this.extScripts))},loadExtScripts:function(){return Bi.existsSync(this.EXTSCRIPTSFILELOC)?this.extScripts=JSON.parse(Bi.readFileSync(this.EXTSCRIPTSFILELOC,"utf8")):(this.extScripts=[],this.saveExtScripts()),this.extScripts},removeExtScript:function(t){null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts=this.extScripts.filter(e=>e.name!==t),this.saveExtScripts()},runExtScript:function(t,e){var n="",r={};null===this.extScripts&&(this.extScripts=this.loadExtScripts()),""!==e.env?"undefined"!==(r=this.getEnv(e.env))&&(r=r.envVar):""!==t.env&&"undefined"!==(r=this.getEnv(t.env))&&(r=r.envVar),r={...r,...e.envVar};try{"object"==typeof(n=null!==e.commandLine&&void 0!==e.commandLine?Fi.execFileSync(t.path+"/"+t.script,e.commandLine.split(" "),{env:r,cwd:t.path,shell:"/usr/local/bin/fish",encoding:"utf8"}):Fi.execFileSync(t.path+"/"+t.script,[],{env:r,cwd:t.path,shell:"/usr/local/bin/fish",encoding:"utf8"}))&&(n=n.toString())}catch(t){n="Error: "+t.message}return n}};return window.onload=function(){globalThis.showing=!1,globalThis.Server=null,globalThis.mainwin=null,globalThis.tray=null,globalThis.preferences={},globalThis.style={},globalThis.styleList=["default"],globalThis.ScriptPadInternal=Vi;let t=globalThis.ScriptPadInternal.nw;function e(){null!==globalThis.mainwin&&(globalThis.mainwin.eval(null,"window.Pref")&&globalThis.showing||(globalThis.mainwin.hide(),globalThis.showing=!1))}function n(){globalThis.mainwin.hide(),globalThis.ScriptPadInternal.quit()}globalThis.mainwin=t.Window.get(),globalThis.preferences=globalThis.ScriptPadInternal.readPreferencesFile(),globalThis.style=globalThis.ScriptPadInternal.getStyleFile(globalThis.preferences.style),globalThis.tray=new t.Tray({icon:"scriptpad/imgs/trayicon-16.icns",tooltip:"ScriptNote"}),globalThis.tray.on("click",(function(t){null!==globalThis.mainwin&&(globalThis.showing?(globalThis.mainwin.hide(),globalThis.showing=!1):(globalThis.mainwin.x=t.x-233,globalThis.mainwin.y=t.y,globalThis.mainwin.show(),globalThis.mainwin.focus(),globalThis.showing=!0))})),globalThis.Pref=!1,globalThis.onBlurFunction=e,globalThis.onCloseFunction=n,globalThis.moduleWin=null;var r=fs.readdirSync(Vi.SERVERLOCATION+"/Modules");globalThis.moduleWin=new Array;for(var o=r.length,i=0;i<o;i++){const e={name:r[i],path:Vi.SERVERLOCATION+"/Modules/"+r[i],description:"",win:null,live:!1};if(Vi.fs.existsSync("Modules/"+r[i]+"/package.json")){const n=JSON.parse(Vi.fs.readFileSync("Modules/"+r[i]+"/package.json"));if(e.name=n.name,e.description=n.description,n.autoload){var s=i;const o=n.window;o.new_instance=!0,e.live=!0,t.Window.open("chrome-extension://"+chrome.runtime.id+"/Modules/"+r[i]+"/index.html",o,t=>{globalThis.moduleWin[s].win=t})}globalThis.moduleWin[i]=e}}const a=new gr({target:document.body,props:{prefs:globalThis.preferences,styles:globalThis.style,ScriptPad:globalThis.ScriptPadInternal,onBlur:e,onClose:n}});globalThis.appScriptPad=a},globalThis.appScriptPad}(fs,os);
