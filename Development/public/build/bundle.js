var app=function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e),i=r(t),s=r(n);function a(){}function l(e){return e()}function c(){return Object.create(null)}function u(e){e.forEach(l)}function h(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function p(e){return null==e?"":e}function f(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function k(){return S(" ")}function x(){return S("")}function b(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function P(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function C(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function M(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let T;function D(e){T=e}function L(){if(!T)throw new Error("Function called outside component initialization");return T}function N(e){L().$$.on_mount.push(e)}function R(e){L().$$.after_update.push(e)}function O(){const e=L();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach(t=>{t.call(e,o)})}}}const A=[],$=[],I=[],B=[],Y=Promise.resolve();let F=!1;function H(){F||(F=!0,Y.then(z))}function U(){return H(),Y}function j(e){I.push(e)}let W=!1;const V=new Set;function z(){if(!W){W=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];D(t),G(t.$$)}for(D(null),A.length=0;$.length;)$.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];V.has(t)||(V.add(t),t())}I.length=0}while(A.length);for(;B.length;)B.pop()();F=!1,W=!1,V.clear()}}function G(e){if(null!==e.fragment){e.update(),u(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const q=new Set;let K;function J(){K={r:0,c:[],p:K}}function X(){K.r||u(K.c),K=K.p}function Z(e,t){e&&e.i&&(q.delete(e),e.i(t))}function Q(e,t,n,r){if(e&&e.o){if(q.has(e))return;q.add(e),K.c.push(()=>{q.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const ee="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function te(e){e&&e.c()}function ne(e,t,n,r){const{fragment:o,on_mount:i,on_destroy:s,after_update:a}=e.$$;o&&o.m(t,n),r||j(()=>{const t=i.map(l).filter(h);s?s.push(...t):u(t),e.$$.on_mount=[]}),a.forEach(j)}function re(e,t){const n=e.$$;null!==n.fragment&&(u(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function oe(e,t,n,r,o,i,s=[-1]){const l=T;D(e);const h=e.$$={fragment:null,ctx:null,props:i,update:a,not_equal:o,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:t.context||[]),callbacks:c(),dirty:s,skip_bound:!1};let d=!1;if(h.ctx=n?n(e,t.props||{},(t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&o(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&function(e,t){-1===e.$$.dirty[0]&&(A.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n}):[],h.update(),d=!0,u(h.before_update),h.fragment=!!r&&r(h.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);h.fragment&&h.fragment.l(e),e.forEach(g)}else h.fragment&&h.fragment.c();t.intro&&Z(e.$$.fragment),ne(e,t.target,t.anchor,t.customElement),z()}D(l)}class ie{$destroy(){re(this,1),this.$destroy=a}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function se(e,t,n){const r=e.slice();return r[4]=t[n],r}function ae(e){let t,n,r,o;function i(){return e[2](e[4])}return{c(){t=y("div"),_(t,"class",n=(e[4].selected?"Large":"Small")+" buttonDiv svelte-1y1zhgk"),P(t,"background-color",e[4].color)},m(e,n){m(e,t,n),r||(o=b(t,"click",i),r=!0)},p(r,o){e=r,1&o&&n!==(n=(e[4].selected?"Large":"Small")+" buttonDiv svelte-1y1zhgk")&&_(t,"class",n),1&o&&P(t,"background-color",e[4].color)},d(e){e&&g(t),r=!1,o()}}}function le(e){let t,n=e[0],r=[];for(let t=0;t<n.length;t+=1)r[t]=ae(se(e,n,t));return{c(){t=y("div");for(let e=0;e<r.length;e+=1)r[e].c();_(t,"id","ButtonBar"),_(t,"class","svelte-1y1zhgk")},m(e,n){m(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,[o]){if(3&o){let i;for(n=e[0],i=0;i<n.length;i+=1){const s=se(e,n,i);r[i]?r[i].p(s,o):(r[i]=ae(s),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:a,o:a,d(e){e&&g(t),v(r,e)}}}function ce(e,t,n){const r=O();let{buttons:o=[]}=t;function i(e,t){r(e,{data:t})}return e.$$set=e=>{"buttons"in e&&n(0,o=e.buttons)},[o,i,e=>{i("selected",e.id)}]}class ue extends ie{constructor(e){super(),oe(this,e,ce,le,d,{buttons:0})}}function he(e){let t,n;return{c(){t=y("img"),t.src!==(n=e[0])&&_(t,"src",n),_(t,"height","35"),_(t,"width","35"),_(t,"alt","Clipboard Icon for Todos"),_(t,"class","svelte-1hmnhm3")},m(e,n){m(e,t,n)},p(e,r){1&r&&t.src!==(n=e[0])&&_(t,"src",n)},d(e){e&&g(t)}}}function de(e){let t,n,r,o=null!==e[0]&&he(e);return{c(){t=y("div"),o&&o.c(),_(t,"id","todoButton"),_(t,"class","svelte-1hmnhm3")},m(i,s){m(i,t,s),o&&o.m(t,null),n||(r=b(t,"click",e[2]),n=!0)},p(e,[n]){null!==e[0]?o?o.p(e,n):(o=he(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},i:a,o:a,d(e){e&&g(t),o&&o.d(),n=!1,r()}}}function pe(e,t,n){let{iconAddress:r=null}=t;const o=O();function i(e,t){o(e,{data:t})}return e.$$set=e=>{"iconAddress"in e&&n(0,r=e.iconAddress)},[r,i,()=>{i("toggleTodo",0)}]}class fe extends ie{constructor(e){super(),oe(this,e,pe,de,d,{iconAddress:0})}}function me(e){let t,n,r,o,i,s,l,c,u,h,d,v,S,x;return{c(){t=y("div"),n=y("span"),o=k(),i=y("span"),l=k(),c=y("span"),h=k(),d=y("span"),_(n,"id","firstHamburger"),_(n,"class",r=p(e[0]?"hidden":"unhidden")+" svelte-bo2zcz"),P(n,"background-color",e[1].textcolor),_(i,"id","secondHamburger"),_(i,"class",s=p(e[0]?"openX1":"close")+" svelte-bo2zcz"),P(i,"background-color",e[1].textcolor),_(c,"id","thirdHamburger"),_(c,"class",u=p(e[0]?"openX2":"close")+" svelte-bo2zcz"),P(c,"background-color",e[1].textcolor),_(d,"id","fourthHamburger"),_(d,"class",v=p(e[0]?"hidden":"unhidden")+" svelte-bo2zcz"),P(d,"background-color",e[1].textcolor),_(t,"id","mainMenuButton"),_(t,"class","svelte-bo2zcz")},m(r,s){m(r,t,s),f(t,n),f(t,o),f(t,i),f(t,l),f(t,c),f(t,h),f(t,d),S||(x=b(t,"click",e[3]),S=!0)},p(e,[t]){1&t&&r!==(r=p(e[0]?"hidden":"unhidden")+" svelte-bo2zcz")&&_(n,"class",r),2&t&&P(n,"background-color",e[1].textcolor),1&t&&s!==(s=p(e[0]?"openX1":"close")+" svelte-bo2zcz")&&_(i,"class",s),2&t&&P(i,"background-color",e[1].textcolor),1&t&&u!==(u=p(e[0]?"openX2":"close")+" svelte-bo2zcz")&&_(c,"class",u),2&t&&P(c,"background-color",e[1].textcolor),1&t&&v!==(v=p(e[0]?"hidden":"unhidden")+" svelte-bo2zcz")&&_(d,"class",v),2&t&&P(d,"background-color",e[1].textcolor)},i:a,o:a,d(e){e&&g(t),S=!1,x()}}}function ge(e,t,n){const r=O();let{openMenu:o=!1}=t,{styles:i={}}=t;function s(e,t){r(e,{data:t})}return e.$$set=e=>{"openMenu"in e&&n(0,o=e.openMenu),"styles"in e&&n(1,i=e.styles)},[o,i,s,e=>{s("toggleMainMenu",0)}]}class ve extends ie{constructor(e){super(),oe(this,e,ge,me,d,{openMenu:0,styles:1})}}function ye(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function Se(e,t,n){const r=e.slice();return r[26]=t[n],r}function ke(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function xe(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function be(e,t,n){const r=e.slice();return r[23]=t[n],r}function _e(e){let t,n,r,o=e[2],i=[];for(let t=0;t<o.length;t+=1)i[t]=Pe(be(e,o,t));let s=e[2],a=[];for(let t=0;t<s.length;t+=1)a[t]=Ye(ye(e,s,t));return{c(){t=y("ul");for(let e=0;e<i.length;e+=1)i[e].c();n=k(),r=y("div");for(let e=0;e<a.length;e+=1)a[e].c();_(t,"id","tabs"),_(t,"class","svelte-ufjmky"),_(r,"id","todoListWrap"),_(r,"class","svelte-ufjmky")},m(e,o){m(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);m(e,n,o),m(e,r,o);for(let e=0;e<a.length;e+=1)a[e].m(r,null)},p(e,n){if(76&n[0]){let r;for(o=e[2],r=0;r<o.length;r+=1){const s=be(e,o,r);i[r]?i[r].p(s,n):(i[r]=Pe(s),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}if(396&n[0]){let t;for(s=e[2],t=0;t<s.length;t+=1){const o=ye(e,s,t);a[t]?a[t].p(o,n):(a[t]=Ye(o),a[t].c(),a[t].m(r,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},d(e){e&&g(t),v(i,e),e&&g(n),e&&g(r),v(a,e)}}}function we(e){let t,n,r,o,i=e[23].name+"";function s(...t){return e[14](e[23],...t)}return{c(){t=y("li"),n=S(i),_(t,"class","tabName notCurrent svelte-ufjmky")},m(e,i){m(e,t,i),f(t,n),r||(o=b(t,"click",s),r=!0)},p(t,r){e=t,4&r[0]&&i!==(i=e[23].name+"")&&w(n,i)},d(e){e&&g(t),r=!1,o()}}}function Ee(e){let t,n,r=e[23].name+"";return{c(){t=y("li"),n=S(r),_(t,"class","tabName current svelte-ufjmky")},m(e,r){m(e,t,r),f(t,n)},p(e,t){4&t[0]&&r!==(r=e[23].name+"")&&w(n,r)},d(e){e&&g(t)}}}function Pe(e){let t;function n(e,t){return e[23].name===e[3]?Ee:we}let r=n(e),o=r(e);return{c(){o.c(),t=x()},m(e,n){o.m(e,n),m(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}function Ce(e){let t,n,r,o=e[23].todos,i=[];for(let t=0;t<o.length;t+=1)i[t]=De(Se(e,o,t));return{c(){t=y("div"),n=y("ul");for(let e=0;e<i.length;e+=1)i[e].c();r=k(),_(n,"class","todoList svelte-ufjmky"),_(t,"class","todoListPanel inactivePanel svelte-ufjmky")},m(e,o){m(e,t,o),f(t,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null);f(t,r)},p(e,t){if(4&t[0]){let r;for(o=e[23].todos,r=0;r<o.length;r+=1){const s=Se(e,o,r);i[r]?i[r].p(s,t):(i[r]=De(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},d(e){e&&g(t),v(i,e)}}}function Me(e){let t,n,r,o,i=e[23].todos,s=[];for(let t=0;t<i.length;t+=1)s[t]=Oe(xe(e,i,t));let a=e[23].todos,l=[];for(let t=0;t<a.length;t+=1)l[t]=Be(ke(e,a,t));return{c(){t=y("div"),n=y("ul");for(let e=0;e<s.length;e+=1)s[e].c();r=k();for(let e=0;e<l.length;e+=1)l[e].c();o=k(),_(n,"class","todoList svelte-ufjmky"),_(t,"class","todoListPanel activePanel svelte-ufjmky")},m(e,i){m(e,t,i),f(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);f(n,r);for(let e=0;e<l.length;e+=1)l[e].m(n,null);f(t,o)},p(e,t){if(388&t[0]){let o;for(i=e[23].todos,o=0;o<i.length;o+=1){const a=xe(e,i,o);s[o]?s[o].p(a,t):(s[o]=Oe(a),s[o].c(),s[o].m(n,r))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}if(388&t[0]){let r;for(a=e[23].todos,r=0;r<a.length;r+=1){const o=ke(e,a,r);l[r]?l[r].p(o,t):(l[r]=Be(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(e){e&&g(t),v(s,e),v(l,e)}}}function Te(e){let t,n,r,o=e[26].description+"";return{c(){t=y("li"),n=S(o),r=k(),_(t,"class","todoListItem svelte-ufjmky")},m(e,o){m(e,t,o),f(t,n),f(t,r)},p(e,t){4&t[0]&&o!==(o=e[26].description+"")&&w(n,o)},d(e){e&&g(t)}}}function De(e){let t,n=!e[23].delete&&Te(e);return{c(){n&&n.c(),t=x()},m(e,r){n&&n.m(e,r),m(e,t,r)},p(e,r){e[23].delete?n&&(n.d(1),n=null):n?n.p(e,r):(n=Te(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&g(t)}}}function Le(e){let t,n,r,o,i,s,a,l,c,h=e[26].description+"";function d(e,t){return e[26].done?Re:Ne}let p=d(e),v=p(e);function x(...t){return e[15](e[25],e[28],...t)}function E(...t){return e[16](e[25],e[28],...t)}return{c(){t=y("li"),n=y("span"),v.c(),r=k(),o=y("span"),i=S(h),s=k(),a=y("span"),a.textContent="❌",_(n,"class","checkboxIcon svelte-ufjmky"),_(o,"class","description svelte-ufjmky"),_(a,"class","deleteIcon svelte-ufjmky"),_(t,"class","todoListItem svelte-ufjmky")},m(e,u){m(e,t,u),f(t,n),v.m(n,null),f(t,r),f(t,o),f(o,i),f(t,s),f(t,a),l||(c=[b(n,"click",x),b(a,"click",E)],l=!0)},p(t,r){p!==(p=d(e=t))&&(v.d(1),v=p(e),v&&(v.c(),v.m(n,null))),4&r[0]&&h!==(h=e[26].description+"")&&w(i,h)},d(e){e&&g(t),v.d(),l=!1,u(c)}}}function Ne(e){let t;return{c(){t=S("🔳")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Re(e){let t;return{c(){t=S("☑️")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Oe(e){let t,n=!e[26].delete&&!e[26].done&&Le(e);return{c(){n&&n.c(),t=x()},m(e,r){n&&n.m(e,r),m(e,t,r)},p(e,r){e[26].delete||e[26].done?n&&(n.d(1),n=null):n?n.p(e,r):(n=Le(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&g(t)}}}function Ae(e){let t,n,r,o,i,s,a,l,c,h,d=e[26].description+"";function p(e,t){return e[26].done?Ie:$e}let v=p(e),x=v(e);function E(...t){return e[17](e[25],e[28],...t)}function P(...t){return e[18](e[25],e[28],...t)}return{c(){t=y("li"),n=y("span"),x.c(),r=k(),o=y("span"),i=S(d),s=k(),a=y("span"),a.textContent="❌",l=k(),_(n,"class","checkboxIcon svelte-ufjmky"),_(o,"class","description svelte-ufjmky"),_(a,"class","deleteIcon svelte-ufjmky"),_(t,"class","todoListItem svelte-ufjmky")},m(e,u){m(e,t,u),f(t,n),x.m(n,null),f(t,r),f(t,o),f(o,i),f(t,s),f(t,a),f(t,l),c||(h=[b(n,"click",E),b(a,"click",P)],c=!0)},p(t,r){v!==(v=p(e=t))&&(x.d(1),x=v(e),x&&(x.c(),x.m(n,null))),4&r[0]&&d!==(d=e[26].description+"")&&w(i,d)},d(e){e&&g(t),x.d(),c=!1,u(h)}}}function $e(e){let t;return{c(){t=S("🔳")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Ie(e){let t;return{c(){t=S("☑️")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Be(e){let t,n=!e[26].delete&&e[26].done&&Ae(e);return{c(){n&&n.c(),t=x()},m(e,r){n&&n.m(e,r),m(e,t,r)},p(e,r){!e[26].delete&&e[26].done?n?n.p(e,r):(n=Ae(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&g(t)}}}function Ye(e){let t;function n(e,t){return e[23].name===e[3]?Me:Ce}let r=n(e),o=r(e);return{c(){o.c(),t=x()},m(e,n){o.m(e,n),m(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}function Fe(e){let t,n,r,o,i,s,l,c=e[2]&&_e(e);return{c(){t=y("div"),n=y("input"),r=k(),o=y("div"),c&&c.c(),_(n,"id","todoInput"),P(n,"background-color",e[1].editorBackground),P(n,"color",e[1].textcolor),_(n,"class","svelte-ufjmky"),_(t,"id","todoPanel"),_(t,"class",i=p(e[0]?"normal":"hidden")+" svelte-ufjmky"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor)},m(i,a){m(i,t,a),f(t,n),E(n,e[4]),f(t,r),f(t,o),c&&c.m(o,null),s||(l=[b(n,"input",e[12]),b(n,"keydown",e[13])],s=!0)},p(e,r){2&r[0]&&P(n,"background-color",e[1].editorBackground),2&r[0]&&P(n,"color",e[1].textcolor),16&r[0]&&n.value!==e[4]&&E(n,e[4]),e[2]?c?c.p(e,r):(c=_e(e),c.c(),c.m(o,null)):c&&(c.d(1),c=null),1&r[0]&&i!==(i=p(e[0]?"normal":"hidden")+" svelte-ufjmky")&&_(t,"class",i),2&r[0]&&P(t,"background-color",e[1].editorBackground),2&r[0]&&P(t,"color",e[1].textcolor)},i:a,o:a,d(e){e&&g(t),c&&c.d(),s=!1,u(l)}}}function He(e,t,n){let{openPanel:r=!1}=t,{preferences:o={}}=t,{styles:i={}}=t,{updateTodos:s=!1}=t,{ScriptPad:a={}}=t;const l=O();let c=[],u="",h="";function d(){n(2,c=c.map(e=>(e.name===u&&(e.todos=[{description:h,done:!1,delete:!1}].concat(e.todos)),e))),n(4,h=""),v()}function p(e){n(3,u=e)}function f(e,t){n(2,c[e].todos[t].delete=!c[e].todos[t].delete,c),c[e].todos[t].done||m(e,t),v()}function m(e,t){n(2,c[e].todos[t].done=!c[e].todos[t].done,c),c[e].todos[t].done?n(2,c[e].todos[t].description+=" @done("+a.moment().format("MM/DD/YYYY")+")",c):n(2,c[e].todos[t].description=c[e].todos[t].description.replace(/@done\([^\)]*\)/,""),c),v()}function g(){l("clearUpdateTodos",{data:{}}),n(2,c=a.getTodos(g)),c!==[]&&""===u&&p(c[0].name),a.setFileWatches()}function v(){a.saveTodos(c)}N(()=>{n(2,c=a.getTodos(g)),n(3,u=c[0].name),setTimeout(()=>{a.setFileWatches()},6e4)});return e.$$set=e=>{"openPanel"in e&&n(0,r=e.openPanel),"preferences"in e&&n(10,o=e.preferences),"styles"in e&&n(1,i=e.styles),"updateTodos"in e&&n(9,s=e.updateTodos),"ScriptPad"in e&&n(11,a=e.ScriptPad)},e.$$.update=()=>{512&e.$$.dirty[0]&&n(9,s=!!s&&g())},[r,i,c,u,h,d,p,f,m,s,o,a,function(){h=this.value,n(4,h)},e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),d())},(e,t)=>{p(e.name)},(e,t,n)=>{m(e,t)},(e,t,n)=>{f(e,t)},(e,t,n)=>{m(e,t)},(e,t,n)=>{f(e,t)}]}class Ue extends ie{constructor(e){super(),oe(this,e,He,Fe,d,{openPanel:0,preferences:10,styles:1,updateTodos:9,ScriptPad:11},[-1,-1])}}function je(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function We(e){let t;return{c(){t=y("p"),t.textContent="No modules have been loaded."},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function Ve(e){let t,n,r,o=e[34].name+"";return{c(){t=y("p"),n=S(o),r=S(" - not running"),_(t,"class","modName svelte-sn7356"),_(t,"data-key",e[36])},m(e,o){m(e,t,o),f(t,n),f(t,r)},p:a,d(e){e&&g(t)}}}function ze(e){let t,n,r,o=e[34].name+"";return{c(){t=y("p"),n=S(o),r=S(" - running"),_(t,"class","modName svelte-sn7356"),_(t,"data-key",e[36])},m(e,o){m(e,t,o),f(t,n),f(t,r)},p:a,d(e){e&&g(t)}}}function Ge(e){let t;let n=function(e,t){return e[34].live?ze:Ve}(e)(e);return{c(){n.c(),t=x()},m(e,r){n.m(e,r),m(e,t,r)},p(e,t){n.p(e,t)},d(e){n.d(e),e&&g(t)}}}function qe(e){let t,n,r,o,i,s,l,c,h,d,x,w,E,C,M,T,D,L,N,R,O,A,$,I,B,Y,F,H,U,j,W,V,z,G,q,K,J,X,Z,Q,ee,te,ne,re,oe,ie,se,ae,le,ce,ue,he,de,pe,fe,me,ge,ve,ye,Se,ke,xe,be=Ke(),_e=[];for(let t=0;t<be.length;t+=1)_e[t]=Ge(je(e,be,t));let we=null;return be.length||(we=We()),{c(){t=y("div"),n=y("h3"),n.textContent="General Items",r=k(),o=y("a"),i=S("About"),s=k(),l=y("a"),c=S("Help"),h=k(),d=y("a"),x=S("Preferences"),w=k(),E=y("hr"),C=k(),M=y("h3"),M.textContent="Program Helpers",T=k(),D=y("a"),L=S("Script Editor"),N=k(),R=y("a"),O=S("External Script Editor"),A=k(),$=y("a"),I=S("Regular Expression Editor"),B=k(),Y=y("a"),F=S("Template Editor"),H=k(),U=y("a"),j=S("Node-Red"),W=k(),V=y("hr"),z=k(),G=y("h3"),G.textContent="Modules",q=k();for(let e=0;e<_e.length;e+=1)_e[e].c();we&&we.c(),K=k(),J=y("hr"),X=k(),Z=y("h3"),Z.textContent="Installers",Q=k(),ee=y("a"),te=S("Install Alfred Workflow"),ne=k(),re=y("a"),oe=S("Install Keyboard Maestro Scripts"),ie=k(),se=y("a"),ae=S("Install DropZone 3 Action"),le=k(),ce=y("a"),ue=S("Install PopClip Extension"),he=k(),de=y("a"),pe=S("Install LaunchBar Actions"),fe=k(),me=y("hr"),ge=k(),ve=y("a"),ye=S("Quit"),_(n,"class","HeaderName svelte-sn7356"),_(o,"href","#top"),_(o,"class","menuItem svelte-sn7356"),P(o,"color",e[0].textcolor),_(l,"href","#top"),_(l,"class","menuItem svelte-sn7356"),P(l,"color",e[0].textcolor),_(d,"href","#top"),_(d,"class","menuItem svelte-sn7356"),P(d,"color",e[0].textcolor),_(E,"class","svelte-sn7356"),_(M,"class","HeaderName svelte-sn7356"),_(D,"href","#top"),_(D,"class","menuItem svelte-sn7356"),P(D,"color",e[0].textcolor),_(R,"href","#top"),_(R,"class","menuItem svelte-sn7356"),P(R,"color",e[0].textcolor),_($,"href","#top"),_($,"class","menuItem svelte-sn7356"),P($,"color",e[0].textcolor),_(Y,"href","#top"),_(Y,"class","menuItem svelte-sn7356"),P(Y,"color",e[0].textcolor),_(U,"href","#top"),_(U,"class","menuItem svelte-sn7356"),P(U,"color",e[0].textcolor),_(V,"class","svelte-sn7356"),_(G,"class","HeaderName svelte-sn7356"),_(J,"class","svelte-sn7356"),_(Z,"class","HeaderName svelte-sn7356"),_(ee,"href","#top"),_(ee,"class","menuItem svelte-sn7356"),P(ee,"color",e[0].textcolor),_(re,"href","#top"),_(re,"class","menuItem svelte-sn7356"),P(re,"color",e[0].textcolor),_(se,"href","#top"),_(se,"class","menuItem svelte-sn7356"),P(se,"color",e[0].textcolor),_(ce,"href","#top"),_(ce,"class","menuItem svelte-sn7356"),P(ce,"color",e[0].textcolor),_(de,"href","#top"),_(de,"class","menuItem svelte-sn7356"),P(de,"color",e[0].textcolor),_(me,"class","svelte-sn7356"),_(ve,"href","#top"),_(ve,"class","menuItem svelte-sn7356"),P(ve,"color",e[0].textcolor),_(t,"id","menuPanel"),_(t,"class",Se=p(e[1]?"normal":"hidden")+" svelte-sn7356"),P(t,"background-color",e[0].appBackground),P(t,"color",e[0].textcolor)},m(a,u){m(a,t,u),f(t,n),f(t,r),f(t,o),f(o,i),f(t,s),f(t,l),f(l,c),f(t,h),f(t,d),f(d,x),f(t,w),f(t,E),f(t,C),f(t,M),f(t,T),f(t,D),f(D,L),f(t,N),f(t,R),f(R,O),f(t,A),f(t,$),f($,I),f(t,B),f(t,Y),f(Y,F),f(t,H),f(t,U),f(U,j),f(t,W),f(t,V),f(t,z),f(t,G),f(t,q);for(let e=0;e<_e.length;e+=1)_e[e].m(t,null);we&&we.m(t,null),f(t,K),f(t,J),f(t,X),f(t,Z),f(t,Q),f(t,ee),f(ee,te),f(t,ne),f(t,re),f(re,oe),f(t,ie),f(t,se),f(se,ae),f(t,le),f(t,ce),f(ce,ue),f(t,he),f(t,de),f(de,pe),f(t,fe),f(t,me),f(t,ge),f(t,ve),f(ve,ye),ke||(xe=[b(o,"click",e[19]),b(l,"click",e[20]),b(d,"click",e[21]),b(D,"click",e[22]),b(R,"click",e[23]),b($,"click",e[24]),b(Y,"click",e[25]),b(U,"click",e[26]),b(ee,"click",e[10]),b(re,"click",e[27]),b(se,"click",e[28]),b(ce,"click",e[29]),b(de,"click",e[30]),b(ve,"click",e[31]),b(t,"blur",e[16])],ke=!0)},p(e,n){if(1&n[0]&&P(o,"color",e[0].textcolor),1&n[0]&&P(l,"color",e[0].textcolor),1&n[0]&&P(d,"color",e[0].textcolor),1&n[0]&&P(D,"color",e[0].textcolor),1&n[0]&&P(R,"color",e[0].textcolor),1&n[0]&&P($,"color",e[0].textcolor),1&n[0]&&P(Y,"color",e[0].textcolor),1&n[0]&&P(U,"color",e[0].textcolor),0&n){let r;for(be=Ke(),r=0;r<be.length;r+=1){const o=je(e,be,r);_e[r]?_e[r].p(o,n):(_e[r]=Ge(o),_e[r].c(),_e[r].m(t,K))}for(;r<_e.length;r+=1)_e[r].d(1);_e.length=be.length,be.length?we&&(we.d(1),we=null):we||(we=We(),we.c(),we.m(t,K))}1&n[0]&&P(ee,"color",e[0].textcolor),1&n[0]&&P(re,"color",e[0].textcolor),1&n[0]&&P(se,"color",e[0].textcolor),1&n[0]&&P(ce,"color",e[0].textcolor),1&n[0]&&P(de,"color",e[0].textcolor),1&n[0]&&P(ve,"color",e[0].textcolor),2&n[0]&&Se!==(Se=p(e[1]?"normal":"hidden")+" svelte-sn7356")&&_(t,"class",Se),1&n[0]&&P(t,"background-color",e[0].appBackground),1&n[0]&&P(t,"color",e[0].textcolor)},i:a,o:a,d(e){e&&g(t),v(_e,e),we&&we.d(),ke=!1,u(xe)}}}function Ke(){return globalThis.moduleWin}function Je(e,t,n){const r=O();let{styles:o={}}=t,{ScriptPad:i={}}=t,{openMenu:s=!1}=t,{preferences:a={}}=t;function l(e,t){r(e,{data:t})}function c(){l("toggleAboutMenu",0)}function u(){i.showHelp(),b()}function h(){l("togglePreferences",0)}function d(){l("toggleScriptEditor",0)}function p(){l("toggleExtScriptEditor",0)}function f(){l("toggleRegExp",0)}function m(){l("toggleTemplateEditor",0)}function g(){l("toggleNodeRed",0)}function v(){i.installKeyboardMaestro(),b()}function y(){i.installDropzone(),b()}function S(){i.installPopClip(),b()}function k(){i.installLaunchBar(),b()}function x(){i.quit()}function b(){s&&l("toggleMainMenu",0)}return e.$$set=e=>{"styles"in e&&n(0,o=e.styles),"ScriptPad"in e&&n(17,i=e.ScriptPad),"openMenu"in e&&n(1,s=e.openMenu),"preferences"in e&&n(18,a=e.preferences)},[o,s,c,u,h,d,p,f,m,g,function(){i.installAlfred(),b()},v,y,S,k,x,b,i,a,()=>{c()},()=>{u()},()=>{h()},()=>{d()},()=>{p()},()=>{f()},()=>{m()},()=>{g()},()=>{v()},()=>{y()},()=>{S()},()=>{k()},()=>{x()}]}class Xe extends ie{constructor(e){super(),oe(this,e,Je,qe,d,{styles:0,ScriptPad:17,openMenu:1,preferences:18},[-1,-1])}}function Ze(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function Qe(e){let t,n,r,o,i,s=e[23].name+"";function a(...t){return e[17](e[23],e[25],...t)}return{c(){t=y("li"),n=S(s),_(t,"class",r=p(e[3]==e[25]?"cursor":"")+" svelte-18s0kvx"),P(t,"color",e[23].system?e[1].scriptMenuItemSystem:e[1].scriptMenuItemUser)},m(e,r){m(e,t,r),f(t,n),o||(i=b(t,"click",a),o=!0)},p(o,i){e=o,16&i&&s!==(s=e[23].name+"")&&w(n,s),8&i&&r!==(r=p(e[3]==e[25]?"cursor":"")+" svelte-18s0kvx")&&_(t,"class",r),18&i&&P(t,"color",e[23].system?e[1].scriptMenuItemSystem:e[1].scriptMenuItemUser)},d(e){e&&g(t),o=!1,i()}}}function et(e){let t,n,r,o,i,s,l,c,h=e[4],d=[];for(let t=0;t<h.length;t+=1)d[t]=Qe(Ze(e,h,t));return{c(){t=y("div"),n=y("input"),r=k(),o=y("div"),i=y("ul");for(let e=0;e<d.length;e+=1)d[e].c();_(n,"id","menuInput"),_(n,"type","text"),_(n,"class","svelte-18s0kvx"),_(i,"id","MenuList"),_(i,"class","svelte-18s0kvx"),_(o,"class","svelte-18s0kvx"),_(t,"id","PopUpMenu"),P(t,"background-color",e[1].scriptMenuBackground),P(t,"color",e[1].scriptMenuTextColor),_(t,"class",s=p(e[0]?"visible":"invisible")+" svelte-18s0kvx")},m(s,a){m(s,t,a),f(t,n),e[14](n),E(n,e[2]),f(t,r),f(t,o),f(o,i);for(let e=0;e<d.length;e+=1)d[e].m(i,null);e[18](i),l||(c=[b(n,"input",e[15]),b(n,"change",e[16]),b(t,"transitionend",e[19]),b(t,"keyup",e[20])],l=!0)},p(e,[r]){if(4&r&&n.value!==e[2]&&E(n,e[2]),154&r){let t;for(h=e[4],t=0;t<h.length;t+=1){const n=Ze(e,h,t);d[t]?d[t].p(n,r):(d[t]=Qe(n),d[t].c(),d[t].m(i,null))}for(;t<d.length;t+=1)d[t].d(1);d.length=h.length}2&r&&P(t,"background-color",e[1].scriptMenuBackground),2&r&&P(t,"color",e[1].scriptMenuTextColor),1&r&&s!==(s=p(e[0]?"visible":"invisible")+" svelte-18s0kvx")&&_(t,"class",s)},i:a,o:a,d(n){n&&g(t),e[14](null),v(d,n),e[18](null),l=!1,u(c)}}}function tt(e,t,n){const r=O();let o,i,{styles:s={}}=t,{openPopUp:a=!1}=t,{usrscripts:l=[]}=t,{syscripts:c=[]}=t,u="",h=0,d=0,p=[];function f(e,t){r(e,{data:t})}function m(e,t){f("scriptSelected",e),n(0,a=!1),n(3,h=t)}function g(e){if("ArrowDown"==e.key||"ArrowUp"==e.key||"Enter"==e.key)switch(e.stopPropagation(),e.preventDefault(),e.key){case"ArrowDown":n(3,h++,h),h>d-1&&n(3,h=d-1);break;case"ArrowUp":n(3,h--,h),h<0&&n(3,h=0);break;case"Enter":m(p[h],h)}}function v(){a?(i.focus(),h>d-1?n(3,h=d-1):h<0&&n(3,h=0)):f("focusEditor",0)}function y(e){h>d-1?n(3,h=d-1):h<0&&n(3,h=0)}R(()=>{if(h>d-1?n(3,h=d-1):h<0&&n(3,h=0),a){var e=o.getElementsByClassName("cursor")[0];e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}});return e.$$set=e=>{"styles"in e&&n(1,s=e.styles),"openPopUp"in e&&n(0,a=e.openPopUp),"usrscripts"in e&&n(11,l=e.usrscripts),"syscripts"in e&&n(12,c=e.syscripts)},e.$$.update=()=>{6148&e.$$.dirty&&n(4,p=l.concat(c).filter(e=>{var t=u.toLowerCase().split("").join(".*");return null!=e.name.toLowerCase().match(t)})),16&e.$$.dirty&&n(13,d=p.length),8200&e.$$.dirty&&n(3,h=d<h?d-1:h)},[a,s,u,h,p,o,i,m,g,v,y,l,c,d,function(e){$[e?"unshift":"push"](()=>{i=e,n(6,i)})},function(){u=this.value,n(2,u)},e=>{y()},(e,t,n)=>{m(e,t)},function(e){$[e?"unshift":"push"](()=>{o=e,n(5,o)})},e=>{v()},e=>{g(e)}]}class nt extends ie{constructor(e){super(),oe(this,e,tt,et,d,{styles:1,openPopUp:0,usrscripts:11,syscripts:12})}}function rt(e,t,n){const r=e.slice();return r[46]=t[n],r}function ot(e){let t,n=ct(e[6],e[9]),r=[];for(let t=0;t<n.length;t+=1)r[t]=st(rt(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=x()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);m(e,t,n)},p(e,o){if(5728&o[0]){let i;for(n=ct(e[6],e[9]),i=0;i<n.length;i+=1){const s=rt(e,n,i);r[i]?r[i].p(s,o):(r[i]=st(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){v(r,e),e&&g(t)}}}function it(e){let t,n,r,o,i=lt(e[46],e[6],e[5])+"";function s(...t){return e[32](e[46],...t)}return{c(){t=y("div"),n=y("span"),_(t,"class","replaceLine svelte-130t3oe")},m(e,a){m(e,t,a),f(t,n),n.innerHTML=i,r||(o=b(t,"click",s),r=!0)},p(t,r){e=t,608&r[0]&&i!==(i=lt(e[46],e[6],e[5])+"")&&(n.innerHTML=i)},d(e){e&&g(t),r=!1,o()}}}function st(e){let t,n,r,o,i=e[12](e[46])+"",s=""!=e[5]&&it(e);return{c(){t=y("li"),n=y("div"),r=k(),s&&s.c(),o=k(),_(n,"class","matchLine svelte-130t3oe")},m(e,a){m(e,t,a),f(t,n),n.innerHTML=i,f(t,r),s&&s.m(t,null),f(t,o)},p(e,r){576&r[0]&&i!==(i=e[12](e[46])+"")&&(n.innerHTML=i),""!=e[5]?s?s.p(e,r):(s=it(e),s.c(),s.m(t,o)):s&&(s.d(1),s=null)},d(e){e&&g(t),s&&s.d()}}}function at(e){let t,n,r,o,i,s,a,l,c,h,d,v,x,w,C,M,T,D,L,N,R,O,A,$,I,B,Y,F,H,U,j,W,V,z,G,q,K=""!==e[6]&&""!==e[9]&&ot(e);return W=new nt({props:{styles:e[2],openPopUp:e[3],syscripts:[],usrscripts:e[1]}}),W.$on("scriptSelected",e[39]),W.$on("focusEditor",e[40]),{c(){t=y("div"),n=y("input"),r=k(),o=y("input"),i=k(),s=y("input"),a=k(),l=y("input"),c=k(),h=y("div"),d=y("ul"),K&&K.c(),v=k(),x=y("div"),w=y("button"),C=S("New"),M=k(),T=y("button"),D=S("Save"),L=k(),N=y("button"),R=S("Delete"),O=k(),A=y("button"),$=S("Change"),I=k(),B=y("button"),Y=S("Extract"),F=k(),H=y("button"),U=S("Cancel"),j=k(),te(W.$$.fragment),_(n,"class","regExpEditorInput svelte-130t3oe"),P(n,"caret-color",e[2].textcolor),P(n,"background-color",e[2].appBackground),P(n,"color",e[2].textcolor),_(n,"placeholder","Enter the RegExp Name."),_(o,"class","regExpEditorInput svelte-130t3oe"),P(o,"caret-color",e[2].textcolor),P(o,"background-color",e[2].appBackground),P(o,"color",e[2].textcolor),_(o,"placeholder","Enter the Description of the RegExp."),_(s,"class","regExpEditorInput svelte-130t3oe"),P(s,"caret-color",e[2].textcolor),P(s,"background-color",e[2].appBackground),P(s,"color",e[2].textcolor),_(s,"placeholder","Enter the Regular Expression"),_(l,"class","regExpEditorInput svelte-130t3oe"),P(l,"caret-color",e[2].textcolor),P(l,"background-color",e[2].appBackground),P(l,"color",e[2].textcolor),_(l,"placeholder","Enter the Replacement Expression."),_(d,"id","regExpList"),_(d,"class","svelte-130t3oe"),_(h,"id","regExpResults"),_(h,"class","svelte-130t3oe"),_(w,"class","button svelte-130t3oe"),P(w,"background-color",e[2].editorBackground),P(w,"border-color",e[2].appBackground),P(w,"color",e[2].textcolor),_(T,"class","button svelte-130t3oe"),P(T,"background-color",e[2].editorBackground),P(T,"border-color",e[2].appBackground),P(T,"color",e[2].textcolor),_(N,"class","button svelte-130t3oe"),P(N,"background-color",e[2].editorBackground),P(N,"border-color",e[2].appBackground),P(N,"color",e[2].textcolor),_(A,"class","button svelte-130t3oe"),P(A,"background-color",e[2].editorBackground),P(A,"border-color",e[2].appBackground),P(A,"color",e[2].textcolor),_(B,"class","button svelte-130t3oe"),P(B,"background-color",e[2].editorBackground),P(B,"border-color",e[2].appBackground),P(B,"color",e[2].textcolor),_(H,"class","button svelte-130t3oe"),P(H,"background-color",e[2].editorBackground),P(H,"border-color",e[2].appBackground),P(H,"color",e[2].textcolor),_(x,"id","buttonBar"),_(x,"class","svelte-130t3oe"),_(t,"id","regExpEditorPanelStyle"),_(t,"class",V=p(e[0]?"visible":"invisible")+" svelte-130t3oe"),P(t,"background-color",e[2].appBackground),P(t,"color",e[2].textcolor)},m(u,p){m(u,t,p),f(t,n),E(n,e[8]),f(t,r),f(t,o),E(o,e[7]),f(t,i),f(t,s),e[29](s),E(s,e[6]),f(t,a),f(t,l),E(l,e[5]),f(t,c),f(t,h),f(h,d),K&&K.m(d,null),f(t,v),f(t,x),f(x,w),f(w,C),f(x,M),f(x,T),f(T,D),f(x,L),f(x,N),f(N,R),f(x,O),f(x,A),f(A,$),f(x,I),f(x,B),f(B,Y),f(x,F),f(x,H),f(H,U),f(t,j),ne(W,t,null),z=!0,G||(q=[b(n,"input",e[27]),b(o,"input",e[28]),b(s,"input",e[30]),b(l,"input",e[31]),b(w,"click",e[33]),b(T,"click",e[34]),b(N,"click",e[35]),b(A,"click",e[36]),b(B,"click",e[37]),b(H,"click",e[38]),b(t,"transitionend",e[41]),b(t,"keyup",e[42])],G=!0)},p(e,r){(!z||4&r[0])&&P(n,"caret-color",e[2].textcolor),(!z||4&r[0])&&P(n,"background-color",e[2].appBackground),(!z||4&r[0])&&P(n,"color",e[2].textcolor),256&r[0]&&n.value!==e[8]&&E(n,e[8]),(!z||4&r[0])&&P(o,"caret-color",e[2].textcolor),(!z||4&r[0])&&P(o,"background-color",e[2].appBackground),(!z||4&r[0])&&P(o,"color",e[2].textcolor),128&r[0]&&o.value!==e[7]&&E(o,e[7]),(!z||4&r[0])&&P(s,"caret-color",e[2].textcolor),(!z||4&r[0])&&P(s,"background-color",e[2].appBackground),(!z||4&r[0])&&P(s,"color",e[2].textcolor),64&r[0]&&s.value!==e[6]&&E(s,e[6]),(!z||4&r[0])&&P(l,"caret-color",e[2].textcolor),(!z||4&r[0])&&P(l,"background-color",e[2].appBackground),(!z||4&r[0])&&P(l,"color",e[2].textcolor),32&r[0]&&l.value!==e[5]&&E(l,e[5]),""!==e[6]&&""!==e[9]?K?K.p(e,r):(K=ot(e),K.c(),K.m(d,null)):K&&(K.d(1),K=null),(!z||4&r[0])&&P(w,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(w,"border-color",e[2].appBackground),(!z||4&r[0])&&P(w,"color",e[2].textcolor),(!z||4&r[0])&&P(T,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(T,"border-color",e[2].appBackground),(!z||4&r[0])&&P(T,"color",e[2].textcolor),(!z||4&r[0])&&P(N,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(N,"border-color",e[2].appBackground),(!z||4&r[0])&&P(N,"color",e[2].textcolor),(!z||4&r[0])&&P(A,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(A,"border-color",e[2].appBackground),(!z||4&r[0])&&P(A,"color",e[2].textcolor),(!z||4&r[0])&&P(B,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(B,"border-color",e[2].appBackground),(!z||4&r[0])&&P(B,"color",e[2].textcolor),(!z||4&r[0])&&P(H,"background-color",e[2].editorBackground),(!z||4&r[0])&&P(H,"border-color",e[2].appBackground),(!z||4&r[0])&&P(H,"color",e[2].textcolor);const i={};4&r[0]&&(i.styles=e[2]),8&r[0]&&(i.openPopUp=e[3]),2&r[0]&&(i.usrscripts=e[1]),W.$set(i),(!z||1&r[0]&&V!==(V=p(e[0]?"visible":"invisible")+" svelte-130t3oe"))&&_(t,"class",V),(!z||4&r[0])&&P(t,"background-color",e[2].appBackground),(!z||4&r[0])&&P(t,"color",e[2].textcolor)},i(e){z||(Z(W.$$.fragment,e),z=!0)},o(e){Q(W.$$.fragment,e),z=!1},d(n){n&&g(t),e[29](null),K&&K.d(),re(W),G=!1,u(q)}}}function lt(e,t,n){var r="";try{r=e[0].replace(new RegExp(t),n).replace(/\s/g,"&nbsp;")}catch(e){r=""}return r}function ct(e,t){var n=[];if(""!==t&&""!==e){var r=null;try{for(var o=new RegExp(e,"igm"),i=!1,s=-1;null!==(r=o.exec(t))&&!i;)r.index===s&&(i=!0),s=r.index,n.push(r);i&&(n=[])}catch(e){n=[]}}return n}function ut(e,t,n){const r=O();let o,i,{preferences:s={}}=t,{ScriptPad:a={}}=t,{openRegExp:l=!1}=t,{focusFN:c}=t,{RegExpList:u=[]}=t,{styles:h={}}=t,{StoredText:d={}}=t,{currentid:p=0}=t,f=!1,m="",g="",v="",y="";function S(e,t){r(e,{data:t})}function k(e,t,n,r){var o=e.slice(0,t.index),i=e.slice(t.index+t[0].length);S("saveText",o+t[0].replace(new RegExp(n),r).replace(/\\n/g,"\n").replace(/\\t/g,"\t")+i)}function x(){n(3,f=!f)}function b(){n(5,m=""),n(6,g=""),n(7,v=""),n(8,y="")}function _(){b(),S("toggleRegExp",0)}function w(){S("saveScript",{name:y,description:v,script:g,insert:!1}),S("toggleRegExp",0)}function E(){S("deleteScript",{name:y,description:v,script:g,insert:!1}),S("toggleRegExp",0)}function P(){S("saveText",i.replace(new RegExp(g,"igm"),m).replace(/\\n/g,"\n").replace(/\\t/g,"\t")),S("toggleRegExp",0)}function C(){S("saveText",function(){if(""!==i&&""!==g){var e=[],t=null;try{for(var n=new RegExp(g,"igm");null!==(t=n.exec(i));)e.push(t[0])}catch(t){e=[]}}else e=[];return e.join("\n")}()),S("toggleRegExp",0)}function M(e){l?f||o.focus():c()}function T(e){n(5,m=""),n(6,g=e.script),n(7,v=e.description),n(8,y=e.name)}function D(){o.focus()}return e.$$set=e=>{"preferences"in e&&n(22,s=e.preferences),"ScriptPad"in e&&n(23,a=e.ScriptPad),"openRegExp"in e&&n(0,l=e.openRegExp),"focusFN"in e&&n(24,c=e.focusFN),"RegExpList"in e&&n(1,u=e.RegExpList),"styles"in e&&n(2,h=e.styles),"StoredText"in e&&n(25,d=e.StoredText),"currentid"in e&&n(26,p=e.currentid)},e.$$.update=()=>{100663296&e.$$.dirty[0]&&n(9,i=d[p])},[l,u,h,f,o,m,g,v,y,i,k,x,function(e){var t="";if(e.length<2)t+=e[0].replace(/\s/g,"&nbsp;");else{for(var n=0,r=1;r<e.length;r++){var o=e[0].indexOf(e[r]);if(n<o){var i=e[0].slice(n,o);t+='<span class="spanStyle" style="color: '+h.textcolor+';">'+i.replace(/\s/g,"&nbsp;")+"</span>",n+=i.length}n+=e[r].length,t+='<span class="spanStyle" style="color: '+h.matchStyle[r]+';">'+e[r].replace(/\s/g,"&nbsp;")+"</span>"}n<e[0].length&&(t+='<span class="spanStyle" style="color: '+h.textcolor+';">'+e[0].slice(n).replace(/\s/g,"&nbsp;")+"</span>")}return t},b,_,w,E,P,C,M,T,D,s,a,c,d,p,function(){y=this.value,n(8,y)},function(){v=this.value,n(7,v)},function(e){$[e?"unshift":"push"](()=>{o=e,n(4,o)})},function(){g=this.value,n(6,g)},function(){m=this.value,n(5,m)},(e,t)=>{k(i,e,g,m)},()=>{b()},()=>{w()},()=>{E()},()=>{P()},()=>{C()},()=>{_()},e=>{T(e.detail.data)},e=>{D()},e=>{M()},e=>{e.ctrlKey&&77==e.keyCode&&(e.preventDefault(),e.stopPropagation(),x())}]}class ht extends ie{constructor(e){super(),oe(this,e,ut,at,d,{preferences:22,ScriptPad:23,openRegExp:0,focusFN:24,RegExpList:1,styles:2,StoredText:25,currentid:26},[-1,-1])}}function dt(e){let t,n;return{c(){t=y("div"),n=y("textarea"),_(n,"name","editor"),_(n,"id","CMeditor"),_(t,"class","wrapper svelte-1d1c0m"),P(t,"height",e[0]),P(t,"width",e[1])},m(r,o){m(r,t,o),f(t,n),e[8](n)},p(e,[n]){1&n&&P(t,"height",e[0]),2&n&&P(t,"width",e[1])},i:a,o:a,d(n){n&&g(t),e[8](null)}}}function pt(e,t,n){const r=O();let o,i=null,s="",{value:a=""}=t,{config:l}=t,{cursor:c={line:0,ch:0}}=t,{history:u=null}=t,{height:h}=t,{width:d}=t;function p(e,t){r(e,{data:t})}function f(e){if(null!=i&&(s=i.getDoc().getValue(),e!==s)){s=e;var t=i.getDoc();e?t.setValue(e):t.setValue(""),c?t.setCursor(c,{scroll:!0,origin:"+input",bias:1}):t.setCursor({line:0,char:0}),null!==u?t.setHistory(u):t.clearHistory(),i.focus()}}var m;return m=()=>{},L().$$.before_update.push(m),R(()=>{f(a)}),N(()=>(n(7,i=window.CodeMirror.fromTextArea(o,{lineNumbers:l.lineNumbers,mode:l.Mode,theme:l.theme,lineWrapping:l.lineWrapping,focus:!0,value:"",keyMap:l.keyMap,cursorScrollMargin:50,matchBrackets:l.matchBrackets,autoCloseBrackets:l.autoCloseBrackets,styleActiveLine:l.styleActiveLine})),i.on("change",e=>{var t=i.getDoc(),n=t.getCursor(),r=t.getValue(),o=t.getHistory();0===n.line&&0===n.ch&&s[0]===r[0]||p("textChange",{value:r,cursor:n,history:o})}),p("editorChange",i),i.on("cursorActivity",e=>{var t=i.getDoc(),n=t.getCursor(),r=t.getValue(),o=t.getHistory();0===n.line&&0===n.ch&&s[0]===r[0]||p("textChange",{value:r,cursor:n,history:o})}),i.on("focus",e=>{i.getDoc().setCursor(c,{scroll:!1,origin:"+input",bias:1})}),f(a),()=>{})),function(e){L().$$.on_destroy.push(e)}(()=>{}),e.$$set=e=>{"value"in e&&n(3,a=e.value),"config"in e&&n(4,l=e.config),"cursor"in e&&n(5,c=e.cursor),"history"in e&&n(6,u=e.history),"height"in e&&n(0,h=e.height),"width"in e&&n(1,d=e.width)},e.$$.update=()=>{147&e.$$.dirty&&function(e,t,n,r){null!==t&&(Object.entries(e).forEach(e=>{t.setOption(e[0],e[1])}),t.setSize(r,n))}(l,i,h,d)},[h,d,o,a,l,c,u,i,function(e){$[e?"unshift":"push"](()=>{o=e,n(2,o)})}]}class ft extends ie{constructor(e){super(),oe(this,e,pt,dt,d,{value:3,config:4,cursor:5,history:6,height:0,width:1})}}function mt(e){let t,n,r,o,i,s,a,l,c,h,d,v,x,w,C,M,T,D,L,N,R,O,A,$,I,B,Y,F,H,U,j;return v=new ft({props:{height:"305px",width:"455px",config:e[11],value:e[8],cursor:e[7],history:e[10]}}),v.$on("textChange",e[28]),v.$on("editorChange",e[29]),Y=new nt({props:{styles:e[1],openPopUp:e[3],syscripts:[],usrscripts:e[2]}}),Y.$on("scriptSelected",e[34]),Y.$on("focusEditor",e[35]),{c(){t=y("div"),n=y("div"),r=y("input"),o=k(),i=y("label"),i.textContent="Insert",s=k(),a=y("input"),l=k(),c=y("input"),h=k(),d=y("div"),te(v.$$.fragment),x=k(),w=y("div"),C=y("button"),M=S("New"),T=k(),D=y("button"),L=S("Save"),N=k(),R=y("button"),O=S("Delete"),A=k(),$=y("button"),I=S("Cancel"),B=k(),te(Y.$$.fragment),_(r,"class","ScriptEditorInput svelte-1n7oi9m"),P(r,"caret-color",e[1].textcolor),P(r,"background-color",e[1].appBackground),P(r,"color",e[1].textcolor),_(r,"placeholder","Enter the Script Name."),_(i,"class","svelte-1n7oi9m"),_(a,"type","checkbox"),_(a,"name","Insert"),_(a,"class","svelte-1n7oi9m"),_(n,"id","nameInsertBox"),_(n,"class","svelte-1n7oi9m"),_(c,"class","ScriptEditorInput svelte-1n7oi9m"),P(c,"caret-color",e[1].textcolor),P(c,"background-color",e[1].appBackground),P(c,"color",e[1].textcolor),_(c,"placeholder","Enter a Description for the Script."),_(d,"id","codeMirorWrap"),_(d,"class","svelte-1n7oi9m"),_(C,"class","button svelte-1n7oi9m"),P(C,"background-color",e[1].editorBackground),P(C,"border-color",e[1].appBackground),P(C,"color",e[1].textcolor),_(D,"class","button svelte-1n7oi9m"),P(D,"background-color",e[1].editorBackground),P(D,"border-color",e[1].appBackground),P(D,"color",e[1].textcolor),_(R,"class","button svelte-1n7oi9m"),P(R,"background-color",e[1].editorBackground),P(R,"border-color",e[1].appBackground),P(R,"color",e[1].textcolor),_($,"class","button svelte-1n7oi9m"),P($,"background-color",e[1].editorBackground),P($,"border-color",e[1].appBackground),P($,"color",e[1].textcolor),_(w,"id","buttonBar"),_(w,"class","svelte-1n7oi9m"),_(t,"id","ScriptEditorPanelStyle"),_(t,"class",F=p(e[0]?"visible":"invisible")+" svelte-1n7oi9m"),P(t,"background-color",e[1].appBackground),P(t,"color",e[1].textcolor)},m(u,p){m(u,t,p),f(t,n),f(n,r),e[24](r),E(r,e[4]),f(n,o),f(n,i),f(n,s),f(n,a),a.checked=e[6],f(t,l),f(t,c),E(c,e[5]),f(t,h),f(t,d),ne(v,d,null),f(t,x),f(t,w),f(w,C),f(C,M),f(w,T),f(w,D),f(D,L),f(w,N),f(w,R),f(R,O),f(w,A),f(w,$),f($,I),f(t,B),ne(Y,t,null),H=!0,U||(j=[b(r,"input",e[25]),b(a,"change",e[26]),b(c,"input",e[27]),b(C,"click",e[30]),b(D,"click",e[31]),b(R,"click",e[32]),b($,"click",e[33]),b(t,"keyup",e[36]),b(t,"transitionend",e[37])],U=!0)},p(e,n){(!H||2&n[0])&&P(r,"caret-color",e[1].textcolor),(!H||2&n[0])&&P(r,"background-color",e[1].appBackground),(!H||2&n[0])&&P(r,"color",e[1].textcolor),16&n[0]&&r.value!==e[4]&&E(r,e[4]),64&n[0]&&(a.checked=e[6]),(!H||2&n[0])&&P(c,"caret-color",e[1].textcolor),(!H||2&n[0])&&P(c,"background-color",e[1].appBackground),(!H||2&n[0])&&P(c,"color",e[1].textcolor),32&n[0]&&c.value!==e[5]&&E(c,e[5]);const o={};2048&n[0]&&(o.config=e[11]),256&n[0]&&(o.value=e[8]),128&n[0]&&(o.cursor=e[7]),1024&n[0]&&(o.history=e[10]),v.$set(o),(!H||2&n[0])&&P(C,"background-color",e[1].editorBackground),(!H||2&n[0])&&P(C,"border-color",e[1].appBackground),(!H||2&n[0])&&P(C,"color",e[1].textcolor),(!H||2&n[0])&&P(D,"background-color",e[1].editorBackground),(!H||2&n[0])&&P(D,"border-color",e[1].appBackground),(!H||2&n[0])&&P(D,"color",e[1].textcolor),(!H||2&n[0])&&P(R,"background-color",e[1].editorBackground),(!H||2&n[0])&&P(R,"border-color",e[1].appBackground),(!H||2&n[0])&&P(R,"color",e[1].textcolor),(!H||2&n[0])&&P($,"background-color",e[1].editorBackground),(!H||2&n[0])&&P($,"border-color",e[1].appBackground),(!H||2&n[0])&&P($,"color",e[1].textcolor);const i={};2&n[0]&&(i.styles=e[1]),8&n[0]&&(i.openPopUp=e[3]),4&n[0]&&(i.usrscripts=e[2]),Y.$set(i),(!H||1&n[0]&&F!==(F=p(e[0]?"visible":"invisible")+" svelte-1n7oi9m"))&&_(t,"class",F),(!H||2&n[0])&&P(t,"background-color",e[1].appBackground),(!H||2&n[0])&&P(t,"color",e[1].textcolor)},i(e){H||(Z(v.$$.fragment,e),Z(Y.$$.fragment,e),H=!0)},o(e){Q(v.$$.fragment,e),Q(Y.$$.fragment,e),H=!1},d(n){n&&g(t),e[24](null),re(v),re(Y),U=!1,u(j)}}}function gt(e,t,n){let r;const o=O();let i,s,{openScriptEditor:a=!1}=t,{styles:l={}}=t,{UserScripts:c=[]}=t,{focusFN:u}=t,{preferences:h}=t,d=!1,p="",f="",m=!1,g={line:0,ch:0},v="",y=null;function S(e){a?d||s.focus():u()}function k(e){i=e}function x(){s.focus()}function b(){n(3,d=!d)}function _(e,t){o(e,{data:t})}function w(e){n(7,g=e.cursor),n(8,v=e.value),n(10,y=e.history)}function E(){n(4,p=""),n(5,f=""),n(6,m=!1),n(8,v=""),i.getDoc().setValue("")}function P(){_("saveScript",{name:p,description:f,insert:m,script:v}),_("toggleScriptEditor",0)}function C(){_("deleteScript",{name:p,description:f,insert:m,script:v}),E(),_("toggleScriptEditor",0)}function M(){E(),_("toggleScriptEditor",0)}function T(e){n(4,p=e.name),n(5,f=e.description),n(6,m=e.insert),n(8,v=e.script),i.getDoc().setValue(e.script),n(3,d=!1)}return e.$$set=e=>{"openScriptEditor"in e&&n(0,a=e.openScriptEditor),"styles"in e&&n(1,l=e.styles),"UserScripts"in e&&n(2,c=e.UserScripts),"focusFN"in e&&n(22,u=e.focusFN),"preferences"in e&&n(23,h=e.preferences)},e.$$.update=()=>{8388610&e.$$.dirty[0]&&n(11,r={Mode:h.codeMode,lineNumbers:h.codeLineNumbers,value:"",theme:l.editorTheme?l.editorTheme:"oceanic-next",keyMap:h.scriptKeyMap,lineWrapping:!1,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:h.styleActiveLine})},[a,l,c,d,p,f,m,g,v,s,y,r,S,k,x,b,w,E,P,C,M,T,u,h,function(e){$[e?"unshift":"push"](()=>{s=e,n(9,s)})},function(){p=this.value,n(4,p)},function(){m=this.checked,n(6,m)},function(){f=this.value,n(5,f)},e=>{w(e.detail.data)},e=>{k(e.detail.data)},()=>{E()},()=>{P()},()=>{C()},()=>{M()},e=>{T(e.detail.data)},e=>{x()},e=>{e.ctrlKey&&77==e.keyCode&&(e.preventDefault(),e.stopPropagation(),b())},e=>{S()}]}class vt extends ie{constructor(e){super(),oe(this,e,gt,mt,d,{openScriptEditor:0,styles:1,UserScripts:2,focusFN:22,preferences:23},[-1,-1])}}const yt=window.bodyparser;function St(e){let t,n,r,o,i,s,a,l,c,h,d,v,x,w,C,M,T,D,L,N,R,O,A,$,I,B;return a=new ft({props:{height:"305px",width:"455px",config:e[10],value:e[7],cursor:e[6],history:e[9]}}),a.$on("textChange",e[26]),a.$on("editorChange",e[27]),O=new nt({props:{styles:e[1],openPopUp:e[3],sysscripts:[],usrscripts:null===e[2].TEMPLATES?[]:e[2].TEMPLATES}}),O.$on("scriptSelected",e[32]),O.$on("focusEditor",e[33]),{c(){t=y("div"),n=y("input"),r=k(),o=y("input"),i=k(),s=y("div"),te(a.$$.fragment),l=k(),c=y("div"),h=y("button"),d=S("New"),v=k(),x=y("button"),w=S("Save"),C=k(),M=y("button"),T=S("Delete"),D=k(),L=y("button"),N=S("Cancel"),R=k(),te(O.$$.fragment),_(n,"class","TemplateEditorInput svelte-1vcczti"),P(n,"caret-color",e[1].textcolor),P(n,"background-color",e[1].appBackground),P(n,"color",e[1].textcolor),_(n,"placeholder","Enter the Template Name."),_(o,"class","TemplateEditorInput svelte-1vcczti"),P(o,"caret-color",e[1].textcolor),P(o,"background-color",e[1].appBackground),P(o,"color",e[1].textcolor),_(o,"placeholder","Enter a Description for the Template."),_(s,"id","codeMirorWrap"),_(s,"class","svelte-1vcczti"),_(h,"class","button svelte-1vcczti"),P(h,"background-color",e[1].editorBackground),P(h,"border-color",e[1].appBackground),P(h,"color",e[1].textcolor),_(x,"class","button svelte-1vcczti"),P(x,"background-color",e[1].editorBackground),P(x,"border-color",e[1].appBackground),P(x,"color",e[1].textcolor),_(M,"class","button svelte-1vcczti"),P(M,"background-color",e[1].editorBackground),P(M,"border-color",e[1].appBackground),P(M,"color",e[1].textcolor),_(L,"class","button svelte-1vcczti"),P(L,"background-color",e[1].editorBackground),P(L,"border-color",e[1].appBackground),P(L,"color",e[1].textcolor),_(c,"id","buttonBar"),_(c,"class","svelte-1vcczti"),_(t,"id","TemplateEditorPanelStyle"),_(t,"class",A=p(e[0]?"visible":"invisible")+" svelte-1vcczti"),P(t,"background-color",e[1].appBackground),P(t,"color",e[1].textcolor)},m(u,p){m(u,t,p),f(t,n),e[23](n),E(n,e[4]),f(t,r),f(t,o),E(o,e[5]),f(t,i),f(t,s),ne(a,s,null),f(t,l),f(t,c),f(c,h),f(h,d),f(c,v),f(c,x),f(x,w),f(c,C),f(c,M),f(M,T),f(c,D),f(c,L),f(L,N),f(t,R),ne(O,t,null),$=!0,I||(B=[b(n,"input",e[24]),b(o,"input",e[25]),b(h,"click",e[28]),b(x,"click",e[29]),b(M,"click",e[30]),b(L,"click",e[31]),b(t,"keyup",e[34]),b(t,"transitionend",e[35])],I=!0)},p(e,r){(!$||2&r[0])&&P(n,"caret-color",e[1].textcolor),(!$||2&r[0])&&P(n,"background-color",e[1].appBackground),(!$||2&r[0])&&P(n,"color",e[1].textcolor),16&r[0]&&n.value!==e[4]&&E(n,e[4]),(!$||2&r[0])&&P(o,"caret-color",e[1].textcolor),(!$||2&r[0])&&P(o,"background-color",e[1].appBackground),(!$||2&r[0])&&P(o,"color",e[1].textcolor),32&r[0]&&o.value!==e[5]&&E(o,e[5]);const i={};1024&r[0]&&(i.config=e[10]),128&r[0]&&(i.value=e[7]),64&r[0]&&(i.cursor=e[6]),512&r[0]&&(i.history=e[9]),a.$set(i),(!$||2&r[0])&&P(h,"background-color",e[1].editorBackground),(!$||2&r[0])&&P(h,"border-color",e[1].appBackground),(!$||2&r[0])&&P(h,"color",e[1].textcolor),(!$||2&r[0])&&P(x,"background-color",e[1].editorBackground),(!$||2&r[0])&&P(x,"border-color",e[1].appBackground),(!$||2&r[0])&&P(x,"color",e[1].textcolor),(!$||2&r[0])&&P(M,"background-color",e[1].editorBackground),(!$||2&r[0])&&P(M,"border-color",e[1].appBackground),(!$||2&r[0])&&P(M,"color",e[1].textcolor),(!$||2&r[0])&&P(L,"background-color",e[1].editorBackground),(!$||2&r[0])&&P(L,"border-color",e[1].appBackground),(!$||2&r[0])&&P(L,"color",e[1].textcolor);const s={};2&r[0]&&(s.styles=e[1]),8&r[0]&&(s.openPopUp=e[3]),4&r[0]&&(s.usrscripts=null===e[2].TEMPLATES?[]:e[2].TEMPLATES),O.$set(s),(!$||1&r[0]&&A!==(A=p(e[0]?"visible":"invisible")+" svelte-1vcczti"))&&_(t,"class",A),(!$||2&r[0])&&P(t,"background-color",e[1].appBackground),(!$||2&r[0])&&P(t,"color",e[1].textcolor)},i(e){$||(Z(a.$$.fragment,e),Z(O.$$.fragment,e),$=!0)},o(e){Q(a.$$.fragment,e),Q(O.$$.fragment,e),$=!1},d(n){n&&g(t),e[23](null),re(a),re(O),I=!1,u(B)}}}function kt(e,t,n){let r;const o=O();let i,s,{openTemplateEditor:a=!1}=t,{styles:l={}}=t,{focusFN:c}=t,{preferences:u}=t,{ScriptPad:h}=t,d=!1,p="",f="",m={line:0,ch:0},g="",v=null;function y(e){a?d||s.focus():c()}function S(e){i=e}function k(){s.focus()}function x(){n(3,d=!d)}function b(e,t){o(e,{data:t})}function _(e){n(6,m=e.cursor),n(7,g=e.value),n(9,v=e.history)}function w(){n(4,p=""),n(5,f=""),n(7,g=""),i.getDoc().setValue("")}function E(){b("saveTemplate",{name:p,description:f,template:g}),b("toggleTemplateEditor",0)}function P(){b("deleteTemplate",{name:p,description:f,template:g}),w(),b("toggleTemplateEditor",0)}function C(){w(),b("toggleTemplateEditor",0)}function M(e){n(4,p=e.name),n(5,f=e.description),n(7,g=e.template),i.getDoc().setValue(e.template),n(3,d=!1)}return e.$$set=e=>{"openTemplateEditor"in e&&n(0,a=e.openTemplateEditor),"styles"in e&&n(1,l=e.styles),"focusFN"in e&&n(21,c=e.focusFN),"preferences"in e&&n(22,u=e.preferences),"ScriptPad"in e&&n(2,h=e.ScriptPad)},e.$$.update=()=>{4194306&e.$$.dirty[0]&&n(10,r={Mode:u.codeMode,lineNumbers:u.codeLineNumbers,theme:l.editorTheme?l.editorTheme:"oceanic-next",keyMap:u.scriptKeyMap,lineWrapping:!1,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:u.styleActiveLine})},[a,l,h,d,p,f,m,g,s,v,r,y,S,k,x,_,w,E,P,C,M,c,u,function(e){$[e?"unshift":"push"](()=>{s=e,n(8,s)})},function(){p=this.value,n(4,p)},function(){f=this.value,n(5,f)},e=>{_(e.detail.data)},e=>{S(e.detail.data)},()=>{w()},()=>{E()},()=>{P()},()=>{C()},e=>{M(e.detail.data)},e=>{k()},e=>{e.ctrlKey&&"p"===e.key&&(e.preventDefault(),e.stopPropagation(),x())},e=>{y()}]}class xt extends ie{constructor(e){super(),oe(this,e,kt,St,d,{openTemplateEditor:0,styles:1,focusFN:21,preferences:22,ScriptPad:2},[-1,-1])}}const bt=window.bodyparser;function _t(e){let t,n,r,o,i,s,a,l,c,u,h,d,p,v,S;return n=new ft({props:{height:"385px",width:"466px",config:e[15],value:e[7][e[1]],cursor:e[8][e[1]]}}),n.$on("textChange",e[30]),n.$on("editorChange",e[31]),o=new ht({props:{openRegExp:e[2],styles:e[5],StoredText:e[7],currentid:e[1],focusFN:e[29],RegExpList:e[12]}}),o.$on("toggleRegExp",e[32]),o.$on("saveScript",e[33]),o.$on("deleteScript",e[34]),o.$on("saveText",e[35]),s=new vt({props:{openScriptEditor:e[3],styles:e[5],UserScripts:e[11],focusFN:e[29],preferences:e[6]}}),s.$on("toggleScriptEditor",e[36]),s.$on("saveScript",e[37]),s.$on("deleteScript",e[38]),l=new xt({props:{openTemplateEditor:e[4],styles:e[5],ScriptPad:e[0],focusFN:e[29],preferences:e[6]}}),l.$on("toggleTemplateEditor",e[39]),l.$on("saveTemplate",e[40]),l.$on("deleteTemplate",e[41]),u=new nt({props:{styles:e[5],openPopUp:e[9],syscripts:e[13],usrscripts:e[11]}}),u.$on("scriptSelected",e[42]),u.$on("focusEditor",e[43]),d=new nt({props:{styles:e[5],openPopUp:e[10],syscripts:e[0].SYSTEMTEMPLATES,usrscripts:null===e[0].TEMPLATES?[]:e[0].TEMPLATES.filter(wt)}}),d.$on("scriptSelected",e[44]),d.$on("focusEditor",e[45]),{c(){t=y("div"),te(n.$$.fragment),r=k(),te(o.$$.fragment),i=k(),te(s.$$.fragment),a=k(),te(l.$$.fragment),c=k(),te(u.$$.fragment),h=k(),te(d.$$.fragment),_(t,"id","noteEditor"),P(t,"background-color",e[5].appBackground),_(t,"class","svelte-ru16c6")},m(g,y){m(g,t,y),ne(n,t,null),f(t,r),ne(o,t,null),f(t,i),ne(s,t,null),f(t,a),ne(l,t,null),f(t,c),ne(u,t,null),f(t,h),ne(d,t,null),p=!0,v||(S=b(t,"keyup",e[46]),v=!0)},p(e,r){const i={};32768&r[0]&&(i.config=e[15]),130&r[0]&&(i.value=e[7][e[1]]),258&r[0]&&(i.cursor=e[8][e[1]]),n.$set(i);const a={};4&r[0]&&(a.openRegExp=e[2]),32&r[0]&&(a.styles=e[5]),128&r[0]&&(a.StoredText=e[7]),2&r[0]&&(a.currentid=e[1]),4096&r[0]&&(a.RegExpList=e[12]),o.$set(a);const c={};8&r[0]&&(c.openScriptEditor=e[3]),32&r[0]&&(c.styles=e[5]),2048&r[0]&&(c.UserScripts=e[11]),64&r[0]&&(c.preferences=e[6]),s.$set(c);const h={};16&r[0]&&(h.openTemplateEditor=e[4]),32&r[0]&&(h.styles=e[5]),1&r[0]&&(h.ScriptPad=e[0]),64&r[0]&&(h.preferences=e[6]),l.$set(h);const f={};32&r[0]&&(f.styles=e[5]),512&r[0]&&(f.openPopUp=e[9]),8192&r[0]&&(f.syscripts=e[13]),2048&r[0]&&(f.usrscripts=e[11]),u.$set(f);const m={};32&r[0]&&(m.styles=e[5]),1024&r[0]&&(m.openPopUp=e[10]),1&r[0]&&(m.syscripts=e[0].SYSTEMTEMPLATES),1&r[0]&&(m.usrscripts=null===e[0].TEMPLATES?[]:e[0].TEMPLATES.filter(wt)),d.$set(m),(!p||32&r[0])&&P(t,"background-color",e[5].appBackground)},i(e){p||(Z(n.$$.fragment,e),Z(o.$$.fragment,e),Z(s.$$.fragment,e),Z(l.$$.fragment,e),Z(u.$$.fragment,e),Z(d.$$.fragment,e),p=!0)},o(e){Q(n.$$.fragment,e),Q(o.$$.fragment,e),Q(s.$$.fragment,e),Q(l.$$.fragment,e),Q(u.$$.fragment,e),Q(d.$$.fragment,e),p=!1},d(e){e&&g(t),re(n),re(o),re(s),re(l),re(u),re(d),v=!1,S()}}}const wt=e=>"Defaults"!==e.name;function Et(e,t,n){let r,{currentid:o=0}=t,{RegExpOpen:i=!1}=t,{ScriptEditorOpen:s=!1}=t,{TemplateEditorOpen:a=!1}=t,{styles:l={}}=t,{preferences:c={}}=t,{ScriptPad:u={}}=t;const h=O();let d=["","","","","","","","",""],p=[null,null,null,null,null,null,null,null,null],f=[{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0},{line:0,char:0}],m=!1,g=!1,v=[],y=[],S=[],k="",x=null;function b(e,t){h(e,{data:t})}function _(e){n(14,x=e)}function w(e){var t=e.keyCode;e.ctrlKey&&(77===t||80===t||69===t&&e.getModifierState("Alt"))&&(e.preventDefault(),e.stopPropagation(),77===t?n(9,m=!m):69===t?function(){if(null!==x){k=x.getLine(f[o].line);var e=k.replace(new RegExp('"',"g"),'\\"'),t=u.TeaCodeExpand(e,".md"),n=f[o],r=k.length,i=x.getDoc();i.setSelection({line:n.line,ch:0},{line:n.line,ch:r}),i.replaceSelection(t.text);var s=i.indexFromPos(i.getCursor()),a=i.posFromIndex(s-(t.text.length-t.cursorPosition));i.setCursor(a)}}():80===t&&n(10,g=!g))}function E(e){n(7,d[o]=e,d),M(o)}function P(e){n(7,d[o]=e.value,d),n(8,f[o]=e.cursor,f),p[o]=e.history,M(o)}function C(e){return n(7,d[e]=u.getNote(e),d),d[e]}function M(e){u.saveNote(e,d[e])}function T(e,t){n(7,d[e]=t,d),u.saveNote(e,f[e])}function D(){u.putScripts(v)}function L(){u.saveUserTemplates(u.TEMPLATES)}function R(){u.saveRegExps(y)}function A(e){n(9,m=!1),null!==v&&(B(e),n(11,v=v.concat(e))),D()}function $(e){n(10,g=!1),null!==u.TEMPLATES&&(Y(e),n(0,u.TEMPLATES=u.TEMPLATES.concat(e),u)),L()}function I(e){n(9,m=!1),null!==y&&(F(e),n(12,y=y.concat(e))),R()}function B(e){n(9,m=!1),n(11,v=v.filter(t=>{var n=!0;return e.name===t.name&&(n=!1),n})),D()}function Y(e){n(10,g=!1),n(0,u.TEMPLATES=u.TEMPLATES.filter(t=>{var n=!0;return e.name===t.name&&(n=!1),n}),u),L()}function F(e){n(9,m=!1),n(12,y=y.filter(t=>{var n=!0;return e.name===t.name&&(n=!1),n})),R()}function H(e,t){if(console.log(e),u.getExtScript(e.name),console.log("tested for external"),null!==t)if(n(9,m=!1),e.insert){var r=t.getDoc(),i=r.getCursor();r.setSelection(i);var s="";s="undefined"!=typeof ScriptIndex?u.runExtScript(ScriptIndex,{script:ScriptIndex.script,envVar:{text:""},env:"",commandLine:""}):U(e.script,""),r.replaceSelection(s)}else{var a=t.getSelection(),l=!1;""===a&&(a=d[o],l=!0);var c="";c="undefined"!=typeof ScriptIndex?u.runExtScript(ScriptIndex,{script:ScriptIndex.script,envVar:{text:a},env:"",commandLine:""}):U(e.script,a),l?n(7,d[o]=c,d):t.getDoc().replaceSelection(c)}}function U(e,t){return u.runJavaScriptScripts(e,t)}function j(e,t){if(null!==t){n(10,g=!1);var r=t.getSelection();""===r&&(r=d[o]);var i=t.getDoc(),s=i.getCursor();i.setSelection(s);var a=u.runTemplate(e.name,e.template,r);i.replaceSelection(a)}}function W(){null!==x&&x.focus()}N(()=>{var e;x.getDoc().setValue(C(0)),C(1),C(2),C(3),C(4),C(5),C(6),C(7),C(8),n(11,v=u.getScripts()),n(13,S=u.getSystemScripts()),u.getUserTemplates(),u.getSystemTemplates(),n(12,y=u.getRegExp()),u.getSystemRegExps(),u.setupHandlebarHelpers(),n(0,u.apiRouter=window.express.Router(),u),n(0,u.pubServerRouter=window.express.Router(),u),n(0,u.app=window.express(),u),((e,t,n)=>{e.use("*",(e,t,n)=>{var r=e.ip.split("."),o=e.connection.localAddress.split(".");r[0]===o[0]&&r[1]===o[1]&&r[2]===o[2]&&r[0]===o[0]&&n()}),e.use(yt.json()),e.use(yt.urlencoded({extended:!0})),e.route("/note/:noteID(\\d+)/:append(a|w)").get((e,n,r)=>{n.json({note:t.getNote(e.params.noteID-1)})}).put((e,r,o)=>{var i="";"a"===e.params.append&&(i=t.getNote(e.params.noteID-1)),i+=e.body.note,n(e.params.noteID-1,i),r.send("okay")}),e.route("/scripts/env/list").get((e,n,r)=>{n.json(t.getEnvNames())}),e.route("/scripts/env/:env").get((e,n,r)=>{n.json(t.getEnv(e.params.env))}).put((e,n,r)=>{t.addEnv(e.body),n.json({text:"okay"})}).delete((e,n,r)=>{t.removeEnv(e.params.env),n.json({text:"okay"})}),e.route("/scripts/list").get((e,n,r)=>{n.json(t.getScripts().map(e=>e.name).concat(t.getSystemScripts().map(e=>e.name)).concat(t.listExtScripts()))}),e.route("/scripts/ext/list").get((e,n,r)=>{var o=t.listExtScripts();n.json(o)}),e.route("/scripts/ext/:script").get((e,n,r)=>{var o=t.getExtScript(e.params.script);console.log(o),n.json(o)}).put((e,n,r)=>{t.addExtScript(e.body),n.json({text:"okay"})}).delete((e,n,r)=>{t.removeExtScript(e.params.script),n.json({text:"okay"})}),e.route("/script/run").put((e,n,r)=>{var o=t.getScripts(),i=null,s=o.find(t=>t.name===e.body.script);void 0!==s?(i=s.script,n.json({text:t.runJavaScriptScripts(i,e.body.text)})):void 0!==(s=t.getExtScript(e.body.script))?n.json({text:t.runExtScript(s,e.body)}):(i=void 0!==(s=(o=t.getSystemScripts()).find(t=>t.name===e.body.script))?s.script:{script:"SP.text = 'Error: Not a Script.';"},n.json({text:t.runJavaScriptScripts(i,e.body.text)}))}),e.route("/template/list").get((e,n,r)=>{n.json({templates:t.listTemplates().filter(e=>{var t=!0;return"Defaults"===e&&(t=!1),t})})}),e.route("/template/run").put((e,n,r)=>{var o=t.getTemplateByName(e.body.template);null===o?n.json({text:"Not Defined."}):n.json({text:t.runTemplate(o.name,o.template,e.body.text)})}),e.route("/nodered/var/:varname").put((e,n,r)=>{t.SetRedVar(e.params.varname,e.body.text),n.json({text:"okay"})}).get((e,n,r)=>{n.json({text:t.GetRedVar(e.params.varname)})}),e.route("/getip").get((e,n,r)=>{n.json({ip:t.getIP()})}),e.route("/scriptbar/config").get((e,n,r)=>{globalThis.fs.existsSync(t.SCRIPTBARPREFERENCES)?n.json({config:JSON.parse(globalThis.fs.readFileSync(t.SCRIPTBARPREFERENCES).toString())}):n.json({config:[]})}).put((e,n,r)=>{globalThis.fs.writeFileSync(t.SCRIPTBARPREFERENCES,JSON.stringify(e.body.config)),n.json({text:"okay"})}),e.route("/web/launch").get((e,t,n)=>{t.json({text:"okay"})}).put((e,n,r)=>{t.showURL(e.body.url,e.body.url,e=>{}),n.json({text:"okay"})})})(u.apiRouter,u,T),(e=u.pubServerRouter).use("*",(e,t,n)=>{var r=e.ip.split("."),o=e.connection.localAddress.split(".");r[0]===o[0]&&r[1]===o[1]&&r[2]===o[2]&&r[0]===o[0]&&n()}),e.use(bt.json()),e.use(bt.urlencoded({extended:!0})),e.use("/",window.express.static("ScriptServer")),e.use("/docs",window.express.static("docs")),e.use("/imgs",window.express.static("scriptpad/imgs")),u.app.use("/api",u.apiRouter),u.app.use("/",u.pubServerRouter),n(0,u.httpServer=window.http.createServer(u.app),u),n(0,u.io=window.socketio(u.httpServer),u);try{n(0,u.server=u.httpServer.listen(u.PORTNUMBER),u)}catch(e){console.log(e)}});return e.$$set=e=>{"currentid"in e&&n(1,o=e.currentid),"RegExpOpen"in e&&n(2,i=e.RegExpOpen),"ScriptEditorOpen"in e&&n(3,s=e.ScriptEditorOpen),"TemplateEditorOpen"in e&&n(4,a=e.TemplateEditorOpen),"styles"in e&&n(5,l=e.styles),"preferences"in e&&n(6,c=e.preferences),"ScriptPad"in e&&n(0,u=e.ScriptPad)},e.$$.update=()=>{96&e.$$.dirty[0]&&n(15,r={Mode:c.noteMode,lineNumbers:c.noteLineNumbers,theme:l.editorTheme?l.editorTheme:"oceanic-next",keyMap:c.noteKeyMap,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:c.styleActiveLine})},[u,o,i,s,a,l,c,d,f,m,g,v,y,S,x,r,b,_,w,E,P,A,$,I,B,Y,F,H,j,W,e=>{P(e.detail.data)},e=>{_(e.detail.data)},()=>{b("toggleRegExp",0)},e=>{I(e.detail.data)},e=>{F(e.detail.data)},e=>{E(e.detail.data)},()=>{b("toggleScriptEditor",0)},e=>{A(e.detail.data)},e=>{B(e.detail.data)},()=>{b("toggleTemplateEditor",0)},e=>{$(e.detail.data)},e=>{Y(e.detail.data)},e=>{H(e.detail.data,x)},e=>{W()},e=>{j(e.detail.data,x)},e=>{W()},e=>{w(e)}]}class Pt extends ie{constructor(e){super(),oe(this,e,Et,_t,d,{currentid:1,RegExpOpen:2,ScriptEditorOpen:3,TemplateEditorOpen:4,styles:5,preferences:6,ScriptPad:0},[-1,-1,-1])}}function Ct(e){let t,n,r,o;return{c(){t=y("div"),n=y("form"),n.innerHTML='<input type="hidden" name="cmd" value="_s-xclick" alt="button command" class="svelte-y0t0jq"/> \n    <input type="image" alt="PayPal: A safe way to make donations." src="imgs/btn_donateCC_LG.gif" border="0" name="submit" class="svelte-y0t0jq"/> \n    <img alt="PayPal Button" border="0" src="imgs/pixel.gif" width="1" height="1"/>',_(n,"method","post"),_(n,"target","_blank"),_(t,"class","donateButton svelte-y0t0jq")},m(i,s){var a;m(i,t,s),f(t,n),r||(o=b(n,"submit",(a=e[1],function(e){return e.preventDefault(),a.call(this,e)})),r=!0)},p:a,i:a,o:a,d(e){e&&g(t),r=!1,o()}}}function Mt(e,t,n){let{ScriptPad:r}=t;return e.$$set=e=>{"ScriptPad"in e&&n(0,r=e.ScriptPad)},[r,()=>{r.nw.Shell.openExternal("https://www.paypal.com/cgi-bin/webscr")}]}class Tt extends ie{constructor(e){super(),oe(this,e,Mt,Ct,d,{ScriptPad:0})}}function Dt(e){let t,n,r,o,i,s,a,l,c,h,d,v,x,w,E,C,M,T,D,L,N,R,O;return C=new Tt({props:{ScriptPad:e[1]}}),{c(){t=y("div"),n=y("div"),r=y("h1"),r.textContent="Script Pad",o=k(),i=y("p"),i.innerHTML='Created by Richard Guay\n          <a href="mailto:raguay@customct.com" class="svelte-gcgnxl">raguay@customct.com</a>',s=k(),a=y("p"),a.textContent="Built With:",l=k(),c=y("div"),h=y("div"),h.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">Svelte</p></div> \n          <img src="branding-master/svelte-logo.svg" height="50" alt="Svelte Logo"/>',d=k(),v=y("div"),v.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">NW.js</p></div> \n          <img src="imgs/nwjs.png" height="50" width="50" alt="NW.js logo"/>',x=k(),w=y("div"),w.innerHTML='<div class="pimgText svelte-gcgnxl"><p class="svelte-gcgnxl">Mask</p> \n            <img src="imgs/Mask.png" height="50" width="50" alt="Mask logo"/></div>',E=k(),te(C.$$.fragment),M=k(),T=y("button"),D=S("Close"),_(r,"class","svelte-gcgnxl"),_(i,"class","svelte-gcgnxl"),_(a,"class","svelte-gcgnxl"),_(h,"class","pimg svelte-gcgnxl"),_(v,"class","pimg svelte-gcgnxl"),_(w,"class","pimg svelte-gcgnxl"),_(c,"class","helpers svelte-gcgnxl"),P(T,"background-color",e[0].editorBackground),P(T,"color",e[0].textcolor),_(T,"class","svelte-gcgnxl"),_(n,"id","innerAbout"),_(n,"class","svelte-gcgnxl"),_(t,"id","about"),_(t,"class",L=p(e[2]?"visible":"invisible")+" svelte-gcgnxl"),P(t,"background-color",e[0].appBackground),P(t,"color",e[0].textcolor)},m(u,p){m(u,t,p),f(t,n),f(n,r),f(n,o),f(n,i),f(n,s),f(n,a),f(n,l),f(n,c),f(c,h),f(c,d),f(c,v),f(c,x),f(c,w),f(n,E),ne(C,n,null),f(n,M),f(n,T),f(T,D),N=!0,R||(O=[b(h,"click",e[4]),b(v,"click",e[5]),b(w,"click",e[6]),b(T,"click",e[7])],R=!0)},p(e,[n]){const r={};2&n&&(r.ScriptPad=e[1]),C.$set(r),(!N||1&n)&&P(T,"background-color",e[0].editorBackground),(!N||1&n)&&P(T,"color",e[0].textcolor),(!N||4&n&&L!==(L=p(e[2]?"visible":"invisible")+" svelte-gcgnxl"))&&_(t,"class",L),(!N||1&n)&&P(t,"background-color",e[0].appBackground),(!N||1&n)&&P(t,"color",e[0].textcolor)},i(e){N||(Z(C.$$.fragment,e),N=!0)},o(e){Q(C.$$.fragment,e),N=!1},d(e){e&&g(t),re(C),R=!1,u(O)}}}function Lt(e,t,n){const r=O();let{styles:o={}}=t,{ScriptPad:i={}}=t,{open:s=!1}=t;function a(e,t){r(e,{data:t})}return e.$$set=e=>{"styles"in e&&n(0,o=e.styles),"ScriptPad"in e&&n(1,i=e.ScriptPad),"open"in e&&n(2,s=e.open)},[o,i,s,a,e=>{i.nw.Shell.openExternal("https://svelte.dev")},e=>{i.nw.Shell.openExternal("https://nwjs.io/")},e=>{i.nw.Shell.openExternal("https://github.com/jakedeichert/mask")},()=>{a("toggleAboutMenu",0)}]}class Nt extends ie{constructor(e){super(),oe(this,e,Lt,Dt,d,{styles:0,ScriptPad:1,open:2})}}
/**
     * @category  html5 widgets
     * @package   Kelly
     * @author    Rubchuk Vladimir <torrenttvi@gmail.com>
     * @copyright 2015-2017 Rubchuk Vladimir
     * @license   GPLv3
     * @version   1.19
     *
     * Usage example :
     *
     *   new KellyColorPicker({place : 'color-picker'});
     *
     * ToDo :
     * 
     * Add switch color in colorsavers button (analog of X button in Photoshop)
     *
     **/function Rt(e){var t,n=Math.PI,r=!0,o=new Object;o.radius=4;var i=!1,s=!1,a="quad",l=!1,c=!1,u=!0,h=new Array,d=new Array,p=document.createElement("canvas"),f=!1,m=!1,g=null,v=!1,y=!0,S="mixed",k=new Object;k.tag=!1,k.margin=6;var x,b,_,w,E=!1,P=this,C=200,M="#000000",T=1,D=!1,L=!1,N=new Array,R=!1,O=new Array;function A(e,t,n){t=!!t;var r=new Object;r.widthPercentage=22,r.imageData=null,r.align=e,r.selected=t,r.color="#ffffff",r.paddingY=-4,r.paddingX=4,r.lineWidth=1,r.selectSize=4,"right"==e&&(r.paddingX=-1*r.paddingX),r.selected&&(r.color=M),n&&(r.color=n),r.updateSize=function(){this.width=parseInt(C-C/100*(100-this.widthPercentage)),"left"==this.align?this.position={x:0,y:C-this.width}:"right"==this.align&&(this.position={x:C-this.width,y:C-this.width})},r.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},r.isDotIn=function(e){var t=new Array;"left"==this.align?(t[0]={x:this.position.x,y:this.position.y},t[1]={x:this.position.x,y:this.position.y+this.width},t[2]={x:this.position.x+this.width,y:this.position.y+this.width}):(t[0]={x:this.position.x+this.width,y:this.position.y},t[1]={x:t[0].x,y:t[0].y+this.width},t[2]={x:t[0].x-this.width,y:this.position.y+this.width});for(var n=0;n<=t.length-1;++n)t[n].x+=this.paddingX,t[n].y+=this.paddingY;var r=this.calcS(t),o=[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y},{x:e.x,y:e.y}],i=this.calcS(o);return o[1]={x:t[2].x,y:t[2].y},i+=this.calcS(o),o[0]={x:t[1].x,y:t[1].y},i+=this.calcS(o),Math.ceil(i)==Math.ceil(r)},r.draw=function(){p.width=this.width,p.height=this.width,f.clearRect(0,0,this.width,this.width),f.beginPath(),"left"==this.align&&(f.moveTo(this.lineWidth/2,this.width-this.lineWidth),f.lineTo(this.width,this.width-this.lineWidth),f.lineTo(this.lineWidth,this.lineWidth),f.lineTo(this.lineWidth,this.width-this.lineWidth)),"right"==this.align&&(f.moveTo(this.lineWidth/2,this.width-this.lineWidth),f.lineTo(this.width-this.lineWidth,this.width-this.lineWidth),f.lineTo(this.width-this.lineWidth,this.lineWidth),f.lineTo(this.lineWidth,this.width-this.lineWidth)),this.selected&&(f.fillStyle="rgba(255,255,255, 1)",f.fill(),f.strokeStyle="rgba(0, 0, 0, 1)",f.stroke(),f.closePath(),f.beginPath(),f.lineWidth=this.lineWidth,"left"==this.align&&(f.moveTo(this.selectSize,this.width-this.selectSize),f.lineTo(this.width-2*this.selectSize,this.width-this.selectSize),f.lineTo(this.selectSize,2*this.selectSize),f.lineTo(this.selectSize,this.width-this.selectSize)),"right"==this.align&&(f.moveTo(2*this.selectSize,this.width-this.selectSize),f.lineTo(this.width-this.selectSize,this.width-this.selectSize),f.lineTo(this.width-this.selectSize,2*this.selectSize),f.lineTo(2*this.selectSize,this.width-this.selectSize)));var e=q(this.color);f.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",f.fill(),f.strokeStyle="rgba(0, 0, 0, 1)",f.stroke(),this.imageData=f.getImageData(0,0,this.width,this.width),s.drawImage(p,this.position.x+this.paddingX,this.position.y+this.paddingY)};var o=N.length;N[o]=r}var $=new Object;$.width=18,$.imageData=null,$.startAngle=0,$.outerStrokeStyle="rgba(0,0,0,0.2)",$.innerStrokeStyle="rgba(0,0,0,0.2)",$.draw=function(){if(this.imageData)s.putImageData(this.imageData,0,0);else{for(var e=this.startAngle,t=0;t<=360;t++){var r=J(t-2),o=J(t);s.beginPath(),s.moveTo(b,b),s.arc(b,b,this.outerRadius,r,o,!1),s.closePath();var i=z(e/360,1,1);s.fillStyle="rgb("+i.r+", "+i.g+", "+i.b+")",s.fill(),++e>=360&&(e=0)}s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(b,b,this.innerRadius,0,2*n),s.fill(),s.globalCompositeOperation="source-over",s.strokeStyle=this.innerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),s.beginPath(),s.arc(b,b,this.outerRadius,0,2*n),s.strokeStyle=this.outerStrokeStyle,s.lineWidth=2,s.stroke(),s.closePath(),this.imageData=s.getImageData(0,0,C,C)}},$.isDotIn=function(e){return Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)<Math.pow(this.outerRadius,2)&&Math.pow(this.pos.x-e.x,2)+Math.pow(this.pos.y-e.y,2)>Math.pow(this.innerRadius,2)};var I=new Object;I.lineWeight=2,I.height=4,I.paddingX=2;var B=new Object;B.width=18,B.padding=4,B.outerStrokeStyle="rgba(0,0,0,0.2)",B.innerStrokeStyle="rgba(0,0,0,0.2)",B.updateSize=function(){this.pos={x:C+B.padding,y:B.padding},this.height=C-2*B.padding},B.draw=function(){var e=s.createLinearGradient(0,0,0,this.height),t=z(_.h,1,1);e.addColorStop(0,"rgba("+t.r+","+t.g+","+t.b+",1)"),e.addColorStop(1,"rgba("+t.r+","+t.g+","+t.b+",0)"),s.beginPath(),s.rect(this.pos.x,this.pos.y,this.width,this.height),s.fillStyle="white",s.fill(),s.fillStyle=e,s.fill(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2,s.stroke(),s.closePath()},B.dotToAlpha=function(e){return 1-Math.abs(this.pos.y-e.y)/this.height},B.alphaToDot=function(e){return{x:0,y:this.height-this.height*e}},B.limitDotPosition=function(e){var t=e.y;return t<this.pos.y&&(t=this.pos.y),t>this.pos.y+this.height&&(t=this.pos.y+this.height),{x:this.pos.x,y:t}},B.isDotIn=function(e){return!(e.x<this.pos.x||e.x>this.pos.x+B.width||e.y<this.pos.y||e.y>this.pos.y+this.height)};var Y=new Object;function F(e){var t=e.getBoundingClientRect(),n=0,r=0;return l&&(r=B.width+2*B.padding),e===i?t.width<=t.height?n=t.height:t.height<t.width&&(n=t.width):L?"height"==L?n=t.height:"width"==L&&(n=t.width):t.width>t.height?n=t.height:t.height>=t.width&&(n=t.width),n=parseInt(n),l&&(n-=r),!(n<=0)&&n}function H(e,t){var n=1,r=!1;if((e=e.trim(e)).length<=7)"#"==e.charAt(0)&&(e=e.slice(1)),3==e.length?r=e+e:6==e.length&&(r=e);else if("rgb"==e.substring(0,3)){var o=e.split(",");if(o.length>=3&&o.length<=4){o[0]=o[0].replace("rgba(",""),o[0]=o[0].replace("rgb(","");var i={r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])};i.r<=255&&i.g<=255&&i.b<=255&&(r=K(i),4==o.length&&((!(n=parseFloat(o[3]))||n<0)&&(n=0),n>1&&(n=1)))}}return(!1!==r||!t)&&(!1===r&&(r="000000"),"#"!=r.charAt(0)&&(r="#"+r),{h:r,a:n})}function U(){if(O.quad)return O.quad;var e=new Object;return e.padding=2,e.imageData=null,e.dotToSv=function(e){return{s:Math.abs(this.path[3].x-e.x)/this.size,v:Math.abs(this.path[3].y-e.y)/this.size}},e.svToDot=function(e){var t=this.path[0].x,n=this.path[0].y,r=.02;C<150?r=.07:C<100&&(r=.16);for(var o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var s={x:i+t,y:o+n},a=this.dotToSv(s),l=Math.abs(a.s-e.s),c=Math.abs(a.v-e.v);if(l<r&&c<r)return s}return{x:0,y:0}},e.limitDotPosition=function(e){var t=e.x,n=e.y;return t<this.path[0].x&&(t=this.path[0].x),t>this.path[0].x+this.size&&(t=this.path[0].x+this.size),n<this.path[0].y&&(n=this.path[0].y),n>this.path[0].y+this.size&&(n=this.path[0].y+this.size),{x:t,y:n}},e.draw=function(){this.imageData||(this.imageData=s.createImageData(this.size,this.size));for(var e=0,t=this.path[0].x,n=this.path[0].y,r=0;r<this.size;r++)for(var o=0;o<this.size;o++){var i={x:o+t,y:r+n},a=this.dotToSv(i),l=z(_.h,a.s,a.v);this.imageData.data[e+0]=l.r,this.imageData.data[e+1]=l.g,this.imageData.data[e+2]=l.b,this.imageData.data[e+3]=255,e+=4}s.putImageData(this.imageData,t,n),s.beginPath(),s.strokeStyle="rgba(0,0,0, 0.2)",s.lineWidth=2;for(e=0;e<=this.path.length-1;++e)0==e?s.moveTo(this.path[e].x,this.path[e].y):s.lineTo(this.path[e].x,this.path[e].y);s.stroke(),s.closePath()},e.updateSize=function(){var e=2*$.innerRadius-2*I.paddingX-2*this.padding;this.size=Math.floor(e/Math.sqrt(2)),this.path=new Array,this.path[0]={x:this.size/2*-1,y:this.size/2*-1},this.path[1]={x:this.path[0].x+this.size,y:this.path[0].y},this.path[2]={x:this.path[1].x,y:this.path[1].y+this.size},this.path[3]={x:this.path[2].x-this.size,y:this.path[2].y},this.path[4]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=$.pos.x,this.path[t].y+=$.pos.y},e.isDotIn=function(e){return!(e.x<this.path[0].x||e.x>this.path[0].x+this.size||e.y<this.path[0].y||e.y>this.path[0].y+this.size)},O.quad=e,e}function j(){if(O.triangle)return O.triangle;var e=new Object;return e.padding=2,e.imageData=null,e.followWheel=!0,e.sOnTop=!1,e.limitDotPosition=function(e){var t=e.x,n=e.y,r=this.path[0].x,o=this.path[2].x,i=t,s=n;i=Math.min(Math.max(o,i),r);var a=(this.path[0].y-this.path[1].y)/(this.path[0].x-this.path[1].x),l=Math.ceil(this.path[1].y+a*(i-this.path[1].x));a=(this.path[0].y-this.path[2].y)/(this.path[0].x-this.path[2].x);var c=Math.floor(this.path[2].y+a*(i-this.path[2].x));return t<o&&($.pos.y,$.pos.x,s=n),{x:i,y:s=Math.min(Math.max(l,s),c)}},e.svToDot=function(e){var n=.02;C<150?n=.07:C<100&&(n=.16);for(var r=0;r<this.size;r++)for(var o=0;o<this.size;o++){var i={x:this.path[1].x+o,y:this.path[1].y+r};if(t.isDotIn(i)){var s=this.dotToSv(i),a=Math.abs(s.s-e.s),l=Math.abs(s.v-e.v);if(a<n&&l<n)return i}}return{x:0,y:0}},e.draw=function(){this.imageData||(this.imageData=f.createImageData(this.size,this.size)),p.width=this.size,p.height=this.size;for(var e=this.path[1].x,n=this.path[1].y,r=0,o=0;o<this.size;o++)for(var i=0;i<this.size;i++){var a={x:this.path[1].x+i,y:this.path[1].y+o};if(t.isDotIn(a)){var l=this.dotToSv(a),c=z(_.h,l.s,l.v);this.imageData.data[r+0]=c.r,this.imageData.data[r+1]=c.g,this.imageData.data[r+2]=c.b,this.imageData.data[r+3]=255}else this.imageData.data[r+0]=0,this.imageData.data[r+1]=0,this.imageData.data[r+2]=0,this.imageData.data[r+3]=0;r+=4}f.putImageData(this.imageData,0,0),s.drawImage(p,e,n),s.beginPath(),s.strokeStyle="rgba(0, 0, 0, 0.3)",s.lineWidth=2;var u=this.path;for(r=0;r<=u.length-1;++r)0==r?s.moveTo(u[r].x,u[r].y):s.lineTo(u[r].x,u[r].y);s.stroke(),s.closePath()},e.calcS=function(e){return Math.abs((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/2},e.dotToSv=function(e){var t,n,r=function(e,t){var n=(t[0].x-t[1].x)*(t[0].x-t[1].x)+(t[0].y-t[1].y)*(t[0].y-t[1].y),r=(e.x-t[0].x)*(t[1].x-t[0].x)+(e.y-t[0].y)*(t[1].y-t[0].y),o=!0,i=r/n;i<0&&(i=0,o=!1);i>1&&(i=1,o=!1);return{x:t[0].x+i*(t[1].x-t[0].x),y:t[0].y+i*(t[1].y-t[0].y),pt:o}}({x:e.x,y:e.y},this.vol),o=(t=r,n=this.vol[0],Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)));o<1&&(o=Math.floor(o)),o>this.h-1&&(o=this.h);var i=o/this.h,s=Math.abs(Z(e,this.sSide));return s<30&&(s=30),s=60-(s-=30),{s:s/=60,v:i}},e.isDotIn=function(e){var t=[{x:this.path[0].x,y:this.path[0].y},{x:this.path[1].x,y:this.path[1].y},{x:e.x,y:e.y}],n=this.calcS(t);return t[1]={x:this.path[2].x,y:this.path[2].y},n+=this.calcS(t),t[0]={x:this.path[1].x,y:this.path[1].y},n+=this.calcS(t),Math.ceil(n)==Math.ceil(this.s)},e.updateSize=function(){this.outerRadius=$.innerRadius-I.paddingX-this.padding,this.size=Math.floor(2*this.outerRadius*Math.sin(J(60)));var e=Math.sqrt(3)/2*this.size;this.h=Math.sqrt(3)/2*this.size,this.path=new Array,this.path[0]={x:this.outerRadius,y:0},this.path[1]={x:this.path[0].x-e,y:this.size/2*-1},this.path[2]={x:this.path[1].x,y:this.size/2},this.path[3]={x:this.path[0].x,y:this.path[0].y};for(var t=0;t<=this.path.length-1;++t)this.path[t].x+=$.pos.x,this.path[t].y+=$.pos.y;if(this.vol=new Array,this.s=this.calcS(this.path),this.sOnTop){var n=X(this.path[0],this.path[2]);this.vol[0]={x:this.path[1].x,y:this.path[1].y},this.vol[1]={x:n.x,y:n.y},this.sSide=this.path[1]}else{n=X(this.path[0],this.path[1]);this.vol[0]={x:this.path[2].x,y:this.path[2].y},this.vol[1]={x:n.x,y:n.y},this.sSide=this.path[2]}},O.triangle=e,e}function W(e,t,n,r){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(r||(r=""),h[r+t]=n,e.addEventListener?e.addEventListener(t,h[r+t]):e.attachEvent("on"+t,h[r+t]),!0)}function V(e,t,n){return"object"!=typeof e&&(e=document.getElementById(e)),!!e&&(n||(n=""),!!h[n+t]&&(e.removeEventListener?e.removeEventListener(t,h[n+t]):e.detachEvent("on"+t,h[n+t]),h[n+t]=null,!0))}function z(e,t,n){var r,o,i,s,a,l,c,u;switch(e&&void 0===t&&void 0===n&&(t=e.s,n=e.v,e=e.h),l=n*(1-t),c=n*(1-(a=6*e-(s=Math.floor(6*e)))*t),u=n*(1-(1-a)*t),s%6){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;case 5:r=n,o=l,i=c}return{r:Math.floor(255*r),g:Math.floor(255*o),b:Math.floor(255*i)}}function G(e,t,n){e&&void 0===t&&void 0===n&&(t=e.g,n=e.b,e=e.r),e/=255,t/=255,n/=255;var r,o,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i,l=i-s;if(o=0==i?0:l/i,i==s)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:a}}function q(e){var t=parseInt("#"==e.charAt(0)?e.slice(1):e,16);return{r:t>>16,g:t>>8&255,b:255&t}}function K(e){var t=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};return"#"+t(e.r)+t(e.g)+t(e.b)}function J(e){return e*(n/180)}function X(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Z(e,t,r){t||(t={x:0,y:0});var o=e.x-t.x,i=e.y-t.y,s=180*Math.atan2(i,o)/n;return r&&s<0&&(s=360+s),s}function Q(){x=2+I.paddingX,m=!1,$.imageData=null,b=C/2,$.pos={x:b,y:b},$.outerRadius=b-x,$.innerRadius=$.outerRadius-$.width,I.path=[{x:$.innerRadius-I.paddingX,y:-1*I.height},{x:$.outerRadius+I.paddingX,y:-1*I.height},{x:$.outerRadius+I.paddingX,y:I.height},{x:$.innerRadius-I.paddingX,y:I.height},{x:$.innerRadius-I.paddingX,y:-1*I.height}];var e=C;l&&(e+=B.width+2*B.padding),"CANVAS"!=E.tagName&&(E.style.width=e+"px",E.style.height=C+"px"),i.width=e,i.height=C,D!=i&&(i.style.width=e+"px",i.style.height=C+"px");for(var n=0;n<=N.length-1;++n)N[n].updateSize();R&&(R.imageData.triangle=null,R.imageData.quad=null,R.updateSize()),t.updateSize(),l&&B.updateSize()}function ee(e){if(v){if(d.updateinput)if(!(0,d.updateinput)(P,v,e))return;var t="rgba("+w.r+", "+w.g+", "+w.b+", "+T.toFixed(2)+")";e||(v.value=T<1&&"mixed"===S?t:"hex"===S||"mixed"===S?M:t),y&&(_.v<.5?v.style.color="#FFF":v.style.color="#000",v.style.background=t)}}function te(){W(i,"mousedown",(function(e){P.mouseDownEvent(e)}),"wait_action_"),W(i,"touchstart",(function(e){P.mouseDownEvent(e)}),"wait_action_"),W(i,"mouseout",(function(e){P.mouseOutEvent(e)}),"wait_action_"),W(window,"touchmove",(function(e){P.touchMoveEvent(e)}),"wait_action_"),W(i,"mousemove",(function(e){P.mouseMoveRest(e)}),"wait_action_")}function ne(){V(i,"mousedown","wait_action_"),V(i,"touchstart","wait_action_"),V(i,"mouseout","wait_action_"),V(window,"touchmove","wait_action_"),V(i,"mousemove","wait_action_")}function re(e){var t,n;e=e||window.event;var r=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop;"touchend"==e.type?(t=e.changedTouches[0].clientX+r,n=e.changedTouches[0].clientY+o):"touchmove"==e.type||e.touches?(t=e.touches[0].clientX+r,n=e.touches[0].clientY+o):(t=e.clientX+r,n=e.clientY+o);var s=i.getBoundingClientRect();return{x:t-=s.left+r,y:n-=s.top+o}}function oe(e){for(var t=!1,n=0;n<=N.length-1;++n)N[n].selected&&(t=n),N[n].selected=!1;var r=!1;for(n=0;n<=N.length-1;++n)if(n==e){N[n].selected=!0,P.setColorByHex(N[n].color),r=!0;break}r&&d.selectcolorsaver&&(0,d.selectcolorsaver)(P,N[e]);return r||!1===t||(N[t].selected=!0),r}function ie(){for(var e=0;e<=N.length-1;++e)N[e].selected&&(N[e].color=M)}function se(){if(N.length)for(var e=0;e<=N.length-1;++e)N[e].draw()}function ae(){if(!s||(s.clearRect(0,0,i.width,i.height),!(m?(s.putImageData(g,0,0),se(),1):($.draw(),t.draw(),l&&B.draw(),se(),R&&R.draw(),c||(g=s.getImageData(0,0,i.width,i.height),m=!0),1))))return!1;var e=360*_.h-$.startAngle;if(l){s.beginPath();var r=B.height*(1-T);s.rect(B.pos.x-2,B.padding+r-1,B.width+4,2),s.strokeStyle="rgba(0,0,0, 0.8)",s.lineWidth=2,s.stroke(),s.closePath()}s.beginPath();for(var a=function(e,t){t=J(t);for(var n=new Array,r=0;r<=e.length-1;++r)n[r]={x:e[r].x*Math.cos(t)-e[r].y*Math.sin(t),y:e[r].x*Math.sin(t)+e[r].y*Math.cos(t)};return n}(I.path,e,($.pos.x,$.pos.y)),u=0;u<=a.length-1;++u)a[u].x+=$.pos.x,a[u].y+=$.pos.y,0==u?s.moveTo(a[u].x,a[u].y):s.lineTo(a[u].x,a[u].y);return s.strokeStyle="rgba(0,0,0,0.8)",s.lineWidth=I.lineWeight,s.stroke(),s.closePath(),_.v>.5&&_.s<.5?s.strokeStyle="rgba(0, 0, 0, 1)":s.strokeStyle="rgba(255, 255, 255, 1)",s.beginPath(),s.lineWidth=2,s.arc(_.x,_.y,o.radius,0,2*n),s.stroke(),s.closePath(),!1}Y.svCursorData=null,Y.stCursor=null,Y.curType=0,Y.size=16,Y.cEl=document.body,Y.initSvCursor=function(){if(!i)return!1;if(this.curType=1,this.stCursor||(this.stCursor=window.getComputedStyle(this.cEl).cursor,this.stCursor||(this.stCursor="auto")),this.svCursorData)return this.cEl.style.cursor=this.svCursorData,!0;if(!p)return!1;var e=this.size+2;p.width=e,p.height=e,f.clearRect(0,0,this.size,this.size),f.strokeStyle="rgba(255, 255, 255, 1)",f.beginPath(),f.lineWidth=2,f.arc(e/2,e/2,this.size/2,0,2*n),f.stroke(),f.closePath();var t=e,r=p.toDataURL();return this.svCursorData="url("+r+") "+t/2+" "+t/2+", auto",!!this.svCursorData&&(this.cEl.style.cursor=this.svCursorData,-1===this.cEl.style.cursor.indexOf(r)&&(this.svCursorData="crosshair",this.cEl.style.cursor="crosshair"),!0)},Y.initStandartCursor=function(){this.stCursor&&(Y.curType=0,this.cEl.style.cursor=this.stCursor)},Y.updateCursor=function(e){r&&(Rt.cursorLock||(t.isDotIn(e)?Y.initSvCursor():Y.initStandartCursor()))},this.popUpClose=function(e){if(!1!==k.tag){if(e){if(e.target==v||e.target==i)return!1;if(e.target==k.tag)return!1}k.tag.style.display="none",Rt.activePopUp==P&&(Rt.activePopUp=!1)}},this.popUpShow=function(e){if(!1!==k.tag){if(d.popupshow)if(!(0,d.popupshow)(P,e))return;Rt.popupEventsInclude||(W(document,"click",(function(e){return!!Rt.activePopUp&&Rt.activePopUp.popUpClose(e)}),"popup_close_"),W(window,"resize",(function(e){if(Rt.activePopUp)return Rt.activePopUp.popUpShow(e)}),"popup_resize_"),Rt.popupEventsInclude=!0),Rt.activePopUp&&Rt.activePopUp.popUpClose(!1);var t=P.getCanvas().width,n=P.getAlphaFig();n&&(t-=n.width+n.padding);var r=window.getComputedStyle(k.tag),o=parseInt(r.paddingBottom)+parseInt(r.paddingTop);o<=0&&(o=0);var i=v.getBoundingClientRect(),s=i.top+(window.scrollY||window.pageYOffset||document.body.scrollTop)-o,a=i.left+(window.scrollX||window.pageXOffset||document.body.scrollLeft);return k.tag.style.top=s-t-k.margin+"px",k.tag.style.left=a+"px",k.tag.style.display="block",Rt.activePopUp=P,!1}},this.setHueByDot=function(e){var t=Z(e,$.pos)+$.startAngle;(t<0&&(t=360+t),_.h=t/360,w=z(_.h,_.s,_.v),M=K(w),ie(),d.change)&&(0,d.change)(P);ee(),m=!1,ae()},this.setColorForColorSaver=function(e,t){var n=H(e,!0);if(n){var r=P.getColorSaver(t);return r.selected?this.setColorByHex(e,!1):(r.color=n.h,ae()),!0}},this.setColor=function(e,t){P.setColorByHex(e,t)},this.setColorByHex=function(e,n){n||(n=!1);var r=T;if(!1!==e){if(!e||!e.length)return;var o=H(e,!0);if(!o)return;e=o.h,l&&(r=o.a)}else e=M;if(l&&e==M&&m&&r!=T)return T=r,void ae();if(!M||e!=M||!m){T=r,w=q(e),M=e,_=G(w);var i=t.svToDot(_);if(_.x=i.x,_.y=i.y,m=!1,ie(),ae(),d.change)(0,d.change)(P);ee(n)}},this.setAlphaByDot=function(e){(T=B.dotToAlpha(e),d.change)&&(0,d.change)(P);ee(),ae()},this.setAlpha=function(e){T=e,ee(),ae()},this.setColorByDot=function(e){var n=t.dotToSv(e);(_.s=n.s,_.v=n.v,_.x=e.x,_.y=e.y,_.s>1&&(_.s=1),_.s<0&&(_.s=0),_.v>1&&(_.v=1),_.v<0&&(_.v=0),w=z(_.h,_.s,_.v),M=K(w),ie(),d.change)&&(0,d.change)(P);ee(),ae()},this.mouseOutEvent=function(e){Y.curType>0&&!Rt.cursorLock&&Y.initStandartCursor()},this.mouseMoveRest=function(e){if(!c&&u){u=!1;var t=re(e);if(Y.updateCursor(t),requestAnimationFrame((function(){u=!0})),d.mousemoverest)(0,d.mousemoverest)(e,P,t)}},this.touchMoveEvent=function(e){c&&event.preventDefault()},this.mouseDownEvent=function(e){e.preventDefault();var n,r=!1,o=re(e);if($.isDotIn(o))c="wheel",P.setHueByDot(o),n=function(e){P.wheelMouseMove(e,o)},r=function(e){Rt.cursorLock=!1,P.wheelMouseUp(e,o)};else if(t.isDotIn(o))c="sv",P.setColorByDot(o),n=function(e){P.svMouseMove(e,o)},r=function(e){Rt.cursorLock=!1,P.svMouseUp(e,o)};else if(l&&B.isDotIn(o))c="alpha",P.setAlphaByDot(o),n=function(e){P.alphaMouseMove(e,o)},r=function(e){Rt.cursorLock=!1,P.alphaMouseUp(e,o)};else if(R&&R.isDotIn(o))P.setMethod();else if(N.length)for(var i=0;i<=N.length-1;++i)if(N[i].isDotIn(o)){oe(i);break}n&&r&&(ne(),Rt.cursorLock=P,W(document,"mouseup",r,"action_process_"),W(document,"mousemove",n,"action_process_"),W(document,"touchend",r,"action_process_"),W(document,"touchmove",n,"action_process_"))},this.wheelMouseMove=function(e,t){if(e.preventDefault(),c&&u){u=!1;var n=re(e);if(requestAnimationFrame((function(){u=!0})),P.setHueByDot(n),d.mousemoveh)(0,d.mousemoveh)(e,P,n)}},this.wheelMouseUp=function(e,t){if(e.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),te(),c=!1,m=!1,ae();var n=re(e);if(Y.updateCursor(n),d.mouseuph)(0,d.mouseuph)(e,P,n)}},this.alphaMouseMove=function(e,t){if(e.preventDefault(),c&&u){u=!1;var n=re(e);if(n=B.limitDotPosition(n),requestAnimationFrame((function(){u=!0})),P.setAlphaByDot(n),d.mousemovealpha)(0,d.mousemovealpha)(e,P,n)}},this.alphaMouseUp=function(e,t){if(e.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),te(),c=!1;var n=re(e);if(Y.updateCursor(n),d.mouseupalpha)(0,d.mouseupalpha)(e,P,n)}},this.svMouseMove=function(e,n){if(e.preventDefault(),c&&u){u=!1;var r=re(e);if(r=t.limitDotPosition(r),requestAnimationFrame((function(){u=!0})),P.setColorByDot(r),d.mousemovesv)(0,d.mousemovesv)(e,P,r)}},this.svMouseUp=function(e,t){if(e.preventDefault(),c){V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),te(),c=!1;var n=re(e);if(Y.updateCursor(n),l&&(m=!1,ae()),d.mouseupsv)(0,d.mouseupsv)(e,P,n)}},this.addUserEvent=function(e,t){return d[e]=t,!0},this.removeUserEvent=function(e){return!!d[e]&&(d[e]=null,!0)},this.getCanvas=function(){return!!s&&i},this.getCtx=function(){return s||!1},this.getInput=function(){return v},this.getSvFig=function(){return t},this.getSvFigCursor=function(){return o},this.getWheel=function(){return $},this.getWheelCursor=function(){return I},this.getCurColorHsv=function(){return _},this.getCurColorRgb=function(){return w},this.getCurColorHex=function(){return M},this.getCurColorRgba=function(){return{r:w.r,g:w.g,b:w.b,a:T}},this.getCurAlpha=function(){return T},this.getAlphaFig=function(){return!!l&&B},this.getPopup=function(){return k},this.getSize=function(){return C},this.getColorSaver=function(e){for(var t=0;t<=N.length-1;++t)if(!e&&N[t].selected||N[t].align==e)return N[t].rgb=q(N[t].color),N[t].hsv=G(N[t].rgb.r,N[t].rgb.g,N[t].rgb.b),N[t]},this.setColorSaver=function(e){if(!e)return!1;for(var t=0;t<=N.length-1;++t)if(N[t].align==e)return oe(t),N[t]},this.updateView=function(e){return!!s&&(e&&($.imageData=null,t.imageData=null,g=null),m=!1,Q(),ae(),!0)},this.resize=function(e,n){return!!s&&(e==C&&!n||(m=!1,$.imageData=null,t.imageData=null,g=null,C=e,Q(),P.setColorByHex(!1),!1))},this.syncSize=function(e){if(!D)return!1;var t=F(D);return t&&P.resize(t),!1},this.setMethod=function(e){if(e||(e="triangle","triangle"==a&&(e="quad")),e==a)return!1;if("quad"!=a&&"triangle"!=a)return!1;("quad"==(a=e)&&(t=U()),"triangle"==a&&(t=j()),P.resize(C,!0),d.setmethod)&&(0,d.setmethod)(P,a);return!0},this.destroy=function(){if(!P)return!1;Y.curType>0&&(Rt.cursorLock=!1,Y.initStandartCursor()),c&&(V(document,"mouseup","action_process_"),V(document,"mousemove","action_process_"),V(document,"touchend","action_process_"),V(document,"touchmove","action_process_"),c=!1),k.tag&&V(v,"click","popup_"),v&&(V(v,"click","input_edit_"),V(v,"change","input_edit_"),V(v,"keyup","input_edit_"),V(v,"keypress","input_edit_")),Rt.popupEventsInclude&&h.popup_close_click&&(Rt.activePopUp&&Rt.activePopUp.popUpClose(!1),V(document,"click","popup_close_"),V(window,"resize","popup_resize_"),Rt.popupEventsInclude=!1),$.imageData=null,t.imageData=null,g=null,p=null,E&&E.parentNode&&E.parentNode.removeChild(E),D&&V(window,"resize","canvas_"),ne(),P=null},function(e){var o="",c="";if(void 0!==e.alpha_slider&&(e.alphaSlider=e.alpha_slider),void 0!==e.input_color&&(e.inputColor=e.input_color),void 0!==e.input_format&&(e.inputFormat=e.input_format),e.input&&"object"!=typeof e.input?(e.input=document.getElementById(e.input),v=e.input):"object"==typeof e.input&&(v=e.input),void 0!==e.changeCursor&&(r=e.changeCursor),void 0!==e.alpha&&(T=e.alpha),void 0!==e.alphaSlider&&(l=e.alphaSlider),void 0!==e.inputColor&&(y=e.inputColor),void 0!==e.inputFormat&&(S=e.inputFormat),e.userEvents&&(d=e.userEvents),e.place&&"object"!=typeof e.place&&(c=e.place,e.place=document.getElementById(e.place)),e.place)E=e.place;else if(v){k.tag=document.createElement("div"),k.tag.className="popup-kelly-color",e.popupClass?k.tag.className=e.popupClass:(k.tag.className="popup-kelly-color",k.tag.style.position="absolute",k.tag.style.bottom="0px",k.tag.style.left="0px",k.tag.style.display="none",k.tag.style.backgroundColor="#e1e1e1",k.tag.style.border="1px solid #bfbfbf",k.tag.style.boxShadow="7px 7px 14px -3px rgba(0,0,0,0.24)",k.tag.style.borderTopLeftRadius="4px",k.tag.style.borderTopRightRadius="4px",k.tag.style.borderBottomLeftRadius="4px",k.tag.style.borderBottomRightRadius="4px",k.tag.style.padding="12px",k.tag.style.boxSizing="content-box"),E=k.tag,document.getElementsByTagName("body")[0].appendChild(k.tag),W(v,"click",(function(e){return P.popUpShow(e)}),"popup_")}else o+='| "place" ('+c+") not not found";var u=!1;if(e.color?u=H(e.color):v&&v.value&&(u=H(v.value)),u&&(M=u.h,l&&(T=u.a)),!e.method||"triangle"!=e.method&&"quad"!=e.method||(a=e.method),function(){if(!E)return!1;"CANVAS"!=E.tagName?(i=document.createElement("CANVAS"),E.appendChild(i)):i=E;void 0!==window.G_vmlCanvasManager&&(i=window.G_vmlCanvasManager.initElement(i),p=window.G_vmlCanvasManager.initElement(p));return!(!i.getContext||!i.getContext("2d"))&&(s=i.getContext("2d"),f=p.getContext("2d"),!0)}()||(o+=" | cant init canvas context"),e.resizeWith&&("object"!=typeof e.resizeWith&&"boolean"!=typeof e.resizeWith&&(e.resizeWith=document.getElementById(e.resizeWith)),D=!0===e.resizeWith?i:e.resizeWith,e.resizeSide&&(L=e.resizeSide),D&&(F(D)&&(e.size=F(D)),W(window,"resize",(function(e){return P.syncSize(e)}),"canvas_"))),e.size&&e.size>0&&(C=e.size),o)"undefined"!=typeof console&&console.log("KellyColorPicker : "+o);else{if("quad"==a&&(t=U()),"triangle"==a&&(t=j()),v){var h=function(e){(e=e||window.event).target||(e.target=e.srcElement),P.setColorByHex(e.target.value,!0)};W(v,"click",h,"input_edit_"),W(v,"change",h,"input_edit_"),W(v,"keyup",h,"input_edit_"),W(v,"keypress",h,"input_edit_")}e.colorSaver&&(A("left",!0),A("right")),e.methodSwitch&&((R=new Object).size,R.sizePercentage=10,R.position,R.paddingY=4,R.paddingX=4,R.imageData=new Array,R.lineWidth=2,R.color="#c1ebf5",R.updateSize=function(){this.size=parseInt(C-C/100*(100-this.sizePercentage)),this.size<16&&(this.size=16),this.position={x:this.paddingX,y:this.paddingY}},R.draw=function(){if(this.imageData[a])s.putImageData(this.imageData[a],this.position.x,this.position.y);else{var e=q(this.color);p.width=this.size,p.height=this.size,f.clearRect(0,0,this.size,this.size),f.beginPath();var t,r="triangle";if("triangle"==a&&(r="quad"),f.beginPath(),this.size<35)var o=i=p.width/2;else{var i=p.width/2-this.lineWidth;f.arc(this.size/2,this.size/2,i,0,2*n),f.strokeStyle="rgba(0, 0, 0, 0.4)",f.lineWidth=this.lineWidth,f.stroke(),o=i-6,f.closePath(),f.beginPath(),f.arc(this.size/2,this.size/2,o,0,2*n),f.strokeStyle="rgba(0, 0, 0, 0.4)",f.lineWidth=this.lineWidth,f.stroke(),f.closePath()}if(f.beginPath(),"quad"==r){var l=2*o-4;t=Math.floor(l/Math.sqrt(2));var c=(this.size-t)/2;(u={x:c+t,y:c+t/2}).y=u.y-t/2,f.moveTo(u.x,u.y),f.lineTo(u.x-t,u.y),f.lineTo(u.x-t,u.y+t),f.lineTo(u.x,u.y+t)}else{t=Math.floor((2*o-4)*Math.sin(J(60)));var u={x:2*o+(i-o),y:this.size/2},h=Math.sqrt(3)/2*t;f.moveTo(u.x,u.y),f.lineTo(u.x-h,u.y-t/2),f.lineTo(u.x-h,u.y+t/2),f.lineTo(u.x,u.y)}f.lineTo(u.x,u.y),f.fillStyle="rgba("+e.r+","+e.g+","+e.b+", 1)",f.fill(),f.lineWidth=this.lineWidth,f.strokeStyle="rgba(0, 0, 0, 0.6)",f.stroke(),f.closePath(),this.imageData[a]=f.getImageData(0,0,p.width,p.width),s.drawImage(p,this.position.x,this.position.y)}},R.isDotIn=function(e){return e.x>=this.position.x&&e.x<=this.position.x+this.size&&e.y>=this.position.y&&e.y<=this.position.y+this.size}),te(),Q(),P.setColorByHex(!1)}}(e)}function Ot(e){let t,n,r,o,i,s,a,l,c,h,d,p,v,x,E,C,M,T;return{c(){t=y("div"),n=y("p"),r=S("The color for "),o=S(e[4]),i=S(":"),s=k(),a=y("canvas"),l=y("br"),c=k(),h=y("input"),d=k(),p=y("button"),v=S("Select"),x=k(),E=y("button"),C=S("Quit"),_(a,"id","picker"),_(h,"id","color"),h.value=e[0],P(p,"background-color",e[1]),P(p,"color",e[2]),_(p,"class","svelte-1mpxtnf"),P(E,"background-color",e[1]),P(E,"color",e[2]),_(E,"class","svelte-1mpxtnf"),_(t,"id","colorPicker"),P(t,"background-color",e[1]),P(t,"color",e[2]),_(t,"class","svelte-1mpxtnf")},m(u,g){m(u,t,g),f(t,n),f(n,r),f(n,o),f(n,i),f(t,s),f(t,a),e[12](a),f(t,l),f(t,c),f(t,h),e[13](h),f(t,d),f(t,p),f(p,v),f(t,x),f(t,E),f(E,C),M||(T=[b(h,"keyup",e[14]),b(p,"click",e[15]),b(E,"click",e[16])],M=!0)},p(e,n){16&n&&w(o,e[4]),1&n&&h.value!==e[0]&&(h.value=e[0]),2&n&&P(p,"background-color",e[1]),4&n&&P(p,"color",e[2]),2&n&&P(E,"background-color",e[1]),4&n&&P(E,"color",e[2]),2&n&&P(t,"background-color",e[1]),4&n&&P(t,"color",e[2])},d(n){n&&g(t),e[12](null),e[13](null),M=!1,u(T)}}}function At(e){let t,n=e[3]&&Ot(e);return{c(){n&&n.c(),t=x()},m(e,r){n&&n.m(e,r),m(e,t,r)},p(e,[r]){e[3]?n?n.p(e,r):(n=Ot(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:a,o:a,d(e){n&&n.d(e),e&&g(t)}}}function $t(e,t,n){let r,o,{color:i=""}=t,{id:s=0}=t,{background:a="black"}=t,{textColor:l="white"}=t,{show:c=!1}=t,{item:u="circle"}=t,{explainText:h=""}=t;const d=O();function p(e,t){d(e,{data:t})}function f(){p("quitColorPicker",{})}function m(){document.body.style.cursor="default",p("colorChanged",{color:o.value,id:s})}function g(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),m())}R(()=>{c&&new Rt({place:r,input:o,colorSaver:!0,methodSwitch:!0})});return e.$$set=e=>{"color"in e&&n(0,i=e.color),"id"in e&&n(10,s=e.id),"background"in e&&n(1,a=e.background),"textColor"in e&&n(2,l=e.textColor),"show"in e&&n(3,c=e.show),"item"in e&&n(11,u=e.item),"explainText"in e&&n(4,h=e.explainText)},[i,a,l,c,h,r,o,f,m,g,s,u,function(e){$[e?"unshift":"push"](()=>{r=e,n(5,r)})},function(e){$[e?"unshift":"push"](()=>{o=e,n(6,o)})},e=>{g(e)},e=>{m()},e=>{f()}]}Rt.cursorLock=!1,Rt.activePopUp=!1,Rt.popupEventsInclude=!1,Rt.attachToInputByClass=function(e,t){for(var n=new Array,r=document.getElementsByClassName(e),o=0;o<r.length;o++)t?t.input=r[o]:t={input:r[o],size:150},n.push(new Rt(t));return n};class It extends ie{constructor(e){super(),oe(this,e,$t,At,d,{color:0,id:10,background:1,textColor:2,show:3,item:11,explainText:4})}}function Bt(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function Yt(e){let t,n,r,o,i,s,a,l,c,u,h=e[0].taskpaper,d=[];for(let t=0;t<h.length;t+=1)d[t]=Ft(Bt(e,h,t));let p=e[4]&&Ht(e);return{c(){t=y("div"),n=y("label"),n.textContent="List the TaskPaper Files:",r=k();for(let e=0;e<d.length;e+=1)d[e].c();o=k(),i=y("button"),s=S("Create a New TaskPaper List"),a=k(),p&&p.c(),l=x(),_(n,"class","styleLabel svelte-5mxuec"),_(t,"class","fileListWrap svelte-5mxuec"),_(i,"class","buttonStyle svelte-5mxuec"),P(i,"background-color",e[1].editorBackground),P(i,"color",e[1].textcolor)},m(h,g){m(h,t,g),f(t,n),f(t,r);for(let e=0;e<d.length;e+=1)d[e].m(t,null);m(h,o,g),m(h,i,g),f(i,s),m(h,a,g),p&&p.m(h,g),m(h,l,g),c||(u=b(i,"click",e[16]),c=!0)},p(e,n){if(385&n){let r;for(h=e[0].taskpaper,r=0;r<h.length;r+=1){const o=Bt(e,h,r);d[r]?d[r].p(o,n):(d[r]=Ft(o),d[r].c(),d[r].m(t,null))}for(;r<d.length;r+=1)d[r].d(1);d.length=h.length}2&n&&P(i,"background-color",e[1].editorBackground),2&n&&P(i,"color",e[1].textcolor),e[4]?p?p.p(e,n):(p=Ht(e),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null)},d(e){e&&g(t),v(d,e),e&&g(o),e&&g(i),e&&g(a),p&&p.d(e),e&&g(l),c=!1,u()}}}function Ft(e){let t,n,r,o,i,s,a,l,c,h,d,p,v,x=e[25].name+"",E=e[25].loc+"";function P(...t){return e[14](e[25],e[27],...t)}function C(...t){return e[15](e[25],...t)}return{c(){t=y("div"),n=y("span"),n.textContent="✏️",r=k(),o=y("label"),i=S(x),s=k(),a=y("label"),l=S(E),c=k(),h=y("span"),h.textContent="❌",d=k(),_(n,"class","editSpan svelte-5mxuec"),_(o,"class","listFileLocLabel svelte-5mxuec"),_(a,"class","listFileLocDirLabel svelte-5mxuec"),_(h,"class","deleteSpan svelte-5mxuec"),_(t,"class","listFileLoc svelte-5mxuec")},m(e,u){m(e,t,u),f(t,n),f(t,r),f(t,o),f(o,i),f(t,s),f(t,a),f(a,l),f(t,c),f(t,h),f(t,d),p||(v=[b(n,"click",P),b(h,"click",C)],p=!0)},p(t,n){e=t,1&n&&x!==(x=e[25].name+"")&&w(i,x),1&n&&E!==(E=e[25].loc+"")&&w(l,E)},d(e){e&&g(t),p=!1,u(v)}}}function Ht(e){let t,n,r,o,i,s,a,l,c,h,d,p,v,x,w,C;function M(e,t){return""!==e[3]?jt:Ut}let T=M(e),D=T(e);return{c(){t=y("div"),n=y("label"),n.textContent="Name",r=k(),o=y("input"),i=k(),s=y("label"),s.textContent="Location",a=k(),D.c(),l=k(),c=y("div"),h=y("button"),d=S("Save"),p=k(),v=y("button"),x=S("Cancel"),_(n,"class","svelte-5mxuec"),_(o,"type","text"),_(o,"name","name"),P(o,"background-color",e[1].editorBackground),P(o,"color",e[1].textcolor),_(o,"class","svelte-5mxuec"),_(s,"class","svelte-5mxuec"),_(h,"class","buttonStyle svelte-5mxuec"),P(h,"background-color",e[1].editorBackground),P(h,"color",e[1].textcolor),_(v,"class","buttonStyle svelte-5mxuec"),P(v,"background-color",e[1].editorBackground),P(v,"color",e[1].textcolor),_(c,"class","buttonRow"),_(t,"id","NewTaskPaperDiv"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor),_(t,"class","svelte-5mxuec")},m(u,g){m(u,t,g),f(t,n),f(t,r),f(t,o),E(o,e[2]),f(t,i),f(t,s),f(t,a),D.m(t,null),f(t,l),f(t,c),f(c,h),f(h,d),f(c,p),f(c,v),f(v,x),w||(C=[b(o,"input",e[17]),b(h,"click",e[20]),b(v,"click",e[21])],w=!0)},p(e,n){2&n&&P(o,"background-color",e[1].editorBackground),2&n&&P(o,"color",e[1].textcolor),4&n&&o.value!==e[2]&&E(o,e[2]),T===(T=M(e))&&D?D.p(e,n):(D.d(1),D=T(e),D&&(D.c(),D.m(t,l))),2&n&&P(h,"background-color",e[1].editorBackground),2&n&&P(h,"color",e[1].textcolor),2&n&&P(v,"background-color",e[1].editorBackground),2&n&&P(v,"color",e[1].textcolor),2&n&&P(t,"background-color",e[1].editorBackground),2&n&&P(t,"color",e[1].textcolor)},d(e){e&&g(t),D.d(),w=!1,u(C)}}}function Ut(e){let t,n,r;return{c(){t=y("input"),_(t,"type","file"),_(t,"name","location"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor),_(t,"class","svelte-5mxuec")},m(o,i){m(o,t,i),n||(r=b(t,"change",e[19]),n=!0)},p(e,n){2&n&&P(t,"background-color",e[1].editorBackground),2&n&&P(t,"color",e[1].textcolor)},d(e){e&&g(t),n=!1,r()}}}function jt(e){let t,n,r;return{c(){t=y("input"),_(t,"type","text"),_(t,"name","location"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor),_(t,"class","svelte-5mxuec")},m(o,i){m(o,t,i),E(t,e[3]),n||(r=b(t,"input",e[18]),n=!0)},p(e,n){2&n&&P(t,"background-color",e[1].editorBackground),2&n&&P(t,"color",e[1].textcolor),8&n&&t.value!==e[3]&&E(t,e[3])},d(e){e&&g(t),n=!1,r()}}}function Wt(e){let t,n,r,o,i,s,l,c,h,d,p,v,S,x,w,E=e[0].UseTaskPaper&&Yt(e);return{c(){t=y("div"),n=y("h2"),n.textContent="Todos",r=k(),o=y("div"),i=y("label"),i.textContent="Use NotePlan Todos?",s=k(),l=y("input"),c=k(),h=y("div"),d=y("label"),d.textContent="Use TaskPaper style Todos?",p=k(),v=y("input"),S=k(),E&&E.c(),_(i,"class","styleLabel svelte-5mxuec"),_(l,"class","PrefCheck svelte-5mxuec"),_(l,"type","checkbox"),_(o,"class","labelRadialHolder svelte-5mxuec"),_(d,"class","styleLabel svelte-5mxuec"),_(v,"class","PrefCheck svelte-5mxuec"),_(v,"type","checkbox"),_(h,"class","labelRadialHolder svelte-5mxuec")},m(a,u){m(a,t,u),f(t,n),f(t,r),f(t,o),f(o,i),f(o,s),f(o,l),l.checked=e[0].UseNotePlan,f(t,c),f(t,h),f(h,d),f(h,p),f(h,v),v.checked=e[0].UseTaskPaper,f(t,S),E&&E.m(t,null),x||(w=[b(l,"change",e[10]),b(l,"change",e[11]),b(v,"change",e[12]),b(v,"change",e[13])],x=!0)},p(e,[n]){1&n&&(l.checked=e[0].UseNotePlan),1&n&&(v.checked=e[0].UseTaskPaper),e[0].UseTaskPaper?E?E.p(e,n):(E=Yt(e),E.c(),E.m(t,null)):E&&(E.d(1),E=null)},i:a,o:a,d(e){e&&g(t),E&&E.d(),x=!1,u(w)}}}function Vt(e,t,n){let{styles:r={}}=t,{preferences:o={}}=t;const i=O();let s=-1,a="",l="",c=!1;function u(){var e,t;e="changeTodos",t={taskpaper:o.taskpaper,UseTaskPaper:o.UseTaskPaper,UseNotePlan:o.UseNotePlan},i(e,{data:t})}function h(e,t){n(4,c=!0),n(2,a=e),n(3,l=t),s=-1}function d(e){n(4,c=!1);const t=o.taskpaper.findIndex(t=>t.name===e);o.taskpaper.splice(t,1),n(0,o),s=-1,u()}function p(e,t,r){n(4,c=!0),n(2,a=e),n(3,l=t),s=r,u()}function f(e,t){if(-1===s){const r=o.taskpaper.find(e=>{e.name});n(0,r>=0?o.taskpaper[r]={name:e,loc:t}:o.taskpaper=o.taskpaper.concat({name:e,loc:t}),o)}else n(0,o.taskpaper[s]={name:e,loc:t},o);n(4,c=!1),s=-1,u()}return e.$$set=e=>{"styles"in e&&n(1,r=e.styles),"preferences"in e&&n(0,o=e.preferences)},[o,r,a,l,c,u,h,d,p,f,function(){o.UseNotePlan=this.checked,n(0,o)},()=>{u()},function(){o.UseTaskPaper=this.checked,n(0,o)},()=>{u()},(e,t,n)=>{p(e.name,e.loc,t)},(e,t)=>{d(e.name)},e=>{h("","")},function(){a=this.value,n(2,a)},function(){l=this.value,n(3,l)},function(){l=this.value,n(3,l)},e=>{f(a,l)},e=>{n(4,c=!1)}]}class zt extends ie{constructor(e){super(),oe(this,e,Vt,Wt,d,{styles:1,preferences:0})}}function Gt(e){let t,n,r,o,i,s,l,c,h,d,p,v,S,x;return{c(){t=y("div"),n=y("h2"),n.textContent="Node-Red",r=k(),o=y("div"),i=y("label"),i.textContent="Auto Launch Node-Red?",s=k(),l=y("input"),c=k(),h=y("div"),d=y("label"),d.textContent="Dashboard configured?",p=k(),v=y("input"),_(i,"class","styleLabel svelte-n1ihpd"),_(l,"class","PrefCheck svelte-n1ihpd"),_(l,"type","checkbox"),_(o,"class","labelRadialHolder svelte-n1ihpd"),_(d,"class","styleLabel svelte-n1ihpd"),_(v,"class","PrefCheck svelte-n1ihpd"),_(v,"type","checkbox"),_(h,"class","labelRadialHolder svelte-n1ihpd")},m(a,u){m(a,t,u),f(t,n),f(t,r),f(t,o),f(o,i),f(o,s),f(o,l),l.checked=e[0].REDAuto,f(t,c),f(t,h),f(h,d),f(h,p),f(h,v),v.checked=e[0].REDDashboard,S||(x=[b(l,"change",e[3]),b(l,"change",e[4]),b(v,"change",e[5]),b(v,"change",e[6])],S=!0)},p(e,[t]){1&t&&(l.checked=e[0].REDAuto),1&t&&(v.checked=e[0].REDDashboard)},i:a,o:a,d(e){e&&g(t),S=!1,u(x)}}}function qt(e,t,n){let{styles:r={}}=t,{preferences:o={}}=t;const i=O();function s(){var e,t;e="changeTodos",t={auto:o.REDAuto,dashboard:o.REDDashboard},i(e,{data:t})}return e.$$set=e=>{"styles"in e&&n(2,r=e.styles),"preferences"in e&&n(0,o=e.preferences)},[o,s,r,function(){o.REDAuto=this.checked,n(0,o)},()=>{s()},function(){o.REDDashboard=this.checked,n(0,o)},()=>{s()}]}class Kt extends ie{constructor(e){super(),oe(this,e,qt,Gt,d,{styles:2,preferences:0})}}function Jt(e,t,n){const r=e.slice();return r[72]=t[n],r[74]=n,r}function Xt(e,t,n){const r=e.slice();return r[75]=t[n],r}function Zt(e,t,n){const r=e.slice();return r[78]=t[n],r[80]=n,r}function Qt(e,t,n){const r=e.slice();return r[81]=t[n],r[80]=n,r}function en(e,t,n){const r=e.slice();return r[75]=t[n],r}function tn(e,t,n){const r=e.slice();return r[72]=t[n],r}function nn(e){let t,n,r,o,i=e[72].name+"";function s(...t){return e[36](e[72],...t)}return{c(){t=y("li"),n=S(i),_(t,"class","tabName notCurrent svelte-1fximu5")},m(e,i){m(e,t,i),f(t,n),r||(o=b(t,"click",s),r=!0)},p(t,n){e=t},d(e){e&&g(t),r=!1,o()}}}function rn(e){let t,n,r=e[72].name+"";return{c(){t=y("li"),n=S(r),_(t,"class","tabName current svelte-1fximu5")},m(e,r){m(e,t,r),f(t,n)},p:a,d(e){e&&g(t)}}}function on(e){let t;function n(e,t){return e[72].name===e[8]?rn:nn}let r=n(e),o=r(e);return{c(){o.c(),t=x()},m(e,n){o.m(e,n),m(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&g(t)}}}function sn(e){let t,n,r,o,i;const s=[un,cn,ln,an],a=[];return~(n=function(e,t){return"General"===e[72].name?0:"Theme"===e[72].name?1:"Todos"===e[72].name?2:"Node-Red"===e[72].name?3:-1}(e))&&(r=a[n]=s[n](e)),{c(){t=y("div"),r&&r.c(),o=k(),_(t,"class","prefListPanel svelte-1fximu5")},m(e,r){m(e,t,r),~n&&a[n].m(t,null),f(t,o),i=!0},p(e,t){r&&r.p(e,t)},i(e){i||(Z(r),i=!0)},o(e){Q(r),i=!1},d(e){e&&g(t),~n&&a[n].d()}}}function an(e){let t,n;return t=new Kt({props:{preferences:e[0],styles:e[1]}}),t.$on("changeNodeRed",e[64]),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.preferences=e[0]),2&n[0]&&(r.styles=e[1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function ln(e){let t,n;return t=new zt({props:{preferences:e[0],styles:e[1]}}),t.$on("changeTodos",e[63]),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.preferences=e[0]),2&n[0]&&(r.styles=e[1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function cn(e){let t,n,r,o,i,s,a,l,c,h,d,p,x,E,M,T,D,L,N,R,O,A,$,I,B,Y,F,H,U,W,V,z,G,q,K,J,X,ee,oe,ie,se,ae,le,ce,ue,he,de,pe,fe,me,ge,ve,ye,Se,ke,xe,be,_e,we,Ee,Pe,Ce,Me,Te,De,Le,Ne,Re,Oe,Ae,$e,Ie,Be,Ye,Fe,He,Ue,je,We,Ve,ze,Ge,qe,Ke,Je,Xe,Ze,Qe,et,tt,nt,rt,ot,it,st,at,lt,ct,ut,ht,dt,pt,ft,mt,gt,vt,yt,St,kt,xt,bt,_t,wt,Et,Pt,Ct,Mt,Tt,Dt,Lt,Nt,Rt,Ot,At,$t,Bt,Yt,Ft,Ht,Ut,jt,Wt,Vt,zt,Gt,qt,Kt,Jt,en,tn,nn,rn,on,sn,an,ln,cn=e[1].editorBackground+"",un=e[1].textcolor+"",pn=e[1].appBackground+"",vn=e[1].shadowColor+"",yn=e[1].scriptMenuBackground+"",Sn=e[1].scriptMenuTextColor+"",kn=e[1].selectionBackgroundColor+"",xn=e[1].selectionColor+"",bn=e[1].selectionMenuColor+"",_n=e[1].selectionMenuBackgroundColor+"",wn=e[1].scriptMenuItemSystem+"",En=e[1].scriptMenuItemUser+"";function Pn(e,t){return"New"===e[0].style||e[4]?dn:hn}let Cn=Pn(e),Mn=Cn(e),Tn=e[1].buttons,Dn=[];for(let t=0;t<Tn.length;t+=1)Dn[t]=fn(Qt(e,Tn,t));let Ln=e[1].matchStyle,Nn=[];for(let t=0;t<Ln.length;t+=1)Nn[t]=mn(Zt(e,Ln,t));let Rn=e[15](),On=[];for(let t=0;t<Rn.length;t+=1)On[t]=gn(Xt(e,Rn,t));return on=new It({props:{item:e[5],textColor:e[1].textcolor,background:e[1].editorBackground,explainText:e[9],color:e[6],id:e[3],show:e[7]}}),on.$on("colorChanged",e[61]),on.$on("quitColorPicker",e[62]),{c(){t=y("h2"),t.textContent="Theme",n=k(),r=y("div"),o=y("label"),o.textContent="Name of theme:",i=k(),Mn.c(),s=k(),a=y("h3"),a.textContent="Circle Colors",l=k(),c=y("div");for(let e=0;e<Dn.length;e+=1)Dn[e].c();h=k(),d=y("h3"),d.textContent="Regular Expression Sub-Matches Colors",p=k(),x=y("div");for(let e=0;e<Nn.length;e+=1)Nn[e].c();E=k(),M=y("h3"),M.textContent="Various Other Colors",T=k(),D=y("div"),L=y("div"),N=y("label"),N.textContent="Editor Theme:",R=k(),O=y("select");for(let e=0;e<On.length;e+=1)On[e].c();A=k(),$=y("div"),I=y("label"),I.textContent="Editor Background",B=y("br"),Y=k(),F=y("div"),H=y("div"),U=k(),W=y("label"),V=S(cn),z=k(),G=y("div"),q=y("label"),q.textContent="Text Color",K=y("br"),J=k(),X=y("div"),ee=y("div"),oe=k(),ie=y("label"),se=S(un),ae=k(),le=y("div"),ce=y("label"),ce.textContent="Application Background",ue=y("br"),he=k(),de=y("div"),pe=y("div"),fe=k(),me=y("label"),ge=S(pn),ve=k(),ye=y("div"),Se=y("label"),Se.textContent="Shadow Color",ke=y("br"),xe=k(),be=y("div"),_e=y("div"),we=k(),Ee=y("label"),Pe=S(vn),Ce=k(),Me=y("div"),Te=y("label"),Te.textContent="Script Menu Background",De=y("br"),Le=k(),Ne=y("div"),Re=y("div"),Oe=k(),Ae=y("label"),$e=S(yn),Ie=k(),Be=y("div"),Ye=y("label"),Ye.textContent="Script Menu Text Color",Fe=y("br"),He=k(),Ue=y("div"),je=y("div"),We=k(),Ve=y("label"),ze=S(Sn),Ge=k(),qe=y("div"),Ke=y("label"),Ke.textContent="Selection Background Color",Je=y("br"),Xe=k(),Ze=y("div"),Qe=y("div"),et=k(),tt=y("label"),nt=S(kn),rt=k(),ot=y("div"),it=y("label"),it.textContent="Selection Text Color",st=y("br"),at=k(),lt=y("div"),ct=y("div"),ut=k(),ht=y("label"),dt=S(xn),pt=k(),ft=y("div"),mt=y("label"),mt.textContent="Selection Menu Color",gt=y("br"),vt=k(),yt=y("div"),St=y("div"),kt=k(),xt=y("label"),bt=S(bn),_t=k(),wt=y("div"),Et=y("label"),Et.textContent="Selection Menu Background Color",Pt=y("br"),Ct=k(),Mt=y("div"),Tt=y("div"),Dt=k(),Lt=y("label"),Nt=S(_n),Rt=k(),Ot=y("div"),At=y("label"),At.textContent="System Script Menu Item",$t=y("br"),Bt=k(),Yt=y("div"),Ft=y("div"),Ht=k(),Ut=y("label"),jt=S(wn),Wt=k(),Vt=y("div"),zt=y("label"),zt.textContent="User Script Menu Item",Gt=y("br"),qt=k(),Kt=y("div"),Jt=y("div"),en=k(),tn=y("label"),nn=S(En),rn=k(),te(on.$$.fragment),_(r,"id","themeName"),_(r,"class","svelte-1fximu5"),_(c,"class","circlePickersWrap svelte-1fximu5"),_(x,"class","circlePickersWrap svelte-1fximu5"),P(N,"margin-top","7px"),_(O,"class","prefSelector svelte-1fximu5"),P(O,"background-color",e[1].editorBackground),P(O,"color",e[1].textcolor),void 0===e[1].editorTheme&&j(()=>e[47].call(O)),_(L,"id","themeName"),_(L,"class","svelte-1fximu5"),_(I,"class","styleLabel svelte-1fximu5"),_(H,"class","circlePicker svelte-1fximu5"),P(H,"background-color",e[1].editorBackground),P(H,"border-color","black"),P(H,"border-width","2px"),P(H,"border-style","solid"),_(W,"class","circlePickerLabel svelte-1fximu5"),_(F,"class","prefColorHolder svelte-1fximu5"),_($,"class","prefColorDiv svelte-1fximu5"),_(q,"class","styleLabel svelte-1fximu5"),_(ee,"class","circlePicker svelte-1fximu5"),P(ee,"background-color",e[1].textcolor),_(ie,"class","circlePickerLabel svelte-1fximu5"),_(X,"class","prefColorHolder svelte-1fximu5"),_(G,"class","prefColorDiv svelte-1fximu5"),_(ce,"class","styleLabel svelte-1fximu5"),_(pe,"class","circlePicker svelte-1fximu5"),P(pe,"background-color",e[1].appBackground),_(me,"class","circlePickerLabel svelte-1fximu5"),_(de,"class","prefColorHolder svelte-1fximu5"),_(le,"class","prefColorDiv svelte-1fximu5"),_(Se,"class","styleLabel svelte-1fximu5"),_(_e,"class","circlePicker svelte-1fximu5"),P(_e,"background-color",e[1].shadowColor),_(Ee,"class","circlePickerLabel svelte-1fximu5"),_(be,"class","prefColorHolder svelte-1fximu5"),_(ye,"class","prefColorDiv svelte-1fximu5"),_(Te,"class","styleLabel svelte-1fximu5"),_(Re,"class","circlePicker svelte-1fximu5"),P(Re,"background-color",e[1].scriptMenuBackground),_(Ae,"class","circlePickerLabel svelte-1fximu5"),_(Ne,"class","prefColorHolder svelte-1fximu5"),_(Me,"class","prefColorDiv svelte-1fximu5"),_(Ye,"class","styleLabel svelte-1fximu5"),_(je,"class","circlePicker svelte-1fximu5"),P(je,"background-color",e[1].scriptMenuTextColor),_(Ve,"class","circlePickerLabel svelte-1fximu5"),_(Ue,"class","prefColorHolder svelte-1fximu5"),_(Be,"class","prefColorDiv svelte-1fximu5"),_(Ke,"class","styleLabel svelte-1fximu5"),_(Qe,"class","circlePicker svelte-1fximu5"),P(Qe,"background-color",e[1].selectionBackgroundColor),_(tt,"class","circlePickerLabel svelte-1fximu5"),_(Ze,"class","prefColorHolder svelte-1fximu5"),_(qe,"class","prefColorDiv svelte-1fximu5"),_(it,"class","styleLabel svelte-1fximu5"),_(ct,"class","circlePicker svelte-1fximu5"),P(ct,"background-color",e[1].selectionColor),_(ht,"class","circlePickerLabel svelte-1fximu5"),_(lt,"class","prefColorHolder svelte-1fximu5"),_(ot,"class","prefColorDiv svelte-1fximu5"),_(mt,"class","styleLabel svelte-1fximu5"),_(St,"class","circlePicker svelte-1fximu5"),P(St,"background-color",e[1].selectionMenuColor),_(xt,"class","circlePickerLabel svelte-1fximu5"),_(yt,"class","prefColorHolder svelte-1fximu5"),_(ft,"class","prefColorDiv svelte-1fximu5"),_(Et,"class","styleLabel svelte-1fximu5"),_(Tt,"class","circlePicker svelte-1fximu5"),P(Tt,"background-color",e[1].selectionMenuBackgroundColor),_(Lt,"class","circlePickerLabel svelte-1fximu5"),_(Mt,"class","prefColorHolder svelte-1fximu5"),_(wt,"class","prefColorDiv svelte-1fximu5"),_(At,"class","styleLabel svelte-1fximu5"),_(Ft,"class","circlePicker svelte-1fximu5"),P(Ft,"background-color",e[1].scriptMenuItemSystem),_(Ut,"class","circlePickerLabel svelte-1fximu5"),_(Yt,"class","prefColorHolder svelte-1fximu5"),_(Ot,"class","prefColorDiv svelte-1fximu5"),_(zt,"class","styleLabel svelte-1fximu5"),_(Jt,"class","circlePicker svelte-1fximu5"),P(Jt,"background-color",e[1].scriptMenuItemUser),_(tn,"class","circlePickerLabel svelte-1fximu5"),_(Kt,"class","prefColorHolder svelte-1fximu5"),_(Vt,"class","prefColorDiv svelte-1fximu5"),_(D,"id","variousOtherColorsDiv"),_(D,"class","svelte-1fximu5")},m(u,g){m(u,t,g),m(u,n,g),m(u,r,g),f(r,o),f(r,i),Mn.m(r,null),m(u,s,g),m(u,a,g),m(u,l,g),m(u,c,g);for(let e=0;e<Dn.length;e+=1)Dn[e].m(c,null);m(u,h,g),m(u,d,g),m(u,p,g),m(u,x,g);for(let e=0;e<Nn.length;e+=1)Nn[e].m(x,null);m(u,E,g),m(u,M,g),m(u,T,g),m(u,D,g),f(D,L),f(L,N),f(L,R),f(L,O);for(let e=0;e<On.length;e+=1)On[e].m(O,null);C(O,e[1].editorTheme),f(D,A),f(D,$),f($,I),f($,B),f($,Y),f($,F),f(F,H),f(F,U),f(F,W),f(W,V),f(D,z),f(D,G),f(G,q),f(G,K),f(G,J),f(G,X),f(X,ee),f(X,oe),f(X,ie),f(ie,se),f(D,ae),f(D,le),f(le,ce),f(le,ue),f(le,he),f(le,de),f(de,pe),f(de,fe),f(de,me),f(me,ge),f(D,ve),f(D,ye),f(ye,Se),f(ye,ke),f(ye,xe),f(ye,be),f(be,_e),f(be,we),f(be,Ee),f(Ee,Pe),f(D,Ce),f(D,Me),f(Me,Te),f(Me,De),f(Me,Le),f(Me,Ne),f(Ne,Re),f(Ne,Oe),f(Ne,Ae),f(Ae,$e),f(D,Ie),f(D,Be),f(Be,Ye),f(Be,Fe),f(Be,He),f(Be,Ue),f(Ue,je),f(Ue,We),f(Ue,Ve),f(Ve,ze),f(D,Ge),f(D,qe),f(qe,Ke),f(qe,Je),f(qe,Xe),f(qe,Ze),f(Ze,Qe),f(Ze,et),f(Ze,tt),f(tt,nt),f(D,rt),f(D,ot),f(ot,it),f(ot,st),f(ot,at),f(ot,lt),f(lt,ct),f(lt,ut),f(lt,ht),f(ht,dt),f(D,pt),f(D,ft),f(ft,mt),f(ft,gt),f(ft,vt),f(ft,yt),f(yt,St),f(yt,kt),f(yt,xt),f(xt,bt),f(D,_t),f(D,wt),f(wt,Et),f(wt,Pt),f(wt,Ct),f(wt,Mt),f(Mt,Tt),f(Mt,Dt),f(Mt,Lt),f(Lt,Nt),f(D,Rt),f(D,Ot),f(Ot,At),f(Ot,$t),f(Ot,Bt),f(Ot,Yt),f(Yt,Ft),f(Yt,Ht),f(Yt,Ut),f(Ut,jt),f(D,Wt),f(D,Vt),f(Vt,zt),f(Vt,Gt),f(Vt,qt),f(Vt,Kt),f(Kt,Jt),f(Kt,en),f(Kt,tn),f(tn,nn),m(u,rn,g),ne(on,u,g),sn=!0,an||(ln=[b(O,"change",e[47]),b(O,"change",e[48]),b(H,"click",e[49]),b(ee,"click",e[50]),b(pe,"click",e[51]),b(_e,"click",e[52]),b(Re,"click",e[53]),b(je,"click",e[54]),b(Qe,"click",e[55]),b(ct,"click",e[56]),b(St,"click",e[57]),b(Tt,"click",e[58]),b(Ft,"click",e[59]),b(Jt,"click",e[60])],an=!0)},p(e,t){if(Cn===(Cn=Pn(e))&&Mn?Mn.p(e,t):(Mn.d(1),Mn=Cn(e),Mn&&(Mn.c(),Mn.m(r,null))),2&t[0]|2&t[1]){let n;for(Tn=e[1].buttons,n=0;n<Tn.length;n+=1){const r=Qt(e,Tn,n);Dn[n]?Dn[n].p(r,t):(Dn[n]=fn(r),Dn[n].c(),Dn[n].m(c,null))}for(;n<Dn.length;n+=1)Dn[n].d(1);Dn.length=Tn.length}if(2&t[0]|1&t[1]){let n;for(Ln=e[1].matchStyle,n=0;n<Ln.length;n+=1){const r=Zt(e,Ln,n);Nn[n]?Nn[n].p(r,t):(Nn[n]=mn(r),Nn[n].c(),Nn[n].m(x,null))}for(;n<Nn.length;n+=1)Nn[n].d(1);Nn.length=Ln.length}if(32768&t[0]){let n;for(Rn=e[15](),n=0;n<Rn.length;n+=1){const r=Xt(e,Rn,n);On[n]?On[n].p(r,t):(On[n]=gn(r),On[n].c(),On[n].m(O,null))}for(;n<On.length;n+=1)On[n].d(1);On.length=Rn.length}(!sn||2&t[0])&&P(O,"background-color",e[1].editorBackground),(!sn||2&t[0])&&P(O,"color",e[1].textcolor),32770&t[0]&&C(O,e[1].editorTheme),(!sn||2&t[0])&&P(H,"background-color",e[1].editorBackground),(!sn||2&t[0])&&cn!==(cn=e[1].editorBackground+"")&&w(V,cn),(!sn||2&t[0])&&P(ee,"background-color",e[1].textcolor),(!sn||2&t[0])&&un!==(un=e[1].textcolor+"")&&w(se,un),(!sn||2&t[0])&&P(pe,"background-color",e[1].appBackground),(!sn||2&t[0])&&pn!==(pn=e[1].appBackground+"")&&w(ge,pn),(!sn||2&t[0])&&P(_e,"background-color",e[1].shadowColor),(!sn||2&t[0])&&vn!==(vn=e[1].shadowColor+"")&&w(Pe,vn),(!sn||2&t[0])&&P(Re,"background-color",e[1].scriptMenuBackground),(!sn||2&t[0])&&yn!==(yn=e[1].scriptMenuBackground+"")&&w($e,yn),(!sn||2&t[0])&&P(je,"background-color",e[1].scriptMenuTextColor),(!sn||2&t[0])&&Sn!==(Sn=e[1].scriptMenuTextColor+"")&&w(ze,Sn),(!sn||2&t[0])&&P(Qe,"background-color",e[1].selectionBackgroundColor),(!sn||2&t[0])&&kn!==(kn=e[1].selectionBackgroundColor+"")&&w(nt,kn),(!sn||2&t[0])&&P(ct,"background-color",e[1].selectionColor),(!sn||2&t[0])&&xn!==(xn=e[1].selectionColor+"")&&w(dt,xn),(!sn||2&t[0])&&P(St,"background-color",e[1].selectionMenuColor),(!sn||2&t[0])&&bn!==(bn=e[1].selectionMenuColor+"")&&w(bt,bn),(!sn||2&t[0])&&P(Tt,"background-color",e[1].selectionMenuBackgroundColor),(!sn||2&t[0])&&_n!==(_n=e[1].selectionMenuBackgroundColor+"")&&w(Nt,_n),(!sn||2&t[0])&&P(Ft,"background-color",e[1].scriptMenuItemSystem),(!sn||2&t[0])&&wn!==(wn=e[1].scriptMenuItemSystem+"")&&w(jt,wn),(!sn||2&t[0])&&P(Jt,"background-color",e[1].scriptMenuItemUser),(!sn||2&t[0])&&En!==(En=e[1].scriptMenuItemUser+"")&&w(nn,En);const n={};32&t[0]&&(n.item=e[5]),2&t[0]&&(n.textColor=e[1].textcolor),2&t[0]&&(n.background=e[1].editorBackground),512&t[0]&&(n.explainText=e[9]),64&t[0]&&(n.color=e[6]),8&t[0]&&(n.id=e[3]),128&t[0]&&(n.show=e[7]),on.$set(n)},i(e){sn||(Z(on.$$.fragment,e),sn=!0)},o(e){Q(on.$$.fragment,e),sn=!1},d(e){e&&g(t),e&&g(n),e&&g(r),Mn.d(),e&&g(s),e&&g(a),e&&g(l),e&&g(c),v(Dn,e),e&&g(h),e&&g(d),e&&g(p),e&&g(x),v(Nn,e),e&&g(E),e&&g(M),e&&g(T),e&&g(D),v(On,e),e&&g(rn),re(on,e),an=!1,u(ln)}}}function un(e){let t,n,r,o,i,s,l,c,h,d,p,v,S,x,w,E,M,T,D,L,N,R,O,A,$,I,B,Y,F,H,U,W,V,z;return{c(){t=y("h2"),t.textContent="General",n=k(),r=y("div"),o=y("label"),o.textContent="Use line numbers in the code editor?",i=k(),s=y("input"),l=k(),c=y("div"),h=y("label"),h.textContent="Use line numbers in the note editor?",d=k(),p=y("input"),v=k(),S=y("div"),x=y("label"),x.textContent="Note Editor KeyMap:",w=k(),E=y("select"),M=y("option"),M.textContent="Sublime",T=y("option"),T.textContent="Vim",D=y("option"),D.textContent="Emacs",L=k(),N=y("div"),R=y("label"),R.textContent="Code Editor KeyMap:",O=k(),A=y("select"),$=y("option"),$.textContent="Sublime",I=y("option"),I.textContent="Vim",B=y("option"),B.textContent="Emacs",Y=k(),F=y("div"),H=y("label"),H.textContent="Clear Cache on Exit?",U=k(),W=y("input"),_(o,"class","styleLabel svelte-1fximu5"),_(s,"class","PrefCheck svelte-1fximu5"),_(s,"type","checkbox"),_(r,"class","labelRadialHolder svelte-1fximu5"),_(h,"class","styleLabel svelte-1fximu5"),_(p,"class","PrefCheck svelte-1fximu5"),_(p,"type","checkbox"),_(c,"class","labelRadialHolder svelte-1fximu5"),_(x,"class","styleLabel svelte-1fximu5"),M.__value="sublime",M.value=M.__value,T.__value="vim",T.value=T.__value,D.__value="emacs",D.value=D.__value,_(E,"class","prefSelector svelte-1fximu5"),P(E,"background-color",e[1].editorBackground),P(E,"color",e[1].textcolor),void 0===e[0].noteKeyMap&&j(()=>e[39].call(E)),_(S,"class","labelRadialHolder svelte-1fximu5"),_(R,"class","styleLabel svelte-1fximu5"),$.__value="sublime",$.value=$.__value,I.__value="vim",I.value=I.__value,B.__value="emacs",B.value=B.__value,_(A,"class","prefSelector svelte-1fximu5"),P(A,"background-color",e[1].editorBackground),P(A,"color",e[1].textcolor),void 0===e[0].scriptKeyMap&&j(()=>e[40].call(A)),_(N,"class","labelRadialHolder svelte-1fximu5"),_(H,"class","styleLabel svelte-1fximu5"),_(W,"class","PrefCheck svelte-1fximu5"),_(W,"type","checkbox"),_(F,"class","labelRadialHolder svelte-1fximu5")},m(a,u){m(a,t,u),m(a,n,u),m(a,r,u),f(r,o),f(r,i),f(r,s),s.checked=e[0].codeLineNumbers,m(a,l,u),m(a,c,u),f(c,h),f(c,d),f(c,p),p.checked=e[0].noteLineNumbers,m(a,v,u),m(a,S,u),f(S,x),f(S,w),f(S,E),f(E,M),f(E,T),f(E,D),C(E,e[0].noteKeyMap),m(a,L,u),m(a,N,u),f(N,R),f(N,O),f(N,A),f(A,$),f(A,I),f(A,B),C(A,e[0].scriptKeyMap),m(a,Y,u),m(a,F,u),f(F,H),f(F,U),f(F,W),W.checked=e[0].clearCache,V||(z=[b(s,"change",e[37]),b(p,"change",e[38]),b(E,"change",e[39]),b(A,"change",e[40]),b(W,"change",e[41])],V=!0)},p(e,t){536870913&t[0]&&(s.checked=e[0].codeLineNumbers),536870913&t[0]&&(p.checked=e[0].noteLineNumbers),2&t[0]&&P(E,"background-color",e[1].editorBackground),2&t[0]&&P(E,"color",e[1].textcolor),536870913&t[0]&&C(E,e[0].noteKeyMap),2&t[0]&&P(A,"background-color",e[1].editorBackground),2&t[0]&&P(A,"color",e[1].textcolor),536870913&t[0]&&C(A,e[0].scriptKeyMap),536870913&t[0]&&(W.checked=e[0].clearCache)},i:a,o:a,d(e){e&&g(t),e&&g(n),e&&g(r),e&&g(l),e&&g(c),e&&g(v),e&&g(S),e&&g(L),e&&g(N),e&&g(Y),e&&g(F),V=!1,u(z)}}}function hn(e){let t,n,r,o=e[29](),i=[];for(let t=0;t<o.length;t+=1)i[t]=pn(en(e,o,t));return{c(){t=y("select");for(let e=0;e<i.length;e+=1)i[e].c();_(t,"class","prefSelector svelte-1fximu5"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor),void 0===e[0].style&&j(()=>e[43].call(t))},m(o,s){m(o,t,s);for(let e=0;e<i.length;e+=1)i[e].m(t,null);C(t,e[0].style),n||(r=[b(t,"change",e[43]),b(t,"change",e[44])],n=!0)},p(e,n){if(536870912&n[0]){let r;for(o=e[29](),r=0;r<o.length;r+=1){const s=en(e,o,r);i[r]?i[r].p(s,n):(i[r]=pn(s),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}2&n[0]&&P(t,"background-color",e[1].editorBackground),2&n[0]&&P(t,"color",e[1].textcolor),536870913&n[0]&&C(t,e[0].style)},d(e){e&&g(t),v(i,e),n=!1,u(r)}}}function dn(e){let t,n,r;return{c(){t=y("input"),_(t,"class","prefInput svelte-1fximu5"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor)},m(o,i){m(o,t,i),E(t,e[0].style),n||(r=b(t,"input",e[42]),n=!0)},p(e,n){2&n[0]&&P(t,"background-color",e[1].editorBackground),2&n[0]&&P(t,"color",e[1].textcolor),536870913&n[0]&&t.value!==e[0].style&&E(t,e[0].style)},d(e){e&&g(t),n=!1,r()}}}function pn(e){let t,n,r=e[75]+"";return{c(){t=y("option"),n=S(r),t.__value=e[75],t.value=t.__value},m(e,r){m(e,t,r),f(t,n)},p:a,d(e){e&&g(t)}}}function fn(e){let t,n,r,o,i,s,a,l,c,u,h,d,p=e[80]+1+"",v=e[81].color+"";function x(...t){return e[45](e[81],...t)}return{c(){t=y("div"),n=y("label"),r=S("#"),o=S(p),i=k(),s=y("div"),a=k(),l=y("label"),c=S(v),u=k(),_(n,"class","circlePickerLabel svelte-1fximu5"),_(s,"class","circlePicker svelte-1fximu5"),P(s,"background-color",e[81].color),_(l,"class","circlePickerLabel svelte-1fximu5"),_(t,"class","circlePickerWrap svelte-1fximu5")},m(e,p){m(e,t,p),f(t,n),f(n,r),f(n,o),f(t,i),f(t,s),f(t,a),f(t,l),f(l,c),f(t,u),h||(d=b(s,"click",x),h=!0)},p(t,n){e=t,2&n[0]&&P(s,"background-color",e[81].color),2&n[0]&&v!==(v=e[81].color+"")&&w(c,v)},d(e){e&&g(t),h=!1,d()}}}function mn(e){let t,n,r,o,i,s,a,l,c,u,h,d,p=e[80]+1+"",v=e[78]+"";function x(...t){return e[46](e[78],e[80],...t)}return{c(){t=y("div"),n=y("label"),r=S("#"),o=S(p),i=k(),s=y("div"),a=k(),l=y("label"),c=S(v),u=k(),_(n,"class","circlePickerLabel svelte-1fximu5"),_(s,"class","circlePicker svelte-1fximu5"),P(s,"background-color",e[78]),_(l,"class","circlePickerLabel svelte-1fximu5"),_(t,"class","circlePickerWrap svelte-1fximu5")},m(e,p){m(e,t,p),f(t,n),f(n,r),f(n,o),f(t,i),f(t,s),f(t,a),f(t,l),f(l,c),f(t,u),h||(d=b(s,"click",x),h=!0)},p(t,n){e=t,2&n[0]&&P(s,"background-color",e[78]),2&n[0]&&v!==(v=e[78]+"")&&w(c,v)},d(e){e&&g(t),h=!1,d()}}}function gn(e){let t,n,r=e[75]+"";return{c(){t=y("option"),n=S(r),t.__value=e[75],t.value=t.__value},m(e,r){m(e,t,r),f(t,n)},p:a,d(e){e&&g(t)}}}function vn(e){let t,n,r=e[72].name===e[8]&&sn(e);return{c(){r&&r.c(),t=x()},m(e,o){r&&r.m(e,o),m(e,t,o),n=!0},p(e,n){e[72].name===e[8]?r?(r.p(e,n),256&n[0]&&Z(r,1)):(r=sn(e),r.c(),Z(r,1),r.m(t.parentNode,t)):r&&(J(),Q(r,1,1,()=>{r=null}),X())},i(e){n||(Z(r),n=!0)},o(e){Q(r),n=!1},d(e){r&&r.d(e),e&&g(t)}}}function yn(e){let t,n,r,o,i,s,a,l,c,h,d,x,w,E,C,M=e[10],T=[];for(let t=0;t<M.length;t+=1)T[t]=on(tn(e,M,t));let D=e[10],L=[];for(let t=0;t<D.length;t+=1)L[t]=vn(Jt(e,D,t));const N=e=>Q(L[e],1,1,()=>{L[e]=null});return{c(){t=y("div"),n=y("ul");for(let e=0;e<T.length;e+=1)T[e].c();r=k(),o=y("div");for(let e=0;e<L.length;e+=1)L[e].c();i=k(),s=y("div"),a=y("button"),l=S("Save Styles & Preference"),c=k(),h=y("button"),d=S("Quit Preferences"),_(n,"id","tabs"),_(n,"class","svelte-1fximu5"),_(o,"id","prefListWrap"),_(o,"class","svelte-1fximu5"),P(a,"background-color",e[1].editorBackground),P(a,"color",e[1].textcolor),_(a,"class","svelte-1fximu5"),P(h,"background-color",e[1].editorBackground),P(h,"color",e[1].textcolor),_(h,"class","svelte-1fximu5"),_(s,"id","buttonPanel"),_(s,"class","svelte-1fximu5"),_(t,"id","PreferencePanel"),_(t,"class",x=p(e[2]?"visible":"invisible")+" svelte-1fximu5"),P(t,"background-color",e[1].editorBackground)},m(u,p){m(u,t,p),f(t,n);for(let e=0;e<T.length;e+=1)T[e].m(n,null);f(t,r),f(t,o);for(let e=0;e<L.length;e+=1)L[e].m(o,null);f(t,i),f(t,s),f(s,a),f(a,l),f(s,c),f(s,h),f(h,d),w=!0,E||(C=[b(a,"click",e[65]),b(h,"click",e[66])],E=!0)},p(e,r){if(1280&r[0]|4&r[1]){let t;for(M=e[10],t=0;t<M.length;t+=1){const o=tn(e,M,t);T[t]?T[t].p(o,r):(T[t]=on(o),T[t].c(),T[t].m(n,null))}for(;t<T.length;t+=1)T[t].d(1);T.length=M.length}if(2147465211&r[0]|3&r[1]){let t;for(D=e[10],t=0;t<D.length;t+=1){const n=Jt(e,D,t);L[t]?(L[t].p(n,r),Z(L[t],1)):(L[t]=vn(n),L[t].c(),Z(L[t],1),L[t].m(o,null))}for(J(),t=D.length;t<L.length;t+=1)N(t);X()}(!w||2&r[0])&&P(a,"background-color",e[1].editorBackground),(!w||2&r[0])&&P(a,"color",e[1].textcolor),(!w||2&r[0])&&P(h,"background-color",e[1].editorBackground),(!w||2&r[0])&&P(h,"color",e[1].textcolor),(!w||4&r[0]&&x!==(x=p(e[2]?"visible":"invisible")+" svelte-1fximu5"))&&_(t,"class",x),(!w||2&r[0])&&P(t,"background-color",e[1].editorBackground)},i(e){if(!w){for(let e=0;e<D.length;e+=1)Z(L[e]);w=!0}},o(e){L=L.filter(Boolean);for(let e=0;e<L.length;e+=1)Q(L[e]);w=!1},d(e){e&&g(t),v(T,e),v(L,e),E=!1,u(C)}}}function Sn(e,t,n){const r=O();let o,{openPanel:i=!1}=t,{styles:s={}}=t,{preferences:a={}}=t,{currentID:l=0}=t,{ScriptPad:c={}}=t,u="",h=0,d=!1,p="General",f=!1,m=!1,g=!1,v="";function y(e,t){r(e,{data:t})}function S(e){n(0,a.taskpaper=e.taskpaper,a),n(0,a.UseTaskPaper=e.UseTaskPaper,a),n(0,a.UseNotePlan=e.UseNotePlan,a),x()}function k(e){n(0,a.REDAuto=e.auto,a),n(0,a.REDDashboard=e.dashboard,a),x()}function x(){y("changeStyles",s),y("changePreferences",a),n(4,g=!1)}function b(){return c.getEditorThemes()}function _(){n(6,u=s.editorBackground),n(3,h="edbk"),n(5,v="Editor Background"),n(7,d=!0)}function w(){n(6,u=s.textcolor),n(3,h="edtc"),n(5,v="Text Color"),n(7,d=!0)}function E(){n(6,u=s.appBackground),n(3,h="edab"),n(5,v="Application Background Color"),n(7,d=!0)}function P(){n(6,u=s.shadowColor),n(3,h="edsc"),n(5,v="Shadow Color"),n(7,d=!0)}function C(){n(6,u=s.scriptMenuBackground),n(3,h="edsmbk"),n(5,v="Script Menu Background Color"),n(7,d=!0)}function T(){n(6,u=s.scriptMenuTextColor),n(3,h="edsmtc"),n(5,v="Script Menu Text Color"),n(7,d=!0)}function D(){n(6,u=s.selectionBackgroundColor),n(3,h="edsbk"),n(5,v="Selection Background Color"),n(7,d=!0)}function L(){n(6,u=s.selectionColor),n(3,h="edstc"),n(5,v="Selection Text Color"),n(7,d=!0)}function N(){n(6,u=s.selectionMenuColor),n(3,h="edsmc"),n(5,v="Selection Menu Color"),n(7,d=!0)}function R(){n(6,u=s.selectionMenuBackgroundColor),n(3,h="edsmbc"),n(5,v="Selection Menu Background Color"),n(7,d=!0)}function A(){n(6,u=s.scriptMenuItemUser),n(3,h="edsmuc"),n(5,v="Script Menu User Color"),n(7,d=!0)}function $(){n(6,u=s.scriptMenuItemSystem),n(3,h="edsmsc"),n(5,v="Script Menu  Color"),n(7,d=!0)}function I(){var e;g||(e=a.style,globalThis.style=c.getStyleFile(e),globalThis.style.buttons[l].selected=!0,y("changeStyles",globalThis.style))}function B(){return c.getStyleNames()}function Y(e,t){if(m)n(1,s.buttons[e].color=t,s);else if(f)n(1,s.matchStyle[e]=t,s);else switch(e){case"edbk":n(1,s.editorBackground=t,s);break;case"edtc":n(1,s.textcolor=t,s);break;case"edab":n(1,s.appBackground=t,s);break;case"edsc":n(1,s.shadowColor=t,s);break;case"edsmtc":n(1,s.scriptMenuTextColor=t,s);break;case"edsbk":n(1,s.selectionBackgroundColor=t,s);break;case"edsmbk":n(1,s.scriptMenuBackground=t,s);break;case"edstc":n(1,s.selectionColor=t,s);break;case"edsmc":n(1,s.selectionMenuColor=t,s);break;case"edsmbc":n(1,s.selectionMenuBackgroundColor=t,s);break;case"edsmuc":n(1,s.scriptMenuItemUser=t,s);break;case"edsmsc":n(1,s.scriptMenuItemSystem=t,s);break;default:console.log("Invalid id.")}n(7,d=!1),m=!1,f=!1}function F(e,t,r){n(6,u=t),n(3,h=r),n(7,d=!0),f=!0,m=!1,n(5,v="SubExpression")}function H(e,t){n(6,u=t.color),n(3,h=t.id),n(7,d=!0),f=!1,m=!0,n(5,v="Circle")}function U(e){n(8,p=e)}return e.$$set=e=>{"openPanel"in e&&n(2,i=e.openPanel),"styles"in e&&n(1,s=e.styles),"preferences"in e&&n(0,a=e.preferences),"currentID"in e&&n(34,l=e.currentID),"ScriptPad"in e&&n(35,c=e.ScriptPad)},e.$$.update=()=>{var t,r;17&e.$$.dirty[0]&&(t=a.style,r=g,"New"!==t||r||n(4,g=!0)),40&e.$$.dirty[0]&&n(9,o=Number.isInteger(h)?"#"+(h+1)+" of "+v:v+" Color")},[a,s,i,h,g,v,u,d,p,o,[{name:"General"},{name:"Theme"},{name:"Todos"},{name:"Node-Red"}],y,S,k,x,b,_,w,E,P,C,T,D,L,N,R,A,$,I,B,Y,F,H,U,l,c,(e,t)=>{U(e.name)},function(){a.codeLineNumbers=this.checked,n(0,a),n(29,B)},function(){a.noteLineNumbers=this.checked,n(0,a),n(29,B)},function(){a.noteKeyMap=M(this),n(0,a),n(29,B)},function(){a.scriptKeyMap=M(this),n(0,a),n(29,B)},function(){a.clearCache=this.checked,n(0,a),n(29,B)},function(){a.style=this.value,n(0,a),n(29,B)},function(){a.style=M(this),n(0,a),n(29,B)},e=>{I()},(e,t)=>{H(0,e)},(e,t,n)=>{F(0,e,t)},function(){s.editorTheme=M(this),n(1,s),n(15,b)},e=>{console.log("Editor Theme Change.")},e=>{_()},e=>{w()},e=>{E()},e=>{P()},e=>{C()},e=>{T()},e=>{D()},e=>{L()},e=>{N()},e=>{R()},e=>{$()},e=>{A()},e=>{Y(e.detail.data.id,e.detail.data.color)},e=>{n(7,d=!1)},e=>{S(e.detail.data)},e=>{k(e.detail.data)},e=>{x()},e=>{y("quitPreferences",{}),n(4,g=!1)}]}class kn extends ie{constructor(e){super(),oe(this,e,Sn,yn,d,{openPanel:2,styles:1,preferences:0,currentID:34,ScriptPad:35},[-1,-1,-1])}}function xn(e){let t,n;return{c(){t=y("div"),n=y("div"),_(n,"id","HeaderInside"),P(n,"border-bottom-color",e[0]),_(n,"class","svelte-1h9uwn2"),_(t,"id","HeaderOutside"),_(t,"class","svelte-1h9uwn2")},m(e,r){m(e,t,r),f(t,n)},p(e,[t]){1&t&&P(n,"border-bottom-color",e[0])},i:a,o:a,d(e){e&&g(t)}}}function bn(e,t,n){let{background:r="red"}=t;return e.$$set=e=>{"background"in e&&n(0,r=e.background)},[r]}class _n extends ie{constructor(e){super(),oe(this,e,bn,xn,d,{background:0})}}function wn(e,t,n){const r=e.slice();return r[8]=t[n],r}function En(e){let t,n,r,o,i,s,a=e[8]+"";function l(){return e[6](e[8])}return{c(){t=y("li"),n=y("span"),r=S(a),o=k(),_(n,"class","scriptName svelte-jtoj0l")},m(e,a){m(e,t,a),f(t,n),f(n,r),f(t,o),i||(s=b(n,"click",l),i=!0)},p(t,n){e=t,2&n&&a!==(a=e[8]+"")&&w(r,a)},d(e){e&&g(t),i=!1,s()}}}function Pn(e){let t,n,r,o,i,s,l,c,u,h,d=e[1],p=[];for(let t=0;t<d.length;t+=1)p[t]=En(wn(e,d,t));return{c(){t=y("div"),n=y("h1"),n.textContent="External Scripts",r=k(),o=y("ol");for(let e=0;e<p.length;e+=1)p[e].c();i=k(),s=y("div"),l=y("button"),c=S("New Script"),_(n,"class","svelte-jtoj0l"),_(o,"class","svelte-jtoj0l"),_(l,"id","new"),_(l,"class","buttonStyle svelte-jtoj0l"),_(l,"type","button"),P(l,"background-color",e[0].editorBackground),P(l,"color",e[0].textcolor),_(s,"id","buttonRow"),_(s,"class","svelte-jtoj0l"),_(t,"id","scriptlist"),_(t,"class","svelte-jtoj0l")},m(a,d){m(a,t,d),f(t,n),f(t,r),f(t,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);f(t,i),f(t,s),f(s,l),f(l,c),u||(h=b(l,"click",e[3]),u=!0)},p(e,[t]){if(6&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const r=wn(e,d,n);p[n]?p[n].p(r,t):(p[n]=En(r),p[n].c(),p[n].m(o,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}1&t&&P(l,"background-color",e[0].editorBackground),1&t&&P(l,"color",e[0].textcolor)},i:a,o:a,d(e){e&&g(t),v(p,e),u=!1,h()}}}function Cn(e,t,n){let{config:r}=t,{ScriptPad:o}=t,{styles:i}=t,s=[];const a=O();function l(e){a("changeView",{view:"script",config:{script:e}})}N(()=>{n(1,s=o.listExtScripts())});return e.$$set=e=>{"config"in e&&n(4,r=e.config),"ScriptPad"in e&&n(5,o=e.ScriptPad),"styles"in e&&n(0,i=e.styles)},[i,s,l,function(){a("changeView",{view:"script",config:{script:"new"}})},r,o,e=>{l(e)}]}class Mn extends ie{constructor(e){super(),oe(this,e,Cn,Pn,d,{config:4,ScriptPad:5,styles:0})}}function Tn(e,t,n){const r=e.slice();return r[14]=t[n],r}function Dn(e){let t,n,r,o,i,s,a,l,c,h,d,p,f,S,x,w,P,M=e[2],T=[];for(let t=0;t<M.length;t+=1)T[t]=Ln(Tn(e,M,t));return{c(){t=y("label"),t.textContent="Name of Script",n=k(),r=y("input"),o=k(),i=y("label"),i.textContent="What is the name of the Script file?",s=k(),a=y("input"),l=k(),c=y("label"),c.textContent="What is the directory for the script?",h=k(),d=y("input"),p=k(),f=y("label"),f.textContent="What is the environment for the script?",S=k(),x=y("select");for(let e=0;e<T.length;e+=1)T[e].c();_(t,"id","scriptName"),_(t,"for","scriptName"),_(r,"id","scriptName"),_(r,"name","scriptName"),_(i,"id","scriptScript"),_(i,"for","scriptScript"),_(a,"id","scriptScript"),_(a,"name","scriptScript"),_(c,"id","scriptPath"),_(c,"for","scriptPath"),_(d,"id","scriptPath"),_(d,"name","scriptPath"),_(f,"id","scriptEnv"),_(f,"for","scriptEnv"),_(x,"id","scriptEnv"),_(x,"name","scriptEnv"),void 0===e[1].env&&j(()=>e[11].call(x))},m(u,g){m(u,t,g),m(u,n,g),m(u,r,g),E(r,e[1].name),m(u,o,g),m(u,i,g),m(u,s,g),m(u,a,g),E(a,e[1].script),m(u,l,g),m(u,c,g),m(u,h,g),m(u,d,g),E(d,e[1].path),m(u,p,g),m(u,f,g),m(u,S,g),m(u,x,g);for(let e=0;e<T.length;e+=1)T[e].m(x,null);C(x,e[1].env),w||(P=[b(r,"blur",e[3]),b(r,"input",e[8]),b(a,"blur",e[3]),b(a,"input",e[9]),b(d,"blur",e[3]),b(d,"input",e[10]),b(x,"blur",e[3]),b(x,"change",e[11])],w=!0)},p(e,t){if(6&t&&r.value!==e[1].name&&E(r,e[1].name),6&t&&a.value!==e[1].script&&E(a,e[1].script),6&t&&d.value!==e[1].path&&E(d,e[1].path),4&t){let n;for(M=e[2],n=0;n<M.length;n+=1){const r=Tn(e,M,n);T[n]?T[n].p(r,t):(T[n]=Ln(r),T[n].c(),T[n].m(x,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=M.length}6&t&&C(x,e[1].env)},d(e){e&&g(t),e&&g(n),e&&g(r),e&&g(o),e&&g(i),e&&g(s),e&&g(a),e&&g(l),e&&g(c),e&&g(h),e&&g(d),e&&g(p),e&&g(f),e&&g(S),e&&g(x),v(T,e),w=!1,u(P)}}}function Ln(e){let t,n,r,o=e[14]+"";return{c(){t=y("option"),n=S(o),t.__value=r=e[14],t.value=t.__value},m(e,r){m(e,t,r),f(t,n)},p(e,i){4&i&&o!==(o=e[14]+"")&&w(n,o),4&i&&r!==(r=e[14])&&(t.__value=r,t.value=t.__value)},d(e){e&&g(t)}}}function Nn(e){let t,n,r,o,i,s,l,c,h,d,p=void 0!==e[1]&&void 0!==e[2]&&Dn(e);return{c(){t=y("div"),p&&p.c(),n=k(),r=y("div"),o=y("button"),i=S("Return"),s=k(),l=y("button"),c=S("Delete"),_(o,"class","buttonStyle svelte-98jqa1"),_(o,"type","button"),P(o,"background-color",e[0].editorBackground),P(o,"color",e[0].textcolor),_(l,"class","buttonStyle svelte-98jqa1"),_(l,"type","button"),P(l,"background-color",e[0].editorBackground),P(l,"color",e[0].textcolor),_(r,"id","buttonRow"),_(t,"id","script"),P(t,"color",e[0].textcolor),P(t,"background-color",e[0].appBackground),_(t,"class","svelte-98jqa1")},m(a,u){m(a,t,u),p&&p.m(t,null),f(t,n),f(t,r),f(r,o),f(o,i),f(r,s),f(r,l),f(l,c),h||(d=[b(o,"click",e[12]),b(l,"click",e[4])],h=!0)},p(e,[r]){void 0!==e[1]&&void 0!==e[2]?p?p.p(e,r):(p=Dn(e),p.c(),p.m(t,n)):p&&(p.d(1),p=null),1&r&&P(o,"background-color",e[0].editorBackground),1&r&&P(o,"color",e[0].textcolor),1&r&&P(l,"background-color",e[0].editorBackground),1&r&&P(l,"color",e[0].textcolor),1&r&&P(t,"color",e[0].textcolor),1&r&&P(t,"background-color",e[0].appBackground)},i:a,o:a,d(e){e&&g(t),p&&p.d(),h=!1,u(d)}}}function Rn(e,t,n){let r,o,{config:i}=t,{ScriptPad:s}=t,{styles:a}=t;const l=O();function c(){""!==r.name&&null!==r.name&&"new"!==r.name&&s.addExtScript(r)}function u(){l("changeView",{view:"lists",config:{}})}N(()=>{"new"!==i.script?n(1,r=s.getExtScript(i.script)):n(1,r={name:"new",script:"",path:"",env:""}),n(2,o=s.getEnvNames())});return e.$$set=e=>{"config"in e&&n(6,i=e.config),"ScriptPad"in e&&n(7,s=e.ScriptPad),"styles"in e&&n(0,a=e.styles)},[a,r,o,c,function(){s.removeExtScript(r.name),U(),u()},u,i,s,function(){r.name=this.value,n(1,r),n(2,o)},function(){r.script=this.value,n(1,r),n(2,o)},function(){r.path=this.value,n(1,r),n(2,o)},function(){r.env=M(this),n(1,r),n(2,o)},()=>{c(),u()}]}class On extends ie{constructor(e){super(),oe(this,e,Rn,Nn,d,{config:6,ScriptPad:7,styles:0})}}function An(e,t,n){const r=e.slice();return r[11]=t[n],r}function $n(e){let t,n,r,o,i,s,a=e[11]+"";function l(){return e[8](e[11])}return{c(){t=y("li"),n=y("span"),r=S(a),o=k(),_(n,"class","envName svelte-qye8vk")},m(e,a){m(e,t,a),f(t,n),f(n,r),f(t,o),i||(s=b(n,"click",l),i=!0)},p(t,n){e=t,2&n&&a!==(a=e[11]+"")&&w(r,a)},d(e){e&&g(t),i=!1,s()}}}function In(e){let t,n,r,o;return{c(){t=y("button"),n=S("Create Default"),_(t,"id","default"),_(t,"class","buttonStyle svelte-qye8vk"),P(t,"background-color",e[0].editorBackground),P(t,"color",e[0].textcolor),_(t,"type","button")},m(i,s){m(i,t,s),f(t,n),r||(o=b(t,"click",e[5]),r=!0)},p(e,n){1&n&&P(t,"background-color",e[0].editorBackground),1&n&&P(t,"color",e[0].textcolor)},d(e){e&&g(t),r=!1,o()}}}function Bn(e){let t,n,r,o,i,s,l,c,u,h,d,p=e[1],x=[];for(let t=0;t<p.length;t+=1)x[t]=$n(An(e,p,t));let w=e[2]&&In(e);return{c(){t=y("div"),n=y("h1"),n.textContent="Environments",r=k(),o=y("ol");for(let e=0;e<x.length;e+=1)x[e].c();i=k(),s=y("div"),l=y("button"),c=S("New Environment"),u=k(),w&&w.c(),_(n,"class","svelte-qye8vk"),_(o,"class","svelte-qye8vk"),_(l,"id","new"),_(l,"class","buttonStyle svelte-qye8vk"),P(l,"background-color",e[0].editorBackground),P(l,"color",e[0].textcolor),_(l,"type","button"),_(s,"id","buttonRow"),_(s,"class","svelte-qye8vk"),_(t,"id","envlist"),_(t,"class","svelte-qye8vk")},m(a,p){m(a,t,p),f(t,n),f(t,r),f(t,o);for(let e=0;e<x.length;e+=1)x[e].m(o,null);f(t,i),f(t,s),f(s,l),f(l,c),f(s,u),w&&w.m(s,null),h||(d=b(l,"click",e[3]),h=!0)},p(e,[t]){if(18&t){let n;for(p=e[1],n=0;n<p.length;n+=1){const r=An(e,p,n);x[n]?x[n].p(r,t):(x[n]=$n(r),x[n].c(),x[n].m(o,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=p.length}1&t&&P(l,"background-color",e[0].editorBackground),1&t&&P(l,"color",e[0].textcolor),e[2]?w?w.p(e,t):(w=In(e),w.c(),w.m(s,null)):w&&(w.d(1),w=null)},i:a,o:a,d(e){e&&g(t),v(x,e),w&&w.d(),h=!1,d()}}}function Yn(e,t,n){let{config:r}=t,{ScriptPad:o}=t,{styles:i}=t,s=[],a=!1;const l=O();function c(e){l("changeView",{view:"env",config:{env:e}})}N(()=>{n(1,s=o.getEnvNames());var e=s.filter(e=>"Default"===e);Array.isArray(e)&&0===e.length&&n(2,a=!0)});return e.$$set=e=>{"config"in e&&n(6,r=e.config),"ScriptPad"in e&&n(7,o=e.ScriptPad),"styles"in e&&n(0,i=e.styles)},[i,s,a,function(){l("changeView",{view:"env",config:{env:"new",envVar:[]}})},c,function(){var e=o.createDefaultEnv();o.addEnv(e),l("changeView",{view:"env",config:{env:"Default"}})},r,o,e=>{c(e)}]}class Fn extends ie{constructor(e){super(),oe(this,e,Yn,Bn,d,{config:6,ScriptPad:7,styles:0})}}function Hn(e){let t,n,r,o,i,s,l,c,u,h;return{c(){t=y("tr"),n=y("td"),n.innerHTML="<span>✏️</span>",r=k(),o=y("td"),o.innerHTML="<span>❌</span>",i=k(),s=y("td"),l=S(e[0]),c=k(),u=y("td"),h=S(e[1]),_(n,"class","editTD svelte-j6ke92"),_(o,"class","deleteTD svelte-j6ke92")},m(e,a){m(e,t,a),f(t,n),f(t,r),f(t,o),f(t,i),f(t,s),f(s,l),f(t,c),f(t,u),f(u,h)},p(e,[t]){1&t&&w(l,e[0]),2&t&&w(h,e[1])},i:a,o:a,d(e){e&&g(t)}}}function Un(e,t,n){let{name:r}=t,{value:o}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"value"in e&&n(1,o=e.value)},[r,o]}class jn extends ie{constructor(e){super(),oe(this,e,Un,Hn,d,{name:0,value:1})}}function Wn(e,t,n){const r=e.slice();return r[17]=t[n],r}function Vn(e){let t,n,r,o,i,s,a,l,c="undefined"!==e[1].envVar&&zn(e);return{c(){t=y("label"),t.textContent="Name of the Environment",n=k(),r=y("input"),o=k(),c&&c.c(),i=x(),_(t,"id","envName"),_(t,"for","envName"),_(r,"id","envName"),_(r,"name","envName")},m(u,h){m(u,t,h),m(u,n,h),m(u,r,h),E(r,e[1].name),m(u,o,h),c&&c.m(u,h),m(u,i,h),s=!0,a||(l=[b(r,"blur",e[5]),b(r,"input",e[11])],a=!0)},p(e,t){2&t&&r.value!==e[1].name&&E(r,e[1].name),"undefined"!==e[1].envVar?c?(c.p(e,t),2&t&&Z(c,1)):(c=zn(e),c.c(),Z(c,1),c.m(i.parentNode,i)):c&&(J(),Q(c,1,1,()=>{c=null}),X())},i(e){s||(Z(c),s=!0)},o(e){Q(c),s=!1},d(e){e&&g(t),e&&g(n),e&&g(r),e&&g(o),c&&c.d(e),e&&g(i),a=!1,u(l)}}}function zn(e){let t,n,r,o,i,s,a,l=Object.entries(e[1].envVar),c=[];for(let t=0;t<l.length;t+=1)c[t]=Gn(Wn(e,l,t));const u=e=>Q(c[e],1,1,()=>{c[e]=null});function h(e,t){return e[2]?Kn:qn}let d=h(e),p=d(e);return{c(){t=y("div"),n=y("table"),r=y("thead"),r.innerHTML='<tr><th class="svelte-fmh02v"></th> \n              <th class="svelte-fmh02v"></th> \n              <th class="svelte-fmh02v">Name</th> \n              <th class="svelte-fmh02v">Value</th></tr>',o=k(),i=y("tbody");for(let e=0;e<c.length;e+=1)c[e].c();s=k(),p.c(),_(t,"id","EnvTable"),_(t,"class","svelte-fmh02v")},m(e,l){m(e,t,l),f(t,n),f(n,r),f(n,o),f(n,i);for(let e=0;e<c.length;e+=1)c[e].m(i,null);f(i,s),p.m(i,null),a=!0},p(e,t){if(2&t){let n;for(l=Object.entries(e[1].envVar),n=0;n<l.length;n+=1){const r=Wn(e,l,n);c[n]?(c[n].p(r,t),Z(c[n],1)):(c[n]=Gn(r),c[n].c(),Z(c[n],1),c[n].m(i,s))}for(J(),n=l.length;n<c.length;n+=1)u(n);X()}d===(d=h(e))&&p?p.p(e,t):(p.d(1),p=d(e),p&&(p.c(),p.m(i,null)))},i(e){if(!a){for(let e=0;e<l.length;e+=1)Z(c[e]);a=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)Q(c[e]);a=!1},d(e){e&&g(t),v(c,e),p.d()}}}function Gn(e){let t,n;return t=new jn({props:{name:e[17][0],value:e[17][1]}}),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.name=e[17][0]),2&n&&(r.value=e[17][1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function qn(e){let t,n,r,o,i;return{c(){t=y("tr"),n=y("td"),r=y("span"),r.textContent="+",_(r,"class","addNewItem svelte-fmh02v"),_(n,"span","2"),_(n,"class","svelte-fmh02v")},m(s,a){m(s,t,a),f(t,n),f(n,r),o||(i=b(r,"click",e[14]),o=!0)},p:a,d(e){e&&g(t),o=!1,i()}}}function Kn(e){let t,n,r,o,i,s,a,l;return{c(){t=y("tr"),n=y("td"),r=y("input"),o=k(),i=y("td"),s=y("input"),_(r,"class","inputKV"),_(r,"type","text"),_(n,"class","svelte-fmh02v"),_(s,"class","inputKV"),_(s,"type","text"),_(i,"class","svelte-fmh02v")},m(c,u){m(c,t,u),f(t,n),f(n,r),E(r,e[3]),f(n,o),f(t,i),f(i,s),E(s,e[4]),a||(l=[b(r,"input",e[12]),b(s,"input",e[13]),b(s,"blur",e[8])],a=!0)},p(e,t){8&t&&r.value!==e[3]&&E(r,e[3]),16&t&&s.value!==e[4]&&E(s,e[4])},d(e){e&&g(t),a=!1,u(l)}}}function Jn(e){let t,n,r,o,i,s,a,l,c,h,d,p=void 0!==e[1]&&Vn(e);return{c(){t=y("div"),p&&p.c(),n=k(),r=y("div"),o=y("button"),i=S("Return"),s=k(),a=y("button"),l=S("Delete"),_(o,"id","goback"),_(o,"class","buttonStyle svelte-fmh02v"),_(o,"type","button"),P(o,"background-color",e[0].editorBackground),P(o,"color",e[0].textcolor),_(a,"class","buttonStyle svelte-fmh02v"),_(a,"type","button"),P(a,"background-color",e[0].editorBackground),P(a,"color",e[0].textcolor),_(r,"id","buttonRow"),_(r,"class","svelte-fmh02v"),_(t,"id","env"),P(t,"color",e[0].textcolor),P(t,"background-color",e[0].appBackground),_(t,"class","svelte-fmh02v")},m(u,g){m(u,t,g),p&&p.m(t,null),f(t,n),f(t,r),f(r,o),f(o,i),f(r,s),f(r,a),f(a,l),c=!0,h||(d=[b(o,"click",e[15]),b(a,"click",e[6])],h=!0)},p(e,[r]){void 0!==e[1]?p?(p.p(e,r),2&r&&Z(p,1)):(p=Vn(e),p.c(),Z(p,1),p.m(t,n)):p&&(J(),Q(p,1,1,()=>{p=null}),X()),(!c||1&r)&&P(o,"background-color",e[0].editorBackground),(!c||1&r)&&P(o,"color",e[0].textcolor),(!c||1&r)&&P(a,"background-color",e[0].editorBackground),(!c||1&r)&&P(a,"color",e[0].textcolor),(!c||1&r)&&P(t,"color",e[0].textcolor),(!c||1&r)&&P(t,"background-color",e[0].appBackground)},i(e){c||(Z(p),c=!0)},o(e){Q(p),c=!1},d(e){e&&g(t),p&&p.d(),h=!1,u(d)}}}function Xn(e,t,n){let r,{config:o}=t,{ScriptPad:i}=t,{styles:s}=t,a=!1,l="",c="";const u=O();function h(){void 0!==r&&""!==r.name&&null!==r.name&&"new"!==r.name&&i.addEnv(r)}function d(){u("changeView",{view:"lists",config:{}})}N(()=>{void 0!==o.env&&("new"!==o.env&&null!==o.env?("default"===o.env&&n(9,o.env="Default",o),n(1,r=i.getEnv(o.env))):n(1,r={name:"new",envVar:[]}))});return e.$$set=e=>{"config"in e&&n(9,o=e.config),"ScriptPad"in e&&n(10,i=e.ScriptPad),"styles"in e&&n(0,s=e.styles)},[s,r,a,l,c,h,function(){void 0!==r&&null!==r.name&&"new"!==r.name&&""!==r.name&&(i.removeEnv(r.name),U(),d())},d,function(){n(1,r.envVar[l]=c,r),n(2,a=!1),n(3,l=""),n(4,c=""),h()},o,i,function(){r.name=this.value,n(1,r)},function(){l=this.value,n(3,l)},function(){c=this.value,n(4,c)},()=>{n(2,a=!0)},()=>{h(),d()}]}class Zn extends ie{constructor(e){super(),oe(this,e,Xn,Jn,d,{config:9,ScriptPad:10,styles:0})}}function Qn(e){let t,n;return t=new Zn({props:{config:e[4],styles:e[0],ScriptPad:e[1]}}),t.$on("changeView",e[5]),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.config=e[4]),1&n&&(r.styles=e[0]),2&n&&(r.ScriptPad=e[1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function er(e){let t,n;return t=new On({props:{config:e[4],styles:e[0],ScriptPad:e[1]}}),t.$on("changeView",e[5]),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.config=e[4]),1&n&&(r.styles=e[0]),2&n&&(r.ScriptPad=e[1]),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function tr(e){let t,n,r,o,i;return n=new Mn({props:{config:e[4],styles:e[0],ScriptPad:e[1]}}),n.$on("changeView",e[5]),o=new Fn({props:{config:e[4],styles:e[0],ScriptPad:e[1]}}),o.$on("changeView",e[5]),{c(){t=y("div"),te(n.$$.fragment),r=k(),te(o.$$.fragment),_(t,"id","listviews"),_(t,"class","svelte-1v7c128")},m(e,s){m(e,t,s),ne(n,t,null),f(t,r),ne(o,t,null),i=!0},p(e,t){const r={};16&t&&(r.config=e[4]),1&t&&(r.styles=e[0]),2&t&&(r.ScriptPad=e[1]),n.$set(r);const i={};16&t&&(i.config=e[4]),1&t&&(i.styles=e[0]),2&t&&(i.ScriptPad=e[1]),o.$set(i)},i(e){i||(Z(n.$$.fragment,e),Z(o.$$.fragment,e),i=!0)},o(e){Q(n.$$.fragment,e),Q(o.$$.fragment,e),i=!1},d(e){e&&g(t),re(n),re(o)}}}function nr(e){let t,n,r,o,i,s,a,l,c,u;const h=[tr,er,Qn],d=[];function p(e,t){return"lists"===e[3]?0:"script"===e[3]?1:"env"===e[3]?2:-1}return~(n=p(e))&&(r=d[n]=h[n](e)),{c(){t=y("div"),r&&r.c(),o=k(),i=y("div"),s=y("button"),a=S("Return"),_(s,"class","buttonStyle svelte-1v7c128"),P(s,"background-color",e[0].editorBackground),P(s,"color",e[0].textcolor),_(i,"class","buttonRow svelte-1v7c128"),_(t,"id","ExtScriptEditor"),P(t,"color",e[0].textcolor),P(t,"left",(e[2]?6:-470)+"px"),P(t,"background-color",e[0].appBackground),_(t,"class","svelte-1v7c128")},m(r,h){m(r,t,h),~n&&d[n].m(t,null),f(t,o),f(t,i),f(i,s),f(s,a),l=!0,c||(u=b(s,"click",e[6]),c=!0)},p(e,[i]){let a=n;n=p(e),n===a?~n&&d[n].p(e,i):(r&&(J(),Q(d[a],1,1,()=>{d[a]=null}),X()),~n?(r=d[n],r?r.p(e,i):(r=d[n]=h[n](e),r.c()),Z(r,1),r.m(t,o)):r=null),(!l||1&i)&&P(s,"background-color",e[0].editorBackground),(!l||1&i)&&P(s,"color",e[0].textcolor),(!l||1&i)&&P(t,"color",e[0].textcolor),(!l||4&i)&&P(t,"left",(e[2]?6:-470)+"px"),(!l||1&i)&&P(t,"background-color",e[0].appBackground)},i(e){l||(Z(r),l=!0)},o(e){Q(r),l=!1},d(e){e&&g(t),~n&&d[n].d(),c=!1,u()}}}function rr(e,t,n){let{styles:r}=t,{mConfig:o}=t,{ScriptPad:i}=t,{openPanel:s}=t;const a=O();let l="lists",c={};return e.$$set=e=>{"styles"in e&&n(0,r=e.styles),"mConfig"in e&&n(7,o=e.mConfig),"ScriptPad"in e&&n(1,i=e.ScriptPad),"openPanel"in e&&n(2,s=e.openPanel)},[r,i,s,l,c,function(e){n(3,l=e.detail.view),n(4,c=e.detail.config)},function(){a("returnToMain",{})},o]}class or extends ie{constructor(e){super(),oe(this,e,rr,nr,d,{styles:0,mConfig:7,ScriptPad:1,openPanel:2})}}function ir(e){let t;return{c(){t=y("span"),t.textContent="stopped.",_(t,"class","status svelte-df4w47")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function sr(e){let t;return{c(){t=y("span"),t.textContent="running...",_(t,"class","status svelte-df4w47")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function ar(e){let t,n,r;return{c(){t=y("div"),t.textContent="Dashboard",_(t,"id","dashboardBut"),_(t,"class","svelte-df4w47")},m(o,i){m(o,t,i),n||(r=b(t,"click",e[10]),n=!0)},p:a,d(e){e&&g(t),n=!1,r()}}}function lr(e){let t;return{c(){t=S("Start")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function cr(e){let t;return{c(){t=S("Stop")},m(e,n){m(e,t,n)},d(e){e&&g(t)}}}function ur(e){let t,n,r,o,i,s,l,c,h,d,v,S,x;function w(e,t){return e[5]?sr:ir}let E=w(e),C=E(e),M=e[0].PREFERENCES.REDDashboard&&ar(e);function T(e,t){return e[5]?cr:lr}let D=T(e),L=D(e);return{c(){t=y("div"),n=y("div"),r=k(),o=y("div"),C.c(),i=k(),M&&M.c(),s=k(),l=y("div"),l.textContent="Edit Flows",c=k(),h=y("div"),L.c(),_(n,"id","history"),_(n,"class","svelte-df4w47"),_(l,"id","editFlowBut"),_(l,"class","svelte-df4w47"),_(h,"id","ssbut"),_(h,"class",d=p(e[5]?"liveColor":"deadColor")+" svelte-df4w47"),_(o,"id","redStatus"),_(o,"class","svelte-df4w47"),_(t,"id","codered"),_(t,"class",v=p(e[2]?"show":"hide")+" svelte-df4w47"),P(t,"background-color",e[1].editorBackground),P(t,"color",e[1].textcolor)},m(a,u){m(a,t,u),f(t,n),n.innerHTML=e[4],e[9](n),f(t,r),f(t,o),C.m(o,null),f(o,i),M&&M.m(o,null),f(o,s),f(o,l),f(o,c),f(o,h),L.m(h,null),S||(x=[b(l,"click",e[11]),b(h,"click",e[12])],S=!0)},p(e,[r]){16&r&&(n.innerHTML=e[4]),E!==(E=w(e))&&(C.d(1),C=E(e),C&&(C.c(),C.m(o,i))),e[0].PREFERENCES.REDDashboard?M?M.p(e,r):(M=ar(e),M.c(),M.m(o,s)):M&&(M.d(1),M=null),D!==(D=T(e))&&(L.d(1),L=D(e),L&&(L.c(),L.m(h,null))),32&r&&d!==(d=p(e[5]?"liveColor":"deadColor")+" svelte-df4w47")&&_(h,"class",d),4&r&&v!==(v=p(e[2]?"show":"hide")+" svelte-df4w47")&&_(t,"class",v),2&r&&P(t,"background-color",e[1].editorBackground),2&r&&P(t,"color",e[1].textcolor)},i:a,o:a,d(n){n&&g(t),e[9](null),C.d(),M&&M.d(),L.d(),S=!1,u(x)}}}function hr(e,t,n){let r,{styles:o={}}=t,{ScriptPad:i={}}=t,{visible:s=!1}=t,a="",l=!1;function c(){l?i.stopRed(u):(i.initNodeRed(h),i.startRed(u))}function u(){n(5,l=i.REDSTARTED)}function h(e){var t=new Date(e.timestamp),r=t.getMinutes().toString();r=1===r.length?"0"+r:r;var o="["+(t.getMonth()+1)+"/"+t.getDate()+"/"+t.getFullYear()+" "+t.getHours()+":"+r+"]  ";void 0!==e.msg?o+=e.msg:o+=JSON.stringify(e,void 0,2),o.includes("Error")?n(4,a+='<p style="margin: 0px; color: red;">'+o+"</p>"):function(e){n(4,a+='<p style="margin: 0px;">'+e+"</p>")}(o)}function d(){if(l)i.nw.Window.open("http://localhost:"+i.PORTNUMBER+"/red/admin/",{id:"flowEditor"},e=>{});else{var e=new Notification("Node-Red in ScriptPad",{body:"Node-Red isn't started."});e.onclick=function(){},e.onshow=function(){setTimeout((function(){e.close()}),3e4)}}}function p(){if(l)i.nw.Window.open("http://localhost:"+i.PORTNUMBER+"/red/api/ui",{id:"NodeRedDashboard"},e=>{DBWin=e});else{var e=new Notification("Node-Red in ScriptPad",{body:"Node-Red isn't started."});e.onclick=function(){},e.onshow=function(){setTimeout((function(){e.close()}),3e4)}}}O(),N(()=>{n(0,i.logger=h,i),setTimeout(()=>{!i.REDSTARTED&&i.PREFERENCES.REDAuto&&(n(5,l=!1),c())},3e4)}),R(()=>{n(3,r.scrollTop=r.scrollHeight-r.clientHeight,r)});return e.$$set=e=>{"styles"in e&&n(1,o=e.styles),"ScriptPad"in e&&n(0,i=e.ScriptPad),"visible"in e&&n(2,s=e.visible)},[i,o,s,r,a,l,c,d,p,function(e){$[e?"unshift":"push"](()=>{r=e,n(3,r)})},()=>{p()},()=>{d()},()=>{c()}]}class dr extends ie{constructor(e){super(),oe(this,e,hr,ur,d,{styles:1,ScriptPad:0,visible:2})}}const{window:pr}=ee;function fr(e){let t,n;return t=new fe({props:{iconAddress:e[1].todoIconAddress}}),t.$on("toggleTodo",e[43]),{c(){te(t.$$.fragment)},m(e,r){ne(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.iconAddress=e[1].todoIconAddress),t.$set(r)},i(e){n||(Z(t.$$.fragment,e),n=!0)},o(e){Q(t.$$.fragment,e),n=!1},d(e){re(t,e)}}}function mr(e){let t,n,r,o,i,s,a,l,c,h,d,p,v,S,x,w,E,C,M,T,D,L,N,R,O,A;n=new _n({props:{background:e[1].appBackground}}),i=new or({props:{openPanel:e[14],styles:e[1],mConfig:e[0],ScriptPad:e[2]}}),i.$on("returnToMain",e[33]),a=new dr({props:{styles:e[1],ScriptPad:e[2],visible:e[5]}}),c=new kn({props:{openPanel:e[11],styles:e[1],preferences:e[0],currentID:e[4],ScriptPad:e[2]}}),c.$on("changeStyles",e[34]),c.$on("changePreferences",e[35]),c.$on("quitPreferences",e[36]),d=new Pt({props:{currentid:e[4],RegExpOpen:e[9],ScriptEditorOpen:e[10],TemplateEditorOpen:e[12],styles:e[1],preferences:e[0],ScriptPad:e[2]}}),d.$on("toggleRegExp",e[37]),d.$on("toggleScriptEditor",e[38]),d.$on("toggleTemplateEditor",e[39]),d.$on("changeTodos",e[40]),S=new ve({props:{openMenu:e[6],styles:e[1]}}),S.$on("toggleMainMenu",e[41]),w=new ue({props:{buttons:e[1].buttons}}),w.$on("selected",e[42]);let $=(e[0].UseTaskPaper||e[0].UseNotePlan)&&fr(e);return M=new Ue({props:{openPanel:e[7],preferences:e[0],styles:e[1],updateTodos:e[13],ScriptPad:e[2]}}),M.$on("clearUpdateTodos",e[44]),D=new Xe({props:{openMenu:e[6],ScriptPad:e[2],preferences:e[0],styles:e[1]}}),D.$on("toggleMainMenu",e[45]),D.$on("toggleAboutMenu",e[46]),D.$on("toggleNodeRed",e[47]),D.$on("toggleRegExp",e[48]),D.$on("toggleScriptEditor",e[49]),D.$on("toggleExtScriptEditor",e[50]),D.$on("toggleTemplateEditor",e[51]),D.$on("togglePreferences",e[52]),N=new Nt({props:{open:e[8],styles:e[1],ScriptPad:e[2]}}),N.$on("toggleAboutMenu",e[53]),{c(){t=k(),te(n.$$.fragment),r=k(),o=y("div"),te(i.$$.fragment),s=k(),te(a.$$.fragment),l=k(),te(c.$$.fragment),h=k(),te(d.$$.fragment),p=k(),v=y("div"),te(S.$$.fragment),x=k(),te(w.$$.fragment),E=k(),$&&$.c(),C=k(),te(M.$$.fragment),T=k(),te(D.$$.fragment),L=k(),te(N.$$.fragment),document.title="ScriptPad",_(v,"id","controlsClosure"),_(v,"class","svelte-19kgqiq"),_(o,"id","main"),P(o,"background-color",e[1].appBackground),P(o,"color",e[1].textcolor),_(o,"class","svelte-19kgqiq")},m(u,g){m(u,t,g),ne(n,u,g),m(u,r,g),m(u,o,g),ne(i,o,null),f(o,s),ne(a,o,null),f(o,l),ne(c,o,null),f(o,h),ne(d,o,null),f(o,p),f(o,v),ne(S,v,null),f(v,x),ne(w,v,null),f(v,E),$&&$.m(v,null),f(o,C),ne(M,o,null),f(o,T),ne(D,o,null),f(o,L),ne(N,o,null),R=!0,O||(A=[b(pr,"blur",e[31]),b(pr,"keyup",e[32])],O=!0)},p(e,t){const r={};2&t[0]&&(r.background=e[1].appBackground),n.$set(r);const s={};16384&t[0]&&(s.openPanel=e[14]),2&t[0]&&(s.styles=e[1]),1&t[0]&&(s.mConfig=e[0]),4&t[0]&&(s.ScriptPad=e[2]),i.$set(s);const l={};2&t[0]&&(l.styles=e[1]),4&t[0]&&(l.ScriptPad=e[2]),32&t[0]&&(l.visible=e[5]),a.$set(l);const u={};2048&t[0]&&(u.openPanel=e[11]),2&t[0]&&(u.styles=e[1]),1&t[0]&&(u.preferences=e[0]),16&t[0]&&(u.currentID=e[4]),4&t[0]&&(u.ScriptPad=e[2]),c.$set(u);const h={};16&t[0]&&(h.currentid=e[4]),512&t[0]&&(h.RegExpOpen=e[9]),1024&t[0]&&(h.ScriptEditorOpen=e[10]),4096&t[0]&&(h.TemplateEditorOpen=e[12]),2&t[0]&&(h.styles=e[1]),1&t[0]&&(h.preferences=e[0]),4&t[0]&&(h.ScriptPad=e[2]),d.$set(h);const p={};64&t[0]&&(p.openMenu=e[6]),2&t[0]&&(p.styles=e[1]),S.$set(p);const f={};2&t[0]&&(f.buttons=e[1].buttons),w.$set(f),e[0].UseTaskPaper||e[0].UseNotePlan?$?($.p(e,t),1&t[0]&&Z($,1)):($=fr(e),$.c(),Z($,1),$.m(v,null)):$&&(J(),Q($,1,1,()=>{$=null}),X());const m={};128&t[0]&&(m.openPanel=e[7]),1&t[0]&&(m.preferences=e[0]),2&t[0]&&(m.styles=e[1]),8192&t[0]&&(m.updateTodos=e[13]),4&t[0]&&(m.ScriptPad=e[2]),M.$set(m);const g={};64&t[0]&&(g.openMenu=e[6]),4&t[0]&&(g.ScriptPad=e[2]),1&t[0]&&(g.preferences=e[0]),2&t[0]&&(g.styles=e[1]),D.$set(g);const y={};256&t[0]&&(y.open=e[8]),2&t[0]&&(y.styles=e[1]),4&t[0]&&(y.ScriptPad=e[2]),N.$set(y),(!R||2&t[0])&&P(o,"background-color",e[1].appBackground),(!R||2&t[0])&&P(o,"color",e[1].textcolor)},i(e){R||(Z(n.$$.fragment,e),Z(i.$$.fragment,e),Z(a.$$.fragment,e),Z(c.$$.fragment,e),Z(d.$$.fragment,e),Z(S.$$.fragment,e),Z(w.$$.fragment,e),Z($),Z(M.$$.fragment,e),Z(D.$$.fragment,e),Z(N.$$.fragment,e),R=!0)},o(e){Q(n.$$.fragment,e),Q(i.$$.fragment,e),Q(a.$$.fragment,e),Q(c.$$.fragment,e),Q(d.$$.fragment,e),Q(S.$$.fragment,e),Q(w.$$.fragment,e),Q($),Q(M.$$.fragment,e),Q(D.$$.fragment,e),Q(N.$$.fragment,e),R=!1},d(e){e&&g(t),re(n,e),e&&g(r),e&&g(o),re(i),re(a),re(c),re(d),re(S),re(w),$&&$.d(),re(M),re(D),re(N),O=!1,u(A)}}}function gr(e,t,n){let{prefs:r}=t,{styles:o}=t,{ScriptPad:i}=t,{onBlur:s}=t,{onClose:a}=t,l=0,c=!1,u=!1,h=!1,d=!1,p=!1,f=!1,m=!1,g=!1,v=!1,y=!1;function S(){n(13,v=!0)}function k(e){n(1,o=e),function(e){n(1,o.buttons=o.buttons.map(e=>(e.selected=!1,e)),o),globalThis.styleList.includes(e)||globalThis.styleList.push(e);n(2,i.STYLE=o,i),i.writeStyleFile(e)}(r.style)}function x(e){n(0,r=e),n(13,v=!0),n(2,i.PREFERENCES=r,i),i.writePreferencesFile()}function b(){n(11,m=!1),window.Pref=!1}function _(e){var t=e.key;if(e.ctrlKey&&(t>="0"&&t<="9"||"y"===t||"t"===t||"r"===t||"e"===t||"x"===t||"p"===t||"n"===t))switch(e.preventDefault(),e.stopPropagation(),t){case"r":T();break;case"y":E();break;case"e":D();break;case"t":L();break;case"p":break;case"n":w();case"1":R(0);break;case"2":R(1);break;case"3":R(2);break;case"4":R(3);break;case"5":R(4);break;case"6":R(5);break;case"7":R(6);break;case"8":R(7);break;case"9":R(8)}}function w(){c?n(5,c=!1):(n(5,c=!0),n(14,y=!1),n(8,d=!1),n(6,u=!1),n(7,h=!1),n(9,p=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function E(){y?n(14,y=!1):(n(5,c=!1),n(14,y=!0),n(8,d=!1),n(6,u=!1),n(7,h=!1),n(9,p=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function P(){d?n(8,d=!1):(n(5,c=!1),n(8,d=!0),n(14,y=!1),n(6,u=!1),n(7,h=!1),n(9,p=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function C(){u?n(6,u=!1):(n(6,u=!0),n(5,c=!1),n(14,y=!1),n(7,h=!1),n(8,d=!1),n(9,p=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function M(){h?n(7,h=!1):(n(7,h=!0),n(5,c=!1),n(14,y=!1),n(6,u=!1),n(8,d=!1),n(9,p=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function T(){p?n(9,p=!1):(n(9,p=!0),n(5,c=!1),n(14,y=!1),n(7,h=!1),n(6,u=!1),n(8,d=!1),n(10,f=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function D(){f?n(10,f=!1):(n(10,f=!0),n(5,c=!1),n(14,y=!1),n(9,p=!1),n(7,h=!1),n(6,u=!1),n(8,d=!1),n(11,m=!1),n(12,g=!1),window.Pref=!1)}function L(){g?n(12,g=!1):(n(5,c=!1),n(10,f=!1),n(14,y=!1),n(9,p=!1),n(7,h=!1),n(6,u=!1),n(8,d=!1),n(11,m=!1),n(12,g=!0),window.Pref=!1)}function N(){m?(n(11,m=!1),window.Pref=!1):(n(10,f=!1),n(5,c=!1),n(14,y=!1),n(9,p=!1),n(7,h=!1),n(6,u=!1),n(8,d=!1),n(11,m=!0),n(12,g=!1),window.Pref=!0)}function R(e){e>=0&&e<=8&&(n(1,o.buttons[l].selected=!1,o),n(4,l=e),n(1,o.buttons[e].selected=!0,o))}return e.$$set=e=>{"prefs"in e&&n(0,r=e.prefs),"styles"in e&&n(1,o=e.styles),"ScriptPad"in e&&n(2,i=e.ScriptPad),"onBlur"in e&&n(3,s=e.onBlur),"onClose"in e&&n(30,a=e.onClose)},[r,o,i,s,l,c,u,h,d,p,f,m,g,v,y,S,k,x,b,_,w,E,P,C,M,T,D,L,N,R,a,()=>{null!==s&&s()},e=>{_(e)},()=>{E()},e=>{k(e.detail.data)},e=>{x(e.detail.data)},()=>{b(),n(11,m=!1)},()=>{T()},()=>{D()},()=>{L()},()=>{S()},()=>{C()},e=>{R(e.detail.data)},()=>{M()},()=>{n(13,v=!1)},()=>{C()},()=>{P()},()=>{w()},()=>{T()},()=>{D()},()=>{E()},()=>{L()},e=>{N(e.detail.data)},()=>{P()}]}class vr extends ie{constructor(e){super(),oe(this,e,gr,mr,d,{prefs:0,styles:1,ScriptPad:2,onBlur:3,onClose:30},[-1,-1])}}var yr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Sr(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return kr(null==t&&n.path)}},n.exports),n.exports}function kr(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var xr=Sr((function(e,t){e.exports=function(){var t,n;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return wt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=f(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=r.momentProperties=[],y=!1;function S(e,t){var n,r,o;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=f(t)),l(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)l(o=t[r=v[n]])||(e[r]=o);return e}function k(e){S(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function x(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function b(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var o,i,a,l=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];l.push(o)}b(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var w,E={};function P(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),E[e]||(b(t),E[e]=!0)}function C(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&i(e[n])&&(r[n]=d({},r[n]));return r}function T(e){null!=e&&this.set(e)}function D(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,w=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},O={};function A(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(O[e]=o),t&&(O[t[0]]=function(){return D(o.apply(this,arguments),t[1],t[2])}),n&&(O[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=I(t,e.localeData()),R[t]=R[t]||function(e){var t,n,r,o=e.match(L);for(t=0,n=o.length;t<n;t++)O[o[t]]?o[t]=O[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=C(o[r])?o[r].call(t,e):o[r];return i}}(t),R[t](e)):e.localeData().invalidDate()}function I(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var B={};function Y(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function F(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function H(e){var t,n,r={};for(n in e)s(e,n)&&(t=F(n))&&(r[t]=e[n]);return r}var U={};function j(e,t){U[e]=t}function W(e){return e%4==0&&e%100!=0||e%400==0}function V(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function z(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=V(t)),n}function G(e,t){return function(n){return null!=n?(K(this,e,n),r.updateOffset(this,t),this):q(this,e)}}function q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&W(e.year())&&1===e.month()&&29===e.date()?(n=z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var J,X=/\d/,Z=/\d\d/,Q=/\d{3}/,ee=/\d{4}/,te=/[+-]?\d{6}/,ne=/\d\d?/,re=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,se=/\d{1,4}/,ae=/[+-]?\d{1,6}/,le=/\d+/,ce=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,n){J[e]=C(t)?t:function(e,r){return e&&n?n:t}}function fe(e,t){return s(J,e)?J[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}J={};var ge,ve={};function ye(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),c(t)&&(r=function(e,n){n[t]=z(e)}),n=0;n<e.length;n++)ve[e[n]]=r}function Se(e,t){ye(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function ke(e,t,n){null!=t&&s(ve,e)&&ve[e](t,n._a,n,e)}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?W(e)?29:28:31-r%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},A("M",["MM",2],"Mo",(function(){return this.month()+1})),A("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),A("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Y("month","M"),j("month",8),pe("M",ne),pe("MM",ne,Z),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=z(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:f(n).invalidMonth=e}));var be="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ee=de,Pe=de;function Ce(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,s))?o:null:-1!==(o=ge.call(this._longMonthsParse,s))?o:null:"MMM"===t?-1!==(o=ge.call(this._shortMonthsParse,s))||-1!==(o=ge.call(this._longMonthsParse,s))?o:null:-1!==(o=ge.call(this._longMonthsParse,s))||-1!==(o=ge.call(this._shortMonthsParse,s))?o:null}function Me(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=z(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Te(e){return null!=e?(Me(this,e),r.updateOffset(this,!0),this):q(this,"Month")}function De(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=me(r[t]),o[t]=me(o[t]);for(t=0;t<24;t++)i[t]=me(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Le(e){return W(e)?366:365}A("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),A(0,["YY",2],0,(function(){return this.year()%100})),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),j("year",1),pe("Y",ce),pe("YY",ne,Z),pe("YYYY",se,ee),pe("YYYYY",ae,te),pe("YYYYYY",ae,te),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):z(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return z(e)+(z(e)>68?1900:2e3)};var Ne=G("FullYear",!0);function Re(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function Oe(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ae(e,t,n){var r=7+t-n;return-(7+Oe(e,0,r).getUTCDay()-t)%7+r-1}function $e(e,t,n,r,o){var i,s,a=1+7*(t-1)+(7+n-r)%7+Ae(e,r,o);return a<=0?s=Le(i=e-1)+a:a>Le(e)?(i=e+1,s=a-Le(e)):(i=e,s=a),{year:i,dayOfYear:s}}function Ie(e,t,n){var r,o,i=Ae(e.year(),t,n),s=Math.floor((e.dayOfYear()-i-1)/7)+1;return s<1?r=s+Be(o=e.year()-1,t,n):s>Be(e.year(),t,n)?(r=s-Be(e.year(),t,n),o=e.year()+1):(o=e.year(),r=s),{week:r,year:o}}function Be(e,t,n){var r=Ae(e,t,n),o=Ae(e+1,t,n);return(Le(e)-r+o)/7}function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),j("week",5),j("isoWeek",5),pe("w",ne),pe("ww",ne,Z),pe("W",ne),pe("WW",ne,Z),Se(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=z(e)})),A("d",0,"do","day"),A("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),A("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),A("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),pe("d",ne),pe("e",ne),pe("E",ne),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Se(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:f(n).invalidWeekday=e})),Se(["d","e","E"],(function(e,t,n,r){t[r]=z(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ue="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),je=de,We=de,Ve=de;function ze(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,s))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:"dddd"===t?-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._shortWeekdaysParse,s))||-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:"ddd"===t?-1!==(o=ge.call(this._shortWeekdaysParse,s))||-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._minWeekdaysParse,s))?o:null:-1!==(o=ge.call(this._minWeekdaysParse,s))||-1!==(o=ge.call(this._weekdaysParse,s))||-1!==(o=ge.call(this._shortWeekdaysParse,s))?o:null}function Ge(){function e(e,t){return t.length-e.length}var t,n,r,o,i,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=me(this.weekdaysMin(n,"")),o=me(this.weekdaysShort(n,"")),i=me(this.weekdays(n,"")),s.push(r),a.push(o),l.push(i),c.push(r),c.push(o),c.push(i);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qe(){return this.hours()%12||12}function Ke(e,t){A(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}A("H",["HH",2],0,"hour"),A("h",["hh",2],0,qe),A("k",["kk",2],0,(function(){return this.hours()||24})),A("hmm",0,0,(function(){return""+qe.apply(this)+D(this.minutes(),2)})),A("hmmss",0,0,(function(){return""+qe.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),A("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),A("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),Y("hour","h"),j("hour",13),pe("a",Je),pe("A",Je),pe("H",ne),pe("h",ne),pe("k",ne),pe("HH",ne,Z),pe("hh",ne,Z),pe("kk",ne,Z),pe("hmm",re),pe("hmmss",oe),pe("Hmm",re),pe("Hmmss",oe),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var r=z(e);t[3]=24===r?0:r})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=z(e),f(n).bigHour=!0})),ye("hmm",(function(e,t,n){var r=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r)),f(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r,2)),t[5]=z(e.substr(o)),f(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var r=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r))})),ye("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=z(e.substr(0,r)),t[4]=z(e.substr(r,2)),t[5]=z(e.substr(o))}));var Xe,Ze=G("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:be,monthsShort:_e,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:Ue,weekdaysShort:He,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(t){var n=null;if(void 0===et[t]&&e&&e.exports)try{n=Xe._abbr,kr(),it(n)}catch(e){et[t]=null}return et[t]}function it(e,t){var n;return e&&((n=l(t)?at(e):st(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function st(e,t){if(null!==t){var n,r=Qe;if(t.abbr=e,null!=et[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])r=et[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return et[e]=new T(M(r,t)),tt[e]&&tt[e].forEach((function(e){st(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!o(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=rt(e[i]).split("-")).length,n=(n=rt(e[i+1]))?n.split("-"):null;t>0;){if(r=ot(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&nt(o,n)>=t-1)break;t--}i++}return Xe}(e)}function lt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>xe(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,f(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,dt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((-?\d+)/i,mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,r,o,i,s,a=e._i,l=ct.exec(a)||ut.exec(a);if(l){for(f(e).iso=!0,t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(l[1])){o=dt[t][0],r=!1!==dt[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[3])){i=(l[2]||" ")+pt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(i||"")+(s||""),bt(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function St(e){var t,n,r,o,i,s,a,l,c=mt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],o=c[2],i=c[5],s=c[6],a=c[7],l=[yt(n),_e.indexOf(r),parseInt(o,10),parseInt(i,10),parseInt(s,10)],a&&l.push(parseInt(a,10)),t=l,!function(e,t,n){return!e||He.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return gt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(c[8],c[9],c[10]),e._d=Oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function kt(e,t,n){return null!=e?e:null!=t?t:n}function xt(e){var t,n,o,i,s,a=[];if(!e._d){for(o=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,s=4,n=kt(t.GG,e._a[0],Ie(Et(),1,4).year),r=kt(t.W,1),((o=kt(t.E,1))<1||o>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,c=Ie(Et(),i,s),n=kt(t.gg,e._a[0],c.year),r=kt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>Be(n,i,s)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(a=$e(n,r,o,i,s),e._a[0]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=kt(e._a[0],o[0]),(e._dayOfYear>Le(s)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=Oe(s,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Oe:Re).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function bt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,o,i,s,a,l=""+e._i,c=l.length,u=0;for(o=I(e._f,e._locale).match(L)||[],t=0;t<o.length;t++)i=o[t],(n=(l.match(fe(i,e))||[])[0])&&((s=l.substr(0,l.indexOf(n))).length>0&&f(e).unusedInput.push(s),l=l.slice(l.indexOf(n)+n.length),u+=n.length),O[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),ke(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=c-u,l.length>0&&f(e).unusedInput.push(l),e._a[3]<=12&&!0===f(e).bigHour&&e._a[3]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(a=f(e).era)&&(e._a[0]=e._locale.erasConvertYear(a,e._a[0])),xt(e),lt(e)}else St(e);else vt(e)}function _t(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new k(lt(t)):(u(t)?e._d=t:o(n)?function(e){var t,n,r,o,i,s,a=!1;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,s=!1,t=S({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],bt(t),m(t)&&(s=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,a?i<r&&(r=i,n=t):(null==r||i<r||s)&&(r=i,n=t,s&&(a=!0));d(e,n||t)}(e):n?bt(e):function(e){var t=e._i;l(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ft.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),xt(e)):i(t)?function(e){if(!e._d){var t=H(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),xt(e)}}(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function wt(e,t,n,r,s){var l,c={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&a(e)||o(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=e,c._f=t,c._strict=r,(l=new k(lt(_t(c))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Et(e,t,n,r){return wt(e,t,n,r,!1)}r.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Pt=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Ct=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Mt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Dt(e){var t=H(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===ge.call(Tt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Tt.length;++n)if(e[Tt[n]]){if(r)return!1;parseFloat(e[Tt[n]])!==z(e[Tt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+h+1e3*u+6e4*c+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function Lt(e){return e instanceof Dt}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,t){A(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}Rt("Z",":"),Rt("ZZ",""),pe("Z",he),pe("ZZ",he),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=At(he,e)}));var Ot=/([\+\-]|\d\d)/gi;function At(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(Ot)||["-",0,0])[1]+z(n[2]))?0:"+"===n[0]?r:-r}function $t(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(x(e)||u(e)?e.valueOf():Et(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Et(e).local()}function It(e){return-Math.round(e._d.getTimezoneOffset())}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Yt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var n,r,o,i=e,a=null;return Lt(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=Yt.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:z(a[2])*n,h:z(a[3])*n,m:z(a[4])*n,s:z(a[5])*n,ms:z(Nt(1e3*a[6]))*n}):(a=Ft.exec(e))?(n="-"===a[1]?-1:1,i={y:Ut(a[2],n),M:Ut(a[3],n),w:Ut(a[4],n),d:Ut(a[5],n),h:Ut(a[6],n),m:Ut(a[7],n),s:Ut(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var n;return e.isValid()&&t.isValid()?(t=$t(t,e),e.isBefore(t)?n=jt(e,t):((n=jt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Et(i.from),Et(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new Dt(i),Lt(e)&&s(e,"_locale")&&(r._locale=e._locale),Lt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Wt(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Vt(this,Ht(n,r),e),this}}function Vt(e,t,n,o){var i=t._milliseconds,s=Nt(t._days),a=Nt(t._months);e.isValid()&&(o=null==o||o,a&&Me(e,q(e,"Month")+a*n),s&&K(e,"Date",q(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,s||a))}Ht.fn=Dt.prototype,Ht.invalid=function(){return Ht(NaN)};var zt=Wt(1,"add"),Gt=Wt(-1,"subtract");function qt(e){return"string"==typeof e||e instanceof String}function Kt(e){return x(e)||u(e)||qt(e)||c(e)||function(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&qt(e)})).length),t&&n}(e)||function(e){var t,n,r=i(e)&&!a(e),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<l.length;t+=1)n=l[t],o=o||s(e,n);return r&&o}(e)||null==e}function Jt(e){var t,n=i(e)&&!a(e),r=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)r=r||s(e,o[t]);return n&&r}function Xt(e,t){if(e.date()<t.date())return-Xt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function en(){return this._locale}function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function rn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function on(e,t){return t.erasAbbrRegex(e)}function sn(){var e,t,n=[],r=[],o=[],i=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(me(s[e].name)),n.push(me(s[e].abbr)),o.push(me(s[e].narrow)),i.push(me(s[e].name)),i.push(me(s[e].abbr)),i.push(me(s[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function an(e,t){A(0,[e,e.length],0,t)}function ln(e,t,n,r,o){var i;return null==e?Ie(this,r,o).year:(t>(i=Be(e,r,o))&&(t=i),cn.call(this,e,t,n,r,o))}function cn(e,t,n,r,o){var i=$e(e,t,n,r,o),s=Oe(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),pe("N",on),pe("NN",on),pe("NNN",on),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?f(n).era=o:f(n).invalidEra=e})),pe("y",le),pe("yy",le),pe("yyy",le),pe("yyyy",le),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||le})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,o):t[0]=parseInt(e,10)})),A(0,["gg",2],0,(function(){return this.weekYear()%100})),A(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),pe("G",ce),pe("g",ce),pe("GG",ne,Z),pe("gg",ne,Z),pe("GGGG",se,ee),pe("gggg",se,ee),pe("GGGGG",ae,te),pe("ggggg",ae,te),Se(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=z(e)})),Se(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),A("Q",0,"Qo","quarter"),Y("quarter","Q"),j("quarter",7),pe("Q",X),ye("Q",(function(e,t){t[1]=3*(z(e)-1)})),A("D",["DD",2],"Do","date"),Y("date","D"),j("date",9),pe("D",ne),pe("DD",ne,Z),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=z(e.match(ne)[0])}));var un=G("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),j("dayOfYear",4),pe("DDD",ie),pe("DDDD",Q),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=z(e)})),A("m",["mm",2],0,"minute"),Y("minute","m"),j("minute",14),pe("m",ne),pe("mm",ne,Z),ye(["m","mm"],4);var hn=G("Minutes",!1);A("s",["ss",2],0,"second"),Y("second","s"),j("second",15),pe("s",ne),pe("ss",ne,Z),ye(["s","ss"],5);var dn,pn,fn=G("Seconds",!1);for(A("S",0,0,(function(){return~~(this.millisecond()/100)})),A(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),A(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),A(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),A(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),A(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),A(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),j("millisecond",16),pe("S",ie,X),pe("SS",ie,Z),pe("SSS",ie,Q),dn="SSSS";dn.length<=9;dn+="S")pe(dn,le);function mn(e,t){t[6]=z(1e3*("0."+e))}for(dn="S";dn.length<=9;dn+="S")ye(dn,mn);pn=G("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var gn=k.prototype;function vn(e){return e}gn.add=zt,gn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):Jt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Et(),o=$t(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",s=t&&(C(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,Et(n)))},gn.clone=function(){return new k(this)},gn.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=$t(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=F(t)){case"year":i=Xt(this,r)/12;break;case"month":i=Xt(this,r);break;case"quarter":i=Xt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:V(i)},gn.endOf=function(e){var t,n;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},gn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},gn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Et(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.fromNow=function(e){return this.from(Et(),e)},gn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Et(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},gn.toNow=function(e){return this.to(Et(),e)},gn.get=function(e){return C(this[e=F(e)])?this[e]():this},gn.invalidAt=function(){return f(this).overflow},gn.isAfter=function(e,t){var n=x(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},gn.isBefore=function(e,t){var n=x(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},gn.isBetween=function(e,t,n,r){var o=x(e)?e:Et(e),i=x(t)?t:Et(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n)))},gn.isSame=function(e,t){var n,r=x(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},gn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},gn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},gn.isValid=function(){return m(this)},gn.lang=Qt,gn.locale=Zt,gn.localeData=en,gn.max=Ct,gn.min=Pt,gn.parsingFlags=function(){return d({},f(this))},gn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:U[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=H(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(C(this[e=F(e)]))return this[e](t);return this},gn.startOf=function(e){var t,n;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?rn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},gn.subtract=Gt,gn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},gn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?$(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",o="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},gn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},gn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},gn.eraYear=function(){var e,t,n,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()},gn.year=Ne,gn.isLeapYear=function(){return W(this.year())},gn.weekYear=function(e){return ln.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(e){return ln.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},gn.month=Te,gn.daysInMonth=function(){return xe(this.year(),this.month())},gn.week=gn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},gn.isoWeek=gn.isoWeeks=function(e){var t=Ie(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},gn.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},gn.weeksInWeekYear=function(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)},gn.isoWeeksInYear=function(){return Be(this.year(),1,4)},gn.isoWeeksInISOWeekYear=function(){return Be(this.isoWeekYear(),1,4)},gn.date=un,gn.day=gn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},gn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},gn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},gn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},gn.hour=gn.hours=Ze,gn.minute=gn.minutes=hn,gn.second=gn.seconds=fn,gn.millisecond=gn.milliseconds=pn,gn.utcOffset=function(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=At(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=It(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Vt(this,Ht(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:It(this)},gn.utc=function(e){return this.utcOffset(0,e)},gn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(It(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=At(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=Bt,gn.isUTC=Bt,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=_("dates accessor is deprecated. Use date instead.",un),gn.months=_("months accessor is deprecated. Use month instead",Te),gn.years=_("years accessor is deprecated. Use year instead",Ne),gn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),gn.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return S(t,this),(t=_t(t))._a?(e=t._isUTC?p(t._a):Et(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&z(e[r])!==z(t[r]))&&s++;return s+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=T.prototype;function Sn(e,t,n,r){var o=at(),i=p().set(r,t);return o[n](i,e)}function kn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Sn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Sn(e,r,n,"month");return o}function xn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var o,i=at(),s=e?i._week.dow:0,a=[];if(null!=n)return Sn(t,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=Sn(t,(o+s)%7,r,"day");return a}yn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=vn,yn.postformat=vn,yn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return C(o)?o(e,t,n,r):o.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)s(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(e,t){var n,o,i,s=this._eras||at("en")._eras;for(n=0,o=s.length;n<o;++n){switch(typeof s[n].since){case"string":i=r(s[n].since).startOf("day"),s[n].since=i.valueOf()}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=r(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}}return s},yn.erasParse=function(e,t,n){var r,o,i,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,o=l.length;r<o;++r)if(i=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(i===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([i,s,a].indexOf(e)>=0)return l[r]},yn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},yn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},yn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return Ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},yn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||De.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Pe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||De.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Ie(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return ze.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=We),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===z(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=_("moment.lang is deprecated. Use moment.locale instead.",it),r.langData=_("moment.langData is deprecated. Use moment.localeData instead.",at);var bn=Math.abs;function _n(e,t,n,r){var o=Ht(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function En(e){return 4800*e/146097}function Pn(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var Mn=Cn("ms"),Tn=Cn("s"),Dn=Cn("m"),Ln=Cn("h"),Nn=Cn("d"),Rn=Cn("w"),On=Cn("M"),An=Cn("Q"),$n=Cn("y");function In(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=In("milliseconds"),Yn=In("seconds"),Fn=In("minutes"),Hn=In("hours"),Un=In("days"),jn=In("months"),Wn=In("years"),Vn=Math.round,zn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var qn=Math.abs;function Kn(e){return(e>0)-(e<0)||+e}function Jn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,s,a,l=qn(this._milliseconds)/1e3,c=qn(this._days),u=qn(this._months),h=this.asSeconds();return h?(e=V(l/60),t=V(e/60),l%=60,e%=60,n=V(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=h<0?"-":"",i=Kn(this._months)!==Kn(h)?"-":"",s=Kn(this._days)!==Kn(h)?"-":"",a=Kn(this._milliseconds)!==Kn(h)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var Xn=Dt.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var e=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),e.milliseconds=bn(e.milliseconds),e.seconds=bn(e.seconds),e.minutes=bn(e.minutes),e.hours=bn(e.hours),e.months=bn(e.months),e.years=bn(e.years),this},Xn.add=function(e,t){return _n(this,e,t,1)},Xn.subtract=function(e,t){return _n(this,e,t,-1)},Xn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+En(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Pn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Xn.asMilliseconds=Mn,Xn.asSeconds=Tn,Xn.asMinutes=Dn,Xn.asHours=Ln,Xn.asDays=Nn,Xn.asWeeks=Rn,Xn.asMonths=On,Xn.asQuarters=An,Xn.asYears=$n,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},Xn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*wn(Pn(a)+s),s=0,a=0),l.milliseconds=i%1e3,e=V(i/1e3),l.seconds=e%60,t=V(e/60),l.minutes=t%60,n=V(t/60),l.hours=n%24,s+=V(n/24),o=V(En(s)),a+=o,s-=wn(Pn(o)),r=V(a/12),a%=12,l.days=s,l.months=a,l.years=r,this},Xn.clone=function(){return Ht(this)},Xn.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},Xn.milliseconds=Bn,Xn.seconds=Yn,Xn.minutes=Fn,Xn.hours=Hn,Xn.days=Un,Xn.weeks=function(){return V(this.days()/7)},Xn.months=jn,Xn.years=Wn,Xn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=zn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},zn,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=this.localeData(),r=function(e,t,n,r){var o=Ht(e).abs(),i=Vn(o.as("s")),s=Vn(o.as("m")),a=Vn(o.as("h")),l=Vn(o.as("d")),c=Vn(o.as("M")),u=Vn(o.as("w")),h=Vn(o.as("y")),d=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,Gn.apply(null,d)}(this,!o,i,n),o&&(r=n.pastFuture(+this,r)),n.postformat(r)},Xn.toISOString=Jn,Xn.toString=Jn,Xn.toJSON=Jn,Xn.locale=Zt,Xn.localeData=en,Xn.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jn),Xn.lang=Qt,A("X",0,0,"unix"),A("x",0,0,"valueOf"),pe("x",ce),pe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(z(e))})),
//! moment.js
r.version="2.29.1",t=Et,r.fn=gn,r.min=function(){var e=[].slice.call(arguments,0);return Mt("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Mt("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return Et(1e3*e)},r.months=function(e,t){return kn(e,t,"months")},r.isDate=u,r.locale=it,r.invalid=g,r.duration=Ht,r.isMoment=x,r.weekdays=function(e,t,n){return xn(e,t,n,"weekdays")},r.parseZone=function(){return Et.apply(null,arguments).parseZone()},r.localeData=at,r.isDuration=Lt,r.monthsShort=function(e,t){return kn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return xn(e,t,n,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var n,r,o=Qe;null!=et[e]&&null!=et[e].parentLocale?et[e].set(M(et[e]._config,t)):(null!=(r=ot(e))&&(o=r._config),t=M(o,t),null==r&&(t.abbr=e),(n=new T(t)).parentLocale=et[e],et[e]=n),it(e)}else null!=et[e]&&(null!=et[e].parentLocale?(et[e]=et[e].parentLocale,e===it()&&it(e)):null!=et[e]&&delete et[e]);return et[e]},r.locales=function(){return w(et)},r.weekdaysShort=function(e,t,n){return xn(e,t,n,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeRounding=function(e){return void 0===e?Vn:"function"==typeof e&&(Vn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==zn[e]&&(void 0===t?zn[e]:(zn[e]=t,"s"===e&&(zn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=gn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()})),br=Sr((function(e,t){t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!o.test(e))return e;return e.replace(r,i)},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function i(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c})),_r=Sr((function(e,t){t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var o=t&&t.loc,i=void 0,s=void 0,a=void 0,l=void 0;o&&(i=o.start.line,s=o.end.line,a=o.start.column,l=o.end.column,e+=" - "+i+":"+a);for(var c=Error.prototype.constructor.call(this,e),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default})),wr=Sr((function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(br.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var i=br.createFrame(n.data);i.contextPath=br.appendContextPath(n.data.contextPath,n.name),n={data:i}}return o(t,n)}))},e.exports=t.default})),Er=Sr((function(e,t){t.__esModule=!0;var n,r=(n=_r)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new r.default("Must pass iterator to #each");var n,o=t.fn,i=t.inverse,s=0,a="",l=void 0,c=void 0;function u(t,n,r){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!r,c&&(l.contextPath=c+t)),a+=o(e[t],{data:l,blockParams:br.blockParams([e[t],t],[c+t,null])})}if(t.data&&t.ids&&(c=br.appendContextPath(t.data.contextPath,t.ids[0])+"."),br.isFunction(e)&&(e=e.call(this)),t.data&&(l=br.createFrame(t.data)),e&&"object"==typeof e)if(br.isArray(e))for(var h=e.length;s<h;s++)s in e&&u(s,s,s===e.length-1);else if(yr.Symbol&&e[yr.Symbol.iterator]){for(var d=[],p=e[yr.Symbol.iterator](),f=p.next();!f.done;f=p.next())d.push(f.value);for(h=(e=d).length;s<h;s++)u(s,s,s===e.length-1)}else n=void 0,Object.keys(e).forEach((function(e){void 0!==n&&u(n,s-1),n=e,s++})),void 0!==n&&u(n,s-1,!0);return 0===s&&(a=i(this)),a}))},e.exports=t.default})),Pr=Sr((function(e,t){t.__esModule=!0;var n,r=(n=_r)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default})),Cr=Sr((function(e,t){t.__esModule=!0;var n,r=(n=_r)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return br.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||br.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default})),Mr=Sr((function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default})),Tr=Sr((function(e,t){t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default})),Dr=Sr((function(e,t){t.__esModule=!0;var n,r=(n=_r)&&n.__esModule?n:{default:n};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");br.isFunction(e)&&(e=e.call(this));var n=t.fn;if(br.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&((o=br.createFrame(t.data)).contextPath=br.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:o,blockParams:br.blockParams([e],[o&&o.contextPath])})}))},e.exports=t.default})),Lr=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){r.default(e),o.default(e),i.default(e),s.default(e),a.default(e),l.default(e),c.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var r=n(wr),o=n(Er),i=n(Pr),s=n(Cr),a=n(Mr),l=n(Tr),c=n(Dr)})),Nr=Sr((function(e,t){t.__esModule=!0,t.default=function(e){e.registerDecorator("inline",(function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var i=n.partials;n.partials=br.extend({},i,t.partials);var s=e(r,o);return n.partials=i,s}),t.partials[r.args[0]]=r.fn,o}))},e.exports=t.default})),Rr=Sr((function(e,t){t.__esModule=!0,t.registerDefaultDecorators=function(e){r.default(e)};var n,r=(n=Nr)&&n.__esModule?n:{default:n}})),Or=Sr((function(e,t){t.__esModule=!0;var n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=br.indexOf(n.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=n.lookupLevel(e),"undefined"!=typeof console&&n.lookupLevel(n.level)<=e){var t=n.methodMap[e];console[t]||(t="log");for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];console[t].apply(console,o)}}};t.default=n,e.exports=t.default})),Ar=Sr((function(e,t){t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return br.extend.apply(void 0,[Object.create(null)].concat(t))}})),$r=Sr((function(e,t){t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:Ar.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:Ar.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return o("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(r).forEach((function(e){delete r[e]}))};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(Or),r=Object.create(null);function o(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==r[e]&&(r[e]=!0,n.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}})),Ir=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=i;var r=n(_r),o=n(Or);t.VERSION="4.7.7";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},Lr.registerDefaultHelpers(this),Rr.registerDefaultDecorators(this)}i.prototype={constructor:i,logger:o.default,log:o.default.log,registerHelper:function(e,t){if("[object Object]"===br.toString.call(e)){if(t)throw new r.default("Arg not supported with multiple helpers");br.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===br.toString.call(e))br.extend(this.partials,e);else{if(void 0===t)throw new r.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===br.toString.call(e)){if(t)throw new r.default("Arg not supported with multiple decorators");br.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){$r.resetLoggedProperties()}};var s=o.default.log;t.log=s,t.createFrame=br.createFrame,t.logger=o.default})),Br=Sr((function(e,t){function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default})),Yr=Sr((function(e,t){t.__esModule=!0,t.wrapHelper=function(e,t){if("function"!=typeof e)return e;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}})),Fr=Sr((function(e,t){t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=Ir.COMPILER_REVISION;if(t>=Ir.LAST_COMPATIBLE_COMPILER_REVISION&&t<=Ir.COMPILER_REVISION)return;if(t<Ir.LAST_COMPATIBLE_COMPILER_REVISION){var r=Ir.REVISION_CHANGES[n],i=Ir.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var s={strict:function(e,t,n){if(!e||!(t in e))throw new o.default('"'+t+'" not defined in '+e,{loc:n});return s.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||$r.resultIsAllowed(n,s.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,r=0;r<n;r++){if(null!=(e[r]&&s.lookupProperty(e[r],t)))return e[r][t]}},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function(n,i,s){s.hash&&(i=r.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,s);var a=r.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,i,a);if(null==l&&t.compile&&(s.partials[s.name]=t.compile(n,e.compilerOptions,t),l=s.partials[s.name](i,a)),null!=l){if(s.indent){for(var c=l.split("\n"),u=0,h=c.length;u<h&&(c[u]||u+1!==h);u++)c[u]=s.indent+c[u];l=c.join("\n")}return l}throw new o.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var s=this.programs[e],a=this.fn(e);return t||o||r||n?s=i(this,e,a,t,n,r,o):s||(s=this.programs[e]=i(this,e,a)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=r.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function c(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;c._setup(n),!n.partial&&e.useData&&(r=a(t,r));var o=void 0,i=e.useBlockParams?[]:void 0;function u(t){return""+e.main(s,t,s.helpers,s.partials,r,i,o)}return e.useDepths&&(o=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(u=l(e.main,u,s,n.depths||[],r,i))(t,n)}return c.isTop=!0,c._setup=function(o){if(o.partial)s.protoAccessControl=o.protoAccessControl,s.helpers=o.helpers,s.partials=o.partials,s.decorators=o.decorators,s.hooks=o.hooks;else{var i=r.extend({},t.helpers,o.helpers);!function(e,t){Object.keys(e).forEach((function(n){var o=e[n];e[n]=function(e,t){var n=t.lookupProperty;return Yr.wrapHelper(e,(function(e){return r.extend({lookupProperty:n},e)}))}(o,t)}))}(i,s),s.helpers=i,e.usePartial&&(s.partials=s.mergeIfNeeded(o.partials,t.partials)),(e.usePartial||e.useDecorators)&&(s.decorators=r.extend({},t.decorators,o.decorators)),s.hooks={},s.protoAccessControl=$r.createProtoAccessControl(o);var a=o.allowCallsToHelperMissing||n;Lr.moveHelperToHooks(s,"helperMissing",a),Lr.moveHelperToHooks(s,"blockHelperMissing",a)}},c._child=function(t,n,r,a){if(e.useBlockParams&&!r)throw new o.default("must pass block params");if(e.useDepths&&!a)throw new o.default("must pass parent depths");return i(s,t,e[t],n,0,r,a)},c},t.wrapProgram=i,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==s&&function(){n.data=Ir.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=Ir.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=r.extend({},n.partials,e.partials))}();void 0===e&&a&&(e=a);if(void 0===e)throw new o.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=s;var n,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(br),o=(n=_r)&&n.__esModule?n:{default:n};function i(e,t,n,r,o,i,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),a)}return(a=l(n,a,e,s,r,i)).program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function s(){return""}function a(e,t){return t&&"root"in t||((t=t?Ir.createFrame(t):{}).root=e),t}function l(e,t,n,o,i,s){if(e.decorator){var a={};t=e.decorator(t,a,n,o&&o[0],i,s,o),r.extend(t,a)}return t}})),Hr=Sr((function(e,t){t.__esModule=!0,t.default=function(e){var t=void 0!==yr?yr:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}},e.exports=t.default})),Ur=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var o=r(Ir),i=n(Br),s=n(_r),a=r(br),l=r(Fr),c=n(Hr);function u(){var e=new o.HandlebarsEnvironment;return a.extend(e,o),e.SafeString=i.default,e.Exception=s.default,e.Utils=a,e.escapeExpression=a.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var h=u();h.create=u,c.default(h),h.default=h,t.default=h,e.exports=t.default})),jr=Sr((function(e,t){t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default})),Wr=Sr((function(e,t){t.__esModule=!0;var n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,r,o,i,s){var a=i.length-1;switch(o){case 1:return i[a-1];case 2:this.$=r.prepareProgram(i[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=i[a];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(i[a]),strip:r.stripFlags(i[a],i[a]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[a],value:i[a],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(i[a-2],i[a-1],i[a],this._$);break;case 12:this.$={path:i[a-3],params:i[a-2],hash:i[a-1]};break;case 13:this.$=r.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!1,this._$);break;case 14:this.$=r.prepareBlock(i[a-3],i[a-2],i[a-1],i[a],!0,this._$);break;case 15:this.$={open:i[a-5],path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:r.stripFlags(i[a-5],i[a])};break;case 16:case 17:this.$={path:i[a-4],params:i[a-3],hash:i[a-2],blockParams:i[a-1],strip:r.stripFlags(i[a-5],i[a])};break;case 18:this.$={strip:r.stripFlags(i[a-1],i[a-1]),program:i[a]};break;case 19:var l=r.prepareBlock(i[a-2],i[a-1],i[a],i[a],!1,this._$),c=r.prepareProgram([l],i[a-1].loc);c.chained=!0,this.$={strip:i[a-2].strip,program:c,chain:!0};break;case 20:this.$=i[a];break;case 21:this.$={path:i[a-1],strip:r.stripFlags(i[a-2],i[a])};break;case 22:case 23:this.$=r.prepareMustache(i[a-3],i[a-2],i[a-1],i[a-4],r.stripFlags(i[a-4],i[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[a-3],params:i[a-2],hash:i[a-1],indent:"",strip:r.stripFlags(i[a-4],i[a]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(i[a-2],i[a-1],i[a],this._$);break;case 26:this.$={path:i[a-3],params:i[a-2],hash:i[a-1],strip:r.stripFlags(i[a-4],i[a])};break;case 27:case 28:this.$=i[a];break;case 29:this.$={type:"SubExpression",path:i[a-3],params:i[a-2],hash:i[a-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[a],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(i[a-2]),value:i[a],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(i[a-1]);break;case 33:case 34:this.$=i[a];break;case 35:this.$={type:"StringLiteral",value:i[a],original:i[a],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[a]),original:Number(i[a]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===i[a],original:"true"===i[a],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=i[a];break;case 42:this.$=r.preparePath(!0,i[a],this._$);break;case 43:this.$=r.preparePath(!1,i[a],this._$);break;case 44:i[a-2].push({part:r.id(i[a]),original:i[a],separator:i[a-1]}),this.$=i[a-2];break;case 45:this.$=[{part:r.id(i[a]),original:i[a]}];break;case 46:this.$=[];break;case 47:i[a-1].push(i[a]);break;case 48:this.$=[];break;case 49:i[a-1].push(i[a]);break;case 50:this.$=[];break;case 51:i[a-1].push(i[a]);break;case 58:this.$=[];break;case 59:i[a-1].push(i[a]);break;case 64:this.$=[];break;case 65:i[a-1].push(i[a]);break;case 70:this.$=[];break;case 71:i[a-1].push(i[a]);break;case 78:this.$=[];break;case 79:i[a-1].push(i[a]);break;case 82:this.$=[];break;case 83:i[a-1].push(i[a]);break;case 86:this.$=[];break;case 87:i[a-1].push(i[a]);break;case 90:this.$=[];break;case 91:i[a-1].push(i[a]);break;case 94:this.$=[];break;case 95:i[a-1].push(i[a]);break;case 98:this.$=[i[a]];break;case 99:i[a-1].push(i[a]);break;case 100:this.$=[i[a]];break;case 101:i[a-1].push(i[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],o=[],i=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,f,m,g,v,y,S,k,x={};;){if(p=n[n.length-1],this.defaultActions[p]?f=this.defaultActions[p]:(null==d&&(k=void 0,"number"!=typeof(k=t.lexer.lex()||1)&&(k=t.symbols_[k]||k),d=k),f=i[p]&&i[p][d]),void 0===f||!f.length||!f[0]){var b="";if(!c){for(g in S=[],i[p])this.terminals_[g]&&g>2&&S.push("'"+this.terminals_[g]+"'");b=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(b,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:S})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(f[0]){case 1:n.push(d),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(f[1]),d=null,l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--;break;case 2:if(v=this.productions_[f[1]][1],x.$=r[r.length-v],x._$={first_line:o[o.length-(v||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(v||1)].first_column,last_column:o[o.length-1].last_column},h&&(x._$.range=[o[o.length-(v||1)].range[0],o[o.length-1].range[1]]),void 0!==(m=this.performAction.call(x,s,l,a,this.yy,f[1],r,o)))return m;v&&(n=n.slice(0,-1*v*2),r=r.slice(0,-1*v),o=o.slice(0,-1*v)),n.push(this.productions_[f[1]][0]),r.push(x.$),o.push(x._$),y=i[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length&&(!(n=this._input.match(this.rules[i[s]]))||t&&!(n[0].length>t[0].length)||(t=n,r=s,this.options.flex));s++);return t?((o=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){function o(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(o(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();t.default=n,e.exports=t.default})),Vr=Sr((function(e,t){t.__esModule=!0;var n,r=(n=_r)&&n.__esModule?n:{default:n};function o(){this.parents=[]}function i(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function s(e){i.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!o.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new r.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:i,Decorator:i,BlockStatement:s,DecoratorBlock:s,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:i,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=o,e.exports=t.default})),zr=Sr((function(e,t){t.__esModule=!0;var n,r=(n=Vr)&&n.__esModule?n:{default:n};function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function i(e,t,n){void 0===t&&(t=e.length);var r=e[t-1],o=e[t-2];return r?"ContentStatement"===r.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function s(e,t,n){void 0===t&&(t=-1);var r=e[t+1],o=e[t+2];return r?"ContentStatement"===r.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function a(e,t,n){var r=e[null==t?0:t+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var o=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==o}}function l(e,t,n){var r=e[null==t?e.length-1:t-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var o=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==o,r.leftStripped}}o.prototype=new r.default,o.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=e.body,o=0,c=r.length;o<c;o++){var u=r[o],h=this.accept(u);if(h){var d=i(r,o,n),p=s(r,o,n),f=h.openStandalone&&d,m=h.closeStandalone&&p,g=h.inlineStandalone&&d&&p;h.close&&a(r,o,!0),h.open&&l(r,o,!0),t&&g&&(a(r,o),l(r,o)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(r[o-1].original)[1])),t&&f&&(a((u.program||u.inverse).body),l(r,o)),t&&m&&(a(r,o),l((u.inverse||u.program).body))}}return e},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,r=n,o=n;if(n&&n.chained)for(r=n.body[0].program;o.chained;)o=o.body[o.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:s(t.body),closeStandalone:i((r||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var u=e.inverseStrip;u.open&&l(t.body,null,!0),u.close&&a(r.body,null,!0),e.closeStrip.open&&l(o.body,null,!0),!this.options.ignoreStandalone&&i(t.body)&&s(r.body)&&(l(t.body),a(r.body))}else e.closeStrip.open&&l(t.body,null,!0);return c},o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=o,e.exports=t.default})),Gr=Sr((function(e,t){t.__esModule=!0,t.SourceLocation=function(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}},t.id=function(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e},t.stripFlags=function(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}},t.stripComment=function(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},t.preparePath=function(e,t,n){n=this.locInfo(n);for(var o=e?"@":"",i=[],s=0,a=0,l=t.length;a<l;a++){var c=t[a].part,u=t[a].original!==c;if(o+=(t[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)i.push(c);else{if(i.length>0)throw new r.default("Invalid path: "+o,{loc:n});".."===c&&s++}}return{type:"PathExpression",data:e,depth:s,parts:i,original:o,loc:n}},t.prepareMustache=function(e,t,n,r,o,i){var s=r.charAt(3)||r.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:o,loc:this.locInfo(i)}},t.prepareRawBlock=function(e,t,n,r){o(e,n),r=this.locInfo(r);var i={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},t.prepareBlock=function(e,t,n,i,s,a){i&&i.path&&o(e,i);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,c=n.program}s&&(s=c,c=t,t=s);return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:c,openStrip:e.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(a)}},t.prepareProgram=function(e,t){if(!t&&e.length){var n=e[0].loc,r=e[e.length-1].loc;n&&r&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:e,strip:{},loc:t}},t.preparePartialBlock=function(e,t,n,r){return o(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var n,r=(n=_r)&&n.__esModule?n:{default:n};function o(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new r.default(e.path.original+" doesn't match "+t,n)}}})),qr=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.parseWithoutProcessing=a,t.parse=function(e,t){var n=a(e,t);return new o.default(t).accept(n)};var r=n(Wr),o=n(zr),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(Gr);t.parser=r.default;var s={};function a(e,t){return"Program"===e.type?e:(r.default.yy=s,s.locInfo=function(e){return new s.SourceLocation(t&&t.srcName,e)},r.default.parse(e))}br.extend(s,i)})),Kr=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Compiler=s,t.precompile=function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);t.compat&&(t.useDepths=!0);var o=n.parse(e,t),i=(new n.Compiler).compile(o,t);return(new n.JavaScriptCompiler).compile(i,t)},t.compile=function(e,t,n){void 0===t&&(t={});if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=br.extend({},t))||(t.data=!0);t.compat&&(t.useDepths=!0);var o=void 0;function i(){var r=n.parse(e,t),o=(new n.Compiler).compile(r,t),i=(new n.JavaScriptCompiler).compile(o,t,void 0,!0);return n.template(i)}function s(e,t){return o||(o=i()),o.call(this,e,t)}return s._setup=function(e){return o||(o=i()),o._setup(e)},s._child=function(e,t,n,r){return o||(o=i()),o._child(e,t,n,r)},s};var r=n(_r),o=n(jr),i=[].slice;function s(){}function a(e,t){if(e===t)return!0;if(br.isArray(e)&&br.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function l(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}s.prototype={compiler:s,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],o=e.opcodes[n];if(r.opcode!==o.opcode||!a(r.args,o.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=br.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new r.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,r=0;r<n;r++)this.accept(t[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){l(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var r=this.classifySexpr(e);"helper"===r?this.helperSexpr(e,t,n):"simple"===r?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),r=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var o=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",i,o,s),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){l(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var r=e.path,o=r.parts[0],i=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",o,i)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),s=e.path,a=s.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,o.default.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=o.default.helpers.scopedId(e),r=!e.depth&&!n&&this.blockParamIndex(t);r?this.opcode("lookupBlockParam",r,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,r=t.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:i.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=o.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),r=!n&&o.default.helpers.helperExpression(e),i=!n&&(r||t);if(i&&!r){var s=e.path.parts[0],a=this.options;a.knownHelpers[s]?r=!0:a.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||o.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var r=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,r){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",r),o},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var r=this.options.blockParams[t],o=r&&br.indexOf(r,e);if(r&&o>=0)return[t,o]}}}})),Jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Xr=function(e){if(0<=e&&e<Jr.length)return Jr[e];throw new TypeError("Must be between 0 and 63: "+e)},Zr=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var Qr=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=Xr(t)}while(r>0);return n},eo=function(e,t,n){var r,o,i,s,a=e.length,l=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=Zr(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),l+=(o&=31)<<c,c+=5}while(r);n.value=(s=(i=l)>>1,1==(1&i)?-s:s),n.rest=t},to=Sr((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),l=n.split(/\/+/),c=0,u=l.length-1;u>=0;u--)"."===(s=l[u])?l.splice(u,1):".."===s?c++:c>0&&(""===s?(l.splice(u+1,c),c=0):(l.splice(u,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),r?(r.path=n,i(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),a=o(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,i(a)):l}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?c:function(e){return u(e)?"$"+e:e},t.fromSetString=l?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=h(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=h(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=h(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=o(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var l=r.path.lastIndexOf("/");l>=0&&(r.path=r.path.substring(0,l+1))}t=a(i(r),t)}return s(t)}})),no=Object.prototype.hasOwnProperty,ro="undefined"!=typeof Map;function oo(){this._array=[],this._set=ro?new Map:Object.create(null)}oo.fromArray=function(e,t){for(var n=new oo,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},oo.prototype.size=function(){return ro?this._set.size:Object.getOwnPropertyNames(this._set).length},oo.prototype.add=function(e,t){var n=ro?e:to.toSetString(e),r=ro?this.has(e):no.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(ro?this._set.set(e,o):this._set[n]=o)},oo.prototype.has=function(e){if(ro)return this._set.has(e);var t=to.toSetString(e);return no.call(this._set,t)},oo.prototype.indexOf=function(e){if(ro){var t=this._set.get(e);if(t>=0)return t}else{var n=to.toSetString(e);if(no.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},oo.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},oo.prototype.toArray=function(){return this._array.slice()};var io={ArraySet:oo};function so(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}so.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},so.prototype.add=function(e){var t,n,r,o,i,s;t=this._last,n=e,r=t.generatedLine,o=n.generatedLine,i=t.generatedColumn,s=n.generatedColumn,o>r||o==r&&s>=i||to.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},so.prototype.toArray=function(){return this._sorted||(this._array.sort(to.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var ao=io.ArraySet,lo={MappingList:so}.MappingList;function co(e){e||(e={}),this._file=to.getArg(e,"file",null),this._sourceRoot=to.getArg(e,"sourceRoot",null),this._skipValidation=to.getArg(e,"skipValidation",!1),this._sources=new ao,this._names=new ao,this._mappings=new lo,this._sourcesContents=null}co.prototype._version=3,co.fromSourceMap=function(e){var t=e.sourceRoot,n=new co({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=to.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=to.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},co.prototype.addMapping=function(e){var t=to.getArg(e,"generated"),n=to.getArg(e,"original",null),r=to.getArg(e,"source",null),o=to.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},co.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=to.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[to.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[to.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},co.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=to.relative(o,r));var i=new ao,s=new ao;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=to.join(n,t.source)),null!=o&&(t.source=to.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var l=t.source;null==l||i.has(l)||i.add(l);var c=t.name;null==c||s.has(c)||s.add(c)}),this),this._sources=i,this._names=s,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=to.join(n,t)),null!=o&&(t=to.relative(o,t)),this.setSourceContent(t,r))}),this)},co.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},co.prototype._serializeMappings=function(){for(var e,t,n,r,o=0,i=1,s=0,a=0,l=0,c=0,u="",h=this._mappings.toArray(),d=0,p=h.length;d<p;d++){if(e="",(t=h[d]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(d>0){if(!to.compareByGeneratedPositionsInflated(t,h[d-1]))continue;e+=","}e+=Qr(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=Qr(r-c),c=r,e+=Qr(t.originalLine-1-a),a=t.originalLine-1,e+=Qr(t.originalColumn-s),s=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=Qr(n-l),l=n)),u+=e}return u},co.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=to.relative(t,e));var n=to.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},co.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},co.prototype.toString=function(){return JSON.stringify(this.toJSON())};var uo={SourceMapGenerator:co},ho=Sr((function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,o){if(0===n.length)return-1;var i=function e(n,r,o,i,s,a){var l=Math.floor((r-n)/2)+n,c=s(o,i[l],!0);return 0===c?l:c>0?r-l>1?e(l,r,o,i,s,a):a==t.LEAST_UPPER_BOUND?r<i.length?r:-1:l:l-n>1?e(n,l,o,i,s,a):a==t.LEAST_UPPER_BOUND?l:n<0?-1:n}(-1,n.length,e,n,r,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}}));function po(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function fo(e,t,n,r){if(n<r){var o=n-1;po(e,(l=n,c=r,Math.round(l+Math.random()*(c-l))),r);for(var i=e[r],s=n;s<r;s++)t(e[s],i)<=0&&po(e,o+=1,s);po(e,o+1,s);var a=o+1;fo(e,t,n,a-1),fo(e,t,a+1,r)}var l,c}var mo=io.ArraySet,go=function(e,t){fo(e,t,0,e.length-1)};function vo(e,t){var n=e;return"string"==typeof e&&(n=to.parseSourceMapInput(e)),null!=n.sections?new bo(n,t):new So(n,t)}vo.fromSourceMap=function(e,t){return So.fromSourceMap(e,t)},vo.prototype._version=3,vo.prototype.__generatedMappings=null,Object.defineProperty(vo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),vo.prototype.__originalMappings=null,Object.defineProperty(vo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),vo.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},vo.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},vo.GENERATED_ORDER=1,vo.ORIGINAL_ORDER=2,vo.GREATEST_LOWER_BOUND=1,vo.LEAST_UPPER_BOUND=2,vo.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||vo.GENERATED_ORDER){case vo.GENERATED_ORDER:r=this._generatedMappings;break;case vo.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=to.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},vo.prototype.allGeneratedPositionsFor=function(e){var t=to.getArg(e,"line"),n={source:to.getArg(e,"source"),originalLine:t,originalColumn:to.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",to.compareByOriginalPositions,ho.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:to.getArg(i,"generatedLine",null),column:to.getArg(i,"generatedColumn",null),lastColumn:to.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var a=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==a;)r.push({line:to.getArg(i,"generatedLine",null),column:to.getArg(i,"generatedColumn",null),lastColumn:to.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r};var yo=vo;function So(e,t){var n=e;"string"==typeof e&&(n=to.parseSourceMapInput(e));var r=to.getArg(n,"version"),o=to.getArg(n,"sources"),i=to.getArg(n,"names",[]),s=to.getArg(n,"sourceRoot",null),a=to.getArg(n,"sourcesContent",null),l=to.getArg(n,"mappings"),c=to.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);s&&(s=to.normalize(s)),o=o.map(String).map(to.normalize).map((function(e){return s&&to.isAbsolute(s)&&to.isAbsolute(e)?to.relative(s,e):e})),this._names=mo.fromArray(i.map(String),!0),this._sources=mo.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(e){return to.computeSourceURL(s,e,t)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=t,this.file=c}function ko(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}So.prototype=Object.create(vo.prototype),So.prototype.consumer=vo,So.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=to.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},So.fromSourceMap=function(e,t){var n=Object.create(So.prototype),r=n._names=mo.fromArray(e._names.toArray(),!0),o=n._sources=mo.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return to.computeSourceURL(n.sourceRoot,e,t)}));for(var i=e._mappings.toArray().slice(),s=n.__generatedMappings=[],a=n.__originalMappings=[],l=0,c=i.length;l<c;l++){var u=i[l],h=new ko;h.generatedLine=u.generatedLine,h.generatedColumn=u.generatedColumn,u.source&&(h.source=o.indexOf(u.source),h.originalLine=u.originalLine,h.originalColumn=u.originalColumn,u.name&&(h.name=r.indexOf(u.name)),a.push(h)),s.push(h)}return go(n.__originalMappings,to.compareByOriginalPositions),n},So.prototype._version=3,Object.defineProperty(So.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),So.prototype._parseMappings=function(e,t){for(var n,r,o,i,s,a=1,l=0,c=0,u=0,h=0,d=0,p=e.length,f=0,m={},g={},v=[],y=[];f<p;)if(";"===e.charAt(f))a++,f++,l=0;else if(","===e.charAt(f))f++;else{for((n=new ko).generatedLine=a,i=f;i<p&&!this._charIsMappingSeparator(e,i);i++);if(o=m[r=e.slice(f,i)])f+=r.length;else{for(o=[];f<i;)eo(e,f,g),s=g.value,f=g.rest,o.push(s);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[r]=o}n.generatedColumn=l+o[0],l=n.generatedColumn,o.length>1&&(n.source=h+o[1],h+=o[1],n.originalLine=c+o[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=u+o[3],u=n.originalColumn,o.length>4&&(n.name=d+o[4],d+=o[4])),y.push(n),"number"==typeof n.originalLine&&v.push(n)}go(y,to.compareByGeneratedPositionsDeflated),this.__generatedMappings=y,go(v,to.compareByOriginalPositions),this.__originalMappings=v},So.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return ho.search(e,t,o,i)},So.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},So.prototype.originalPositionFor=function(e){var t={generatedLine:to.getArg(e,"line"),generatedColumn:to.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",to.compareByGeneratedPositionsDeflated,to.getArg(e,"bias",vo.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=to.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=to.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=to.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:to.getArg(r,"originalLine",null),column:to.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},So.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},So.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=to.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=to.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},So.prototype.generatedPositionFor=function(e){var t=to.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:to.getArg(e,"line"),originalColumn:to.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",to.compareByOriginalPositions,to.getArg(e,"bias",vo.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:to.getArg(o,"generatedLine",null),column:to.getArg(o,"generatedColumn",null),lastColumn:to.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var xo=So;function bo(e,t){var n=e;"string"==typeof e&&(n=to.parseSourceMapInput(e));var r=to.getArg(n,"version"),o=to.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new mo,this._names=new mo;var i={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=to.getArg(e,"offset"),r=to.getArg(n,"line"),o=to.getArg(n,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new vo(to.getArg(e,"map"),t)}}))}bo.prototype=Object.create(vo.prototype),bo.prototype.constructor=vo,bo.prototype._version=3,Object.defineProperty(bo.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),bo.prototype.originalPositionFor=function(e){var t={generatedLine:to.getArg(e,"line"),generatedColumn:to.getArg(e,"column")},n=ho.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},bo.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},bo.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},bo.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(to.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},bo.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],a=r.consumer._sources.at(s.source);a=to.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var l=null;s.name&&(l=r.consumer._names.at(s.name),this._names.add(l),l=this._names.indexOf(l));var c={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}go(this.__generatedMappings,to.compareByGeneratedPositionsDeflated),go(this.__originalMappings,to.compareByOriginalPositions)};var _o={SourceMapConsumer:yo,BasicSourceMapConsumer:xo,IndexedSourceMapConsumer:bo},wo=uo.SourceMapGenerator,Eo=/(\r?\n)/,Po="$$$isSourceNode$$$";function Co(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[Po]=!0,null!=r&&this.add(r)}Co.fromStringWithSourceMap=function(e,t,n){var r=new Co,o=e.split(Eo),i=0,s=function(){return e()+(e()||"");function e(){return i<o.length?o[i++]:void 0}},a=1,l=0,c=null;return t.eachMapping((function(e){if(null!==c){if(!(a<e.generatedLine)){var t=(n=o[i]||"").substr(0,e.generatedColumn-l);return o[i]=n.substr(e.generatedColumn-l),l=e.generatedColumn,u(c,t),void(c=e)}u(c,s()),a++,l=0}for(;a<e.generatedLine;)r.add(s()),a++;if(l<e.generatedColumn){var n=o[i]||"";r.add(n.substr(0,e.generatedColumn)),o[i]=n.substr(e.generatedColumn),l=e.generatedColumn}c=e}),this),i<o.length&&(c&&u(c,s()),r.add(o.splice(i).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=to.join(n,e)),r.setSourceContent(e,o))})),r;function u(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?to.join(n,e.source):e.source;r.add(new Co(e.originalLine,e.originalColumn,o,t,e.name))}}},Co.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[Po]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},Co.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[Po]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},Co.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[Po]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},Co.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},Co.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[Po]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},Co.prototype.setSourceContent=function(e,t){this.sourceContents[to.toSetString(e)]=t},Co.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][Po]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(to.fromSetString(r[t]),this.sourceContents[r[t]])},Co.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},Co.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new wo(e),r=!1,o=null,i=null,s=null,a=null;return this.walk((function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?(o===l.source&&i===l.line&&s===l.column&&a===l.name||n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),o=l.source,i=l.line,s=l.column,a=l.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(o=null,r=!1):r&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}};var Mo={SourceMapGenerator:uo.SourceMapGenerator,SourceMapConsumer:_o.SourceMapConsumer,SourceNode:{SourceNode:Co}.SourceNode},To=Sr((function(e,t){t.__esModule=!0;var n=void 0;try{n=Mo.SourceNode}catch(e){}function r(e,t,n){if(br.isArray(e)){for(var r=[],o=0,i=e.length;o<i;o++)r.push(t.wrap(e[o],n));return r}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}n||((n=function(e,t,n,r){this.src="",r&&this.add(r)}).prototype={add:function(e){br.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){br.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new n(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof n?e:(e=r(e,this,t),new n(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,n=[];Object.keys(e).forEach((function(o){var i=r(e[o],t);"undefined"!==i&&n.push([t.quotedString(o),":",i])}));var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,o=e.length;n<o;n++)n&&t.add(","),t.add(r(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=o,e.exports=t.default})),Do=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(_r),o=n(To);function i(e){this.value=e}function s(){}s.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=Ir.COMPILER_REVISION;return[e,Ir.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return br.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,o){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!o,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,s=void 0,a=void 0,l=void 0,c=void 0;for(l=0,c=i.length;l<c;l++)s=i[l],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new r.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),o?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(o);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(l=0,c=p.length;l<c;l++)p[l]&&(h[l]=p[l],f[l]&&(h[l+"_d"]=f[l],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),o?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),t.srcName?(h=h.toStringWithSourceMap({file:t.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new o.default(this.options.srcName),this.decorators=new o.default(this.options.srcName)},createFunctionContext:function(e){var t=this,n="",r=this.stackVars.concat(this.registers.list);r.length>0&&(n+=", "+r.join(", "));var o=0;Object.keys(this.aliases).forEach((function(e){var r=t.aliases[e];r.children&&r.referenceCount>1&&(n+=", alias"+ ++o+"="+e,r.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var i=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths");var s=this.mergeSource(n);return e?(i.push(s),Function.apply(this,i)):this.source.wrap(["function(",i.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,r=void 0,o=void 0,i=void 0,s=void 0;return this.source.each((function(e){e.appendToBuffer?(i?e.prepend("  + "):i=e,s=e):(i&&(o?i.prepend("buffer += "):r=!0,s.add(";"),i=s=void 0),o=!0,t||(n=!1))})),n?i?(i.prepend("return "),s.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(r?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((function(e){return[" != null ? ",e,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,r){var o=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[o++])),this.resolvePath("context",e,o,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,r,o){var i=this;if(this.options.strict||this.options.assumeObjects)this.push(function(e,t,n,r){var o=t.popStack(),i=0,s=n.length;e&&s--;for(;i<s;i++)o=t.nameLookup(o,n[i],r);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(n[i]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}(this.options.strict&&o,this,t,e));else for(var s=t.length;n<s;n++)this.replaceStack((function(o){var s=i.nameLookup(o,t[n],e);return r?[" && ",s]:[" != null ? ",s," : ",o]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),r=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(e,t,n){var r=this.popStack(),o=this.setupHelper(e,t),i=[];n&&i.push(o.name),i.push(r),this.options.strict||i.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(i,"||"),")"],a=this.source.functionCall(s,"call",o.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var n=[];n.push(e[0]);for(var r=1;r<e.length;r++)n.push(t,e[r]);return n},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,e,t),o=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(e,t,n){var r=[],o=this.setupParams(t,1,r);e&&(t=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",e?r.unshift(t):r.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),r.push(o),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(e){var t=this.popStack(),n=void 0,r=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&(i.contexts[e]=n),r&&(i.types[e]=r),o&&(i.ids[e]=o),i.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:s,compileChildren:function(e,t){for(var n=e.children,r=void 0,o=void 0,i=0,s=n.length;i<s;i++){r=n[i],o=new this.compiler;var a=this.matchExistingProgram(r);if(null==a){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=o.compile(r,t,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=a.index,r.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return r}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,o=void 0,s=void 0;if(!this.isInline())throw new r.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)t=["(",n=[a.value]],s=!0;else{o=!0;var l=this.incrStack();t=["((",this.push(l)," = ",a,")"],n=this.topStack()}var c=e.call(this,n);s||this.popStack(),o&&this.stackSlot--,this.push(t.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new r.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(t,e,r,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(e,t,n){var r={},o=[],i=[],s=[],a=!n,l=void 0;a&&(n=[]),r.name=this.quotedString(e),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(r.fn=u||"container.noop",r.inverse=c||"container.noop");for(var h=t;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(i[h]=this.popStack(),o[h]=this.popStack());return a&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(i),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(e,t,n,r){var o=this.setupParams(e,t,n);return o.loc=JSON.stringify(this.source.currentLocation),o=this.objectLiteral(o),r?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=s.RESERVED_WORDS={},n=0,r=e.length;n<r;n++)t[e[n]]=!0}(),s.isValidJavaScriptVariableName=function(e){return!s.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=s,e.exports=t.default})),Lo=Sr((function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(Ur),o=n(jr),i=n(Do),s=n(Vr),a=n(Hr),l=r.default.create;function c(){var e=l();return e.compile=function(t,n){return Kr.compile(t,n,e)},e.precompile=function(t,n){return Kr.precompile(t,n,e)},e.AST=o.default,e.Compiler=Kr.Compiler,e.JavaScriptCompiler=i.default,e.Parser=qr.parser,e.parse=qr.parse,e.parseWithoutProcessing=qr.parseWithoutProcessing,e}var u=c();u.create=c,a.default(u),u.Visitor=s.default,u.default=u,t.default=u,e.exports=t.default})),No=Sr((function(e,t){t.__esModule=!0,t.print=function(e){return(new o).accept(e)},t.PrintVisitor=o;var n,r=(n=Vr)&&n.__esModule?n:{default:n};function o(){this.padding=0}o.prototype=new r.default,o.prototype.pad=function(e){for(var t="",n=0,r=this.padding;n<r;n++)t+="  ";return t+=e+"\n"},o.prototype.Program=function(e){var t="",n=e.body,r=void 0,o=void 0;if(e.blockParams){var i="BLOCK PARAMS: [";for(r=0,o=e.blockParams.length;r<o;r++)i+=" "+e.blockParams[r];i+=" ]",t+=this.pad(i)}for(r=0,o=n.length;r<o;r++)t+=this.accept(n[r]);return this.padding--,t},o.prototype.MustacheStatement=function(e){return this.pad("{{ "+this.SubExpression(e)+" }}")},o.prototype.Decorator=function(e){return this.pad("{{ DIRECTIVE "+this.SubExpression(e)+" }}")},o.prototype.BlockStatement=o.prototype.DecoratorBlock=function(e){var t="";return t+=this.pad(("DecoratorBlock"===e.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,t+=this.pad(this.SubExpression(e)),e.program&&(t+=this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--),e.inverse&&(e.program&&this.padding++,t+=this.pad("{{^}}"),this.padding++,t+=this.accept(e.inverse),this.padding--,e.program&&this.padding--),this.padding--,t},o.prototype.PartialStatement=function(e){var t="PARTIAL:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),this.pad("{{> "+t+" }}")},o.prototype.PartialBlockStatement=function(e){var t="PARTIAL BLOCK:"+e.name.original;return e.params[0]&&(t+=" "+this.accept(e.params[0])),e.hash&&(t+=" "+this.accept(e.hash)),t+=" "+this.pad("PROGRAM:"),this.padding++,t+=this.accept(e.program),this.padding--,this.pad("{{> "+t+" }}")},o.prototype.ContentStatement=function(e){return this.pad("CONTENT[ '"+e.value+"' ]")},o.prototype.CommentStatement=function(e){return this.pad("{{! '"+e.value+"' }}")},o.prototype.SubExpression=function(e){for(var t,n=e.params,r=[],o=0,i=n.length;o<i;o++)r.push(this.accept(n[o]));return n="["+r.join(", ")+"]",t=e.hash?" "+this.accept(e.hash):"",this.accept(e.path)+" "+n+t},o.prototype.PathExpression=function(e){var t=e.parts.join("/");return(e.data?"@":"")+"PATH:"+t},o.prototype.StringLiteral=function(e){return'"'+e.value+'"'},o.prototype.NumberLiteral=function(e){return"NUMBER{"+e.value+"}"},o.prototype.BooleanLiteral=function(e){return"BOOLEAN{"+e.value+"}"},o.prototype.UndefinedLiteral=function(){return"UNDEFINED"},o.prototype.NullLiteral=function(){return"NULL"},o.prototype.Hash=function(e){for(var t=e.pairs,n=[],r=0,o=t.length;r<o;r++)n.push(this.accept(t[r]));return"HASH{"+n.join(", ")+"}"},o.prototype.HashPair=function(e){return e.key+"="+this.accept(e.value)}})),Ro=Lo.default;Ro.PrintVisitor=No.PrintVisitor,Ro.print=No.print;var Oo=Ro;function Ao(e,t){var n=o.default.readFileSync(t,"utf8");e.exports=Ro.compile(n)}void 0!==kr&&kr.extensions&&(kr.extensions[".handlebars"]=Ao,kr.extensions[".hbs"]=Ao);var $o=Sr((function(e,t){var n=t,r=i.default.Buffer;n.toBuffer=function(e,t,n){var o;if(n=~~n,this.isV4Format(e))o=t||new r(n+4),e.split(/\./g).map((function(e){o[n++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){var i,s=e.split(":",8);for(i=0;i<s.length;i++){var a;this.isV4Format(s[i])&&(a=this.toBuffer(s[i]),s[i]=a.slice(0,2).toString("hex")),a&&++i<8&&s.splice(i,0,a.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(i=0;i<s.length&&""!==s[i];i++);var l=[i,1];for(i=9-s.length;i>0;i--)l.push("0");s.splice.apply(s,l)}for(o=t||new r(n+16),i=0;i<s.length;i++){var c=parseInt(s[i],16);o[n++]=c>>8&255,o[n++]=255&c}}if(!o)throw Error("Invalid ip address: "+e);return o},n.toString=function(e,t,n){t=~~t;var r=[];if(4===(n=n||e.length-t)){for(var o=0;o<n;o++)r.push(e[t+o]);r=r.join(".")}else if(16===n){for(o=0;o<n;o+=2)r.push(e.readUInt16BE(t+o).toString(16));r=(r=(r=r.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return r};var o=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function l(e){return e?e.toLowerCase():"ipv4"}n.isV4Format=function(e){return o.test(e)},n.isV6Format=function(e){return a.test(e)},n.fromPrefixLen=function(e,t){var o=4;"ipv6"===(t=e>32?"ipv6":l(t))&&(o=16);for(var i=new r(o),s=0,a=i.length;s<a;++s){var c=8;e<8&&(c=e),e-=c,i[s]=255&~(255>>c)}return n.toString(i)},n.mask=function(e,t){e=n.toBuffer(e),t=n.toBuffer(t);var o=new r(Math.max(e.length,t.length)),i=0;if(e.length===t.length)for(i=0;i<e.length;i++)o[i]=e[i]&t[i];else if(4===t.length)for(i=0;i<t.length;i++)o[i]=e[e.length-4+i]&t[i];else{for(i=0;i<o.length-6;i++)o[i]=0;for(o[10]=255,o[11]=255,i=0;i<e.length;i++)o[i+12]=e[i]&t[i+12];i+=12}for(;i<o.length;i++)o[i]=0;return n.toString(o)},n.cidr=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.mask(r,o)},n.subnet=function(e,t){for(var r=n.toLong(n.mask(e,t)),o=n.toBuffer(t),i=0,s=0;s<o.length;s++)if(255===o[s])i+=8;else for(var a=255&o[s];a;)a=a<<1&255,i++;var l=Math.pow(2,32-i);return{networkAddress:n.fromLong(r),firstAddress:l<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:l<=2?n.fromLong(r+l-1):n.fromLong(r+l-2),broadcastAddress:n.fromLong(r+l-1),subnetMask:t,subnetMaskLength:i,numHosts:l<=2?l:l-2,length:l,contains:function(e){return r===n.toLong(n.mask(e,t))}}},n.cidrSubnet=function(e){var t=e.split("/"),r=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+r);var o=n.fromPrefixLen(parseInt(t[1],10));return n.subnet(r,o)},n.not=function(e){for(var t=n.toBuffer(e),r=0;r<t.length;r++)t[r]=255^t[r];return n.toString(t)},n.or=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;++r)e[r]|=t[r];return n.toString(e)}var o=e,i=t;t.length>e.length&&(o=t,i=e);var s=o.length-i.length;for(r=s;r<o.length;++r)o[r]|=i[r-s];return n.toString(o)},n.isEqual=function(e,t){if(e=n.toBuffer(e),t=n.toBuffer(t),e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(4===t.length){var o=t;t=e,e=o}for(r=0;r<10;r++)if(0!==t[r])return!1;var i=t.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(r=0;r<4;r++)if(e[r]!==t[r+12])return!1;return!0},n.isPrivate=function(e){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.isPublic=function(e){return!n.isPrivate(e)},n.isLoopback=function(e){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},n.loopback=function(e){if("ipv4"!==(e=l(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},n.address=function(e,t){var r,o=s.default.networkInterfaces();if(t=l(t),e&&"private"!==e&&"public"!==e){var i=o[e].filter((function(e){return e.family.toLowerCase()===t}));if(0===i.length)return;return i[0].address}return(r=Object.keys(o).map((function(r){var i=o[r].filter((function(r){return r.family=r.family.toLowerCase(),r.family===t&&!n.isLoopback(r.address)&&(!e||("public"===e?n.isPrivate(r.address):n.isPublic(r.address)))}));return i.length?i[0].address:void 0})).filter(Boolean)).length?r[0]:n.loopback(t)},n.toLong=function(e){var t=0;return e.split(".").forEach((function(e){t<<=8,t+=parseInt(e)})),t>>>0},n.fromLong=function(e){return(e>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)}}));const Io=window.chokidar,Bo=window.os,Yo=window.fs,Fo=window.fsex,Ho=window.nw,Uo=window.childProcess,jo=Uo.execSync;Uo.exec;const Wo=window.mathjs,Vo=window.axios,zo=window.syncrequest,Go={logger:null,app:null,httpServer:null,server:null,HOME:Bo.homedir(),NOTES:null,NOTESDIR:Bo.homedir()+"/.scriptpad",NOTESFILELOC:Bo.homedir()+"/.scriptpad/.notesjson",SCRIPTS:null,SCRIPTSFILELOC:Bo.homedir()+"/.scriptpad/.scriptsjson",REGEXP:null,REGEXPFILELOC:Bo.homedir()+"/.scriptpad/.regexpjson",PREFERENCES:{server:"http://localhost:9978",codeMode:"javascript",noteMode:"markdown",codeLineNumbers:!0,noteLineNumbers:!1,scriptKeyMap:"vim",noteKeyMap:"sublime",style:"default",UseNotePlan:!1,UseTaskPaper:!1,taskpaper:[],styleActiveLine:!0,REDAuto:!0,REDDashboard:!1,RedSecret:"jesus-is-lord",clearCache:!1},PREFERENCESFILELOC:Bo.homedir()+"/.scriptpad/preferences.json",SERVERLOCATION:Ho.__dirname,USERTEMPLATESFILE:Bo.homedir()+"/.scriptpad/templates.json",SCRIPTBARPREFERENCES:Bo.homedir()+"/.scriptpad/scriptbar.json",TEMPLATES:null,STYLE:{buttons:[{selected:!0,color:"#CC5A7B",id:0},{selected:!1,color:"#E47D98",id:1},{selected:!1,color:"#FF8CAA",id:2},{selected:!1,color:"#FFBBD0",id:3},{selected:!1,color:"#F1C0CC",id:4},{selected:!1,color:"#F9E2EA",id:5},{selected:!1,color:"#C2B1DB",id:6},{selected:!1,color:"#B09BD2",id:7},{selected:!1,color:"#8279AC",id:8}],commandbuttons:[{selected:!0,color:"#CC5A7B",id:0},{selected:!1,color:"#E47D98",id:1},{selected:!1,color:"#FF8CAA",id:2},{selected:!1,color:"#FFBBD0",id:3},{selected:!1,color:"#F1C0CC",id:4},{selected:!1,color:"#F9E2EA",id:5},{selected:!1,color:"#C2B1DB",id:6},{selected:!1,color:"#B09BD2",id:7},{selected:!1,color:"#8279AC",id:8}],matchStyle:["#CC5A7B","#E47D98","#FF8CAA","#FFBBD0","#F1C0CC","#F9E2EA","#C2B1DB","#B09BD2","#8279AC"],textcolor:"#aba8a9",editorBackground:"#013948",appBackground:"#191b1e",editorTheme:"oceanic-next",shadowColor:"#0D1E2A",scriptMenuBackground:"#0281A3",scriptMenuTextColor:"#EFF1EB",selectionBackgroundColor:"white",selectionColor:"gray",selectionMenuColor:"blue",selectionMenuBackgroundColor:"lightgray",scriptMenuItemSystem:"darkgrey",scriptMenuItemUser:"lightblue",todoIconAddress:"imgs/clipboard.png"},STYLESLOCATION:Bo.homedir()+"/.scriptpad/styles/",HOSTNAME:"localhost",PORTNUMBER:9978,CONNECTED:!1,nw:Ho,fs:Yo,moment:xr,math:Wo,chokidar:Io,execSync:jo,Handlebars:Oo,axios:Vo,request:zo,NPiCLOUD:Bo.homedir()+"/Library/Mobile Documents/iCloud~co~noteplan~NotePlan/Documents/Calendar/",NPLOCAL:Bo.homedir()+"/Library/Containers/co.noteplan.NotePlan/Data/Library/Application Support/co.noteplan.NotePlan/Calendar/",NPLOCALBASIC:Bo.homedir()+"/Library/Application Support/co.noteplan/Calendar/",NPFoundFile:"",getTodos:function(e){this.getTodosCallback=e;var t=[];if(this.PREFERENCES.UseNotePlan){var n="",r=[],o=this.moment().format("YYYYMMDD")+".txt";if(Yo.existsSync(this.NPiCLOUD+o)?(this.NPFoundFile=this.NPiCLOUD+o,n=Yo.readFileSync(this.NPFoundFile,"utf8")):Yo.existsSync(this.NPLOCAL+o)?(this.NPFoundFile=this.NPLOCAL+o,n=Yo.readFileSync(this.NPFoundFile,"utf8")):Yo.existsSync(this.NPLOCALBASIC+o)?(this.NPFoundFile=this.NPLOCALBASIC+o,n=Yo.readFileSync(this.NPFoundFile,"utf8")):n="",""!==n)for(var i=(n=n.split("\n")).length,s=0;s<i;s++){n[s]=n[s].trim();var a=!1;""!=n[s]&&("x"==n[s][3]&&(a=!0,n[s]="-"+n[s].substr(5)),r.push({description:n[s].substr(2),done:a,deleted:a}))}t.push({name:"Note Plan",location:"Note Plan",todos:r})}if(this.PREFERENCES.UseTaskPaper)for(var l=this.PREFERENCES.taskpaper.length,c=0;c<l;c++){var u=[];n=[];Yo.existsSync(this.PREFERENCES.taskpaper[c].loc)&&(n=Yo.readFileSync(this.PREFERENCES.taskpaper[c].loc,"utf8"));for(i=(n=n.split("\n")).length,s=0;s<i;s++){n[s]=n[s].trim();a=!1;""!=n[s]&&(n[s].endsWith(":")||(n[s].indexOf("@done")>=0&&(a=!0),u.push({description:n[s].substr(2),done:a,deleted:a})))}t.push({name:this.PREFERENCES.taskpaper[c].name,location:this.PREFERENCES.taskpaper[c].loc,todos:u})}return t},saveTodos:function(e){this.SAVINGTODOS=!0;for(var t=e.length,n=0;n<t;n++)if("Note Plan"===e[n].name){var r="",o=this.moment().format("YYYYMMDD")+".txt";r=Yo.existsSync(this.NPiCLOUD+o)?this.NPiCLOUD+o:Yo.existsSync(this.NPLOCAL+o)?this.NPLOCAL+o:this.NPLOCALBASIC+o;for(var i=[],s=e[n].todos.length,a=[],l=0;l<s;l++)e[n].todos[l].done?a.push("- [x] "+e[n].todos[l].description.trim()):i.push("- "+e[n].todos[l].description.trim());try{Yo.writeFileSync(r,i.join("\n")+"\n"+a.join("\n"),{flag:"w+"})}catch(e){console.log("Can't write to Noteplan file")}}else{var c=0;for(s=this.PREFERENCES.taskpaper.length,l=0;l<s;l++)this.PREFERENCES.taskpaper[l].name===e[n].name&&(c=l);r=this.PREFERENCES.taskpaper[c].loc;(i=[]).push(this.moment().format("dddd MM-DD-YYYY:")),(a=[]).push("Archive:");for(s=e[n].todos.length,l=0;l<s;l++)e[n].todos[l].done?a.push("\t- "+e[n].todos[l].description.trim()):i.push("\t- "+e[n].todos[l].description.trim());try{Yo.writeFileSync(r,i.join("\n")+"\n"+a.join("\n"))}catch(e){console.log("Can't write file "+r)}}this.SAVINGTODOS=!1},SERVERLISTPATH:Bo.homedir()+"/.scriptpad/.clipboardservers",SYSTEMSCRIPTS:[{name:"Upper Case",insert:!1,description:"Makes the text all Upper Cased.",script:"SP.text = SP.text.toUpperCase()",system:!0},{name:"Lower Case",insert:!1,description:"Makes the text all lower cased.",script:"SP.text = SP.text.toLowerCase()",system:!0},{name:"Title Case",insert:!1,description:"Makes the text Title cased.",script:"function TitleCase(t){var a=t.split(' ');var e=['to','an','and','at','as','but','by','for','if','in','on','or','is','with','a','the','of','vs','vs.','via','via','en','I','II','III','IV','V','VI','VII','VIII','IX','X','HTML','CSS','AT&T','PHP','Python','JavaScript','IBM'];for(var r=0;r<a.length;r++){var o=a[r];var s=false;for(var I=0;I<e.length;I++){if(o.toLowerCase()===e[I].toLowerCase()){o=e[I];s=true}}if(!s){o=o.charAt(0).toUpperCase()+o.substr(1).toLowerCase()}a[r]=o}a[0]=a[0].charAt(0).toUpperCase()+a[0].substr(1).toLowerCase();return a.join(' ')}SP.text=TitleCase(SP.text);",system:!0},{name:"Snake Case",insert:!1,description:"Makes the text Snake cased, or underlines instead of spaces.",script:"function SnakeCase(e){if(e.indexOf(' ')!==-1)return e.split(' ').join('_');else return e.split('_').join(' ')}SP.text=SnakeCase(SP.text);",system:!0},{name:"Lower Camel Case",insert:!1,description:"Makes all the words together with the first word all lower cased and each other word capitalized.",script:"function LowerCamelCase(e){var a=e.split(' ');for(var r=0;r<a.length;r++){var t=a[r];if(r!==0){t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}else{t=t.toLowerCase()}a[r]=t}return a.join('')}SP.text=LowerCamelCase(SP.text);",system:!0},{name:"Upper Camel Case",insert:!1,description:"Makes all the words capitalized and without spaces.",script:"function UpperCamelCase(e){var a=e.split(' ');for(var r=0;r<a.length;r++){var t=a[r];t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();a[r]=t}return a.join('')}; SP.text=UpperCamelCase(SP.text);",system:!0},{name:"Hyphen Case",insert:!1,description:"Makes all the spaces into hyphens. Running it again changes all the hyphens to spaces.",script:"function HyphenCase(e){if(e.indexOf(' ')!==-1)return e.split(' ').join('-');else return e.split('-').join(' ')}SP.text=HyphenCase(SP.text);",system:!0},{name:"URI Encode",insert:!1,description:"Encodes the text for a URI.",script:"SP.text = encodeURIComponent( SP.text )",system:!0},{name:"URI Decode",insert:!1,description:"Decodes URI encoded text.",script:"SP.text = decodeURIComponent( SP.text )",system:!0},{name:"HTML Escape",insert:!1,description:"Escapes special characters using HTML escaping.",script:"var e = document.createElement( 'DIV' ); var t = document.createTextNode( SP.text );e.appendChild( t );SP.text = e.innerHTML;",system:!0},{name:"Undo HTML Escaping",insert:!1,description:"Undoes HTML escaping.",script:"var e = document.createElement( 'DIV' );e.innerHTML = SP.text; SP.text = e.childNodes.length === 0 ? ' : e.childNodes[ 0 ].nodeValue;",system:!0},{name:"Surround with ()",insert:!1,description:"Surrounds the text in ().",script:"SP.text = '(' + SP.text + ')'",system:!0},{name:"Surround with []",insert:!1,description:"Surrounds the text in [].",script:"SP.text = '[' + SP.text + ']'",system:!0},{name:"Surround with {}",insert:!1,description:"Surrounds the text in {}.",script:"SP.text = '{' + SP.text + '}'",system:!0},{name:"Surround with **",insert:!1,description:"Surrounds the text in '**'.",script:"SP.text = '**' + SP.text + '**'",system:!0},{name:"Bullet Lines with *",insert:!1,description:"Puts a '* ' at the front of each line of text.",script:"function BulletItems(t){var l=t.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);for(var n=0;n<l.length;n++){l[n]='* '+l[n]}return l.join('')}SP.text=BulletItems(SP.text);",system:!0},{name:"Bullet Lines with Numbers",insert:!1,description:"Puts a number, period, and a space in the front of each line of text. The numbers are sequential from 1.",script:"function NumberItems(t){var r=t.match(/^.*((\\r\\n|\\n|\\r)|$)/gm);var n=1;for(var e=0;e<r.length;e++){r[e]=n.toString()+'. '+r[e];n++}return r.join('')}SP.text=NumberItems(SP.text);",system:!0},{name:"Undo Line Numbering",insert:!1,description:"Removes the line numbering from the beginning of each line.",script:"for(var lines=SP.text.split('\\n'),i=0;i<lines.length;i++){var match=lines[i].match(/^\\d+\\.\\ (.*)$/);null!=match&&(lines[i]=match[1])}SP.text=lines.join('\\n');",system:!0},{name:"Insert Date & Time",insert:!0,description:"Inserts the current date and time at the cursor point.",script:"SP.text = SP.moment().format('MMMM DD, YYYY, h:mm:ss a');",system:!0},{name:"Insert Date",insert:!0,description:"Inserts the current date at the cursor point.",script:"SP.text = SP.moment().format('MMMM DD, YYYY');",system:!0},{name:"Insert Time",insert:!0,description:"Inserts the current time at the cursor point.",script:"SP.text = SP.moment().format('h:mm:ss a');",system:!0},{name:"Insert Day of Week",insert:!0,description:"Inserts the current name of the day of the week at the cursor point.",script:"SP.text = SP.moment().format('dddd');",system:!0},{name:"Insert Date/Time by Format",insert:!1,description:"Takes the selected text as formatting for the date/time function.",script:"SP.text = SP.moment().format(SP.text);",system:!0},{name:"Number of Days from Now",insert:!1,description:"Takes the selected number and gives the date that many days in the future.",script:"SP.text = SP.moment().add(SP.text,'days').format('MMMM DD, YYYY');",system:!0},{name:"Number of Days Ago",insert:!1,description:"Takes the selected number and gives the date that many days in the past.",script:"SP.text = SP.moment().subtract(SP.text,'days').format('MMMM DD, YYYY');",system:!0},{name:"Basic Math",insert:!1,description:"Takes the selection and processes as math.",script:"SP.text = SP.ProcessMathSelection(SP.text)",system:!0},{name:"Evaluate Page for Math",insert:!1,description:"Takes the entire note and processes it for math if the line starts with '>'.",script:"SP.text = SP.ProcessMathNotes(SP.text);",system:!0},{name:"Evaluate Note 1 as Script",insert:!1,description:"Takes the first note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(1), SP.text);",system:!0},{name:"Evaluate Note 2 as Script",insert:!1,description:"Takes the second note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(2), SP.text);",system:!0},{name:"Evaluate Note 3 as Script",insert:!1,description:"Takes the third note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(3), SP.text);",system:!0},{name:"Evaluate Note 4 as Script",insert:!1,description:"Takes the fourth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(4), SP.text);",system:!0},{name:"Evaluate Note 5 as Script",insert:!1,description:"Takes the fifth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(5), SP.text);",system:!0},{name:"Evaluate Note 6 as Script",insert:!1,description:"Takes the sixth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(6), SP.text);",system:!0},{name:"Evaluate Note 7 as Script",insert:!1,description:"Takes the seventh note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(7), SP.text);",system:!0},{name:"Evaluate Note 8 as Script",insert:!1,description:"Takes the eighth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(8), SP.text);",system:!0},{name:"Evaluate Note 9 as Script",insert:!1,description:"Takes the nineth note and runs it as the script for the text in the current note.",script:"SP.text = SP.runScript(SP.returnNote(9), SP.text);",system:!0}],SYSTEMREGEXPS:[{name:"Main URL",insert:!1,description:"This extracts the main domain and access protocol of a HTTP URL. The first capture is the protocol, second is the domain, and the third is the rest.",script:"(http(s)*://)([^/|:]*)([^s]*)",system:!0}],SYSTEMTEMPLATES:[{name:"Today",description:"Insert today's date.",template:"Today is: {{cDateMDY}}.",system:!0}],NOTEPLANWATCHER:null,TASKPAPERWATCHER:null,SAVINGTODOS:!1,setFileWatches:function(){if(this.PREFERENCES.UseNotePlan){null!==this.NOTEPLANWATCHER&&this.NOTEPLANWATCHER.close(),this.NOTEPLANWATCHER=Io.watch(this.NPFoundFile,{ignored:/[\/\\]\./,persistent:!0,depth:1,awaitWriteFinish:!0,ignorePermissionErrors:!0});var e=this;this.NOTEPLANWATCHER.on("change",t=>{e.callReadTodos()})}if(this.PREFERENCES.UseTaskPaper){null!==this.TASKPAPERWATCHER&&(this.TASKPAPERWATCHER.close(),this.TASKPAPERWATCHER=null);for(var t=this.PREFERENCES.taskpaper.length,n=(e=this,0);n<t;n++)null===this.TASKPAPERWATCHER?this.TASKPAPERWATCHER=Io.watch(this.PREFERENCES.taskpaper[n].loc,{ignored:/[\/\\]\./,persistent:!0,depth:1,awaitWriteFinish:!0,ignorepermissionErrors:!0}):this.TASKPAPERWATCHER.add(this.PREFERENCES.taskpaper[n].loc),this.TASKPAPERWATCHER.on("change",t=>{e.callReadTodos()})}},getTodosCallback:null,callReadTodos:function(){this.SAVINGTODOS||null==this.getTodosCallback||this.getTodosCallback()},getStyleFile:function(e){return Yo.existsSync(this.STYLESLOCATION)?Yo.existsSync(this.STYLESLOCATION+e+".json")?this.STYLE=JSON.parse(Yo.readFileSync(this.STYLESLOCATION+e+".json","utf8")):console.log("Style doesn't exist:  "+e):(Yo.mkdirSync(this.STYLESLOCATION),Yo.writeFileSync(this.STYLESLOCATION+"default.json",JSON.stringify(this.STYLE),"utf-8",438,"w+")),this.STYLE},getStyleNames:function(){var e=[];return Yo.existsSync(this.STYLESLOCATION)?e=Yo.readdirSync(this.STYLESLOCATION).map(e=>String(e).split(".")[0]):(Yo.mkdirSync(this.STYLESLOCATION),Yo.writeFileSync(this.STYLESLOCATION+"default.json",JSON.stringify(this.STYLE),"utf-8",438,"w+"),e=["default"]),globalThis.styleList=e,e},getEditorThemes:function(){return Yo.readdirSync(this.SERVERLOCATION+"/scriptpad/editorThemes").map(e=>String(e).split(".")[0])},writeStyleFile:function(e){Yo.existsSync(this.STYLESLOCATION)||Yo.mkdirSync(this.STYLESLOCATION),Yo.writeFileSync(this.STYLESLOCATION+e+".json",JSON.stringify(this.STYLE),"utf-8",438,"w+")},getRegExp:function(){return null===this.REGEXP&&(Yo.existsSync(this.REGEXPFILELOC)?this.REGEXP=JSON.parse(Yo.readFileSync(this.REGEXPFILELOC,"utf8")):(Yo.existsSync(this.NOTESDIR)||Yo.mkdirSync(this.NOTESDIR),this.REGEXP=[],this.putRegExps(this.REGEXP))),this.REGEXP},putRegExps:function(e){null==e&&(e=[]),this.REGEXP=e,Yo.writeFileSync(this.REGEXPFILELOC,JSON.stringify(this.REGEXP),"utf-8",438,"w+")},getScripts:function(){return null===this.SCRIPTS&&(Yo.existsSync(this.SCRIPTSFILELOC)?this.SCRIPTS=JSON.parse(Yo.readFileSync(this.SCRIPTSFILELOC,"utf8")):(Yo.existsSync(this.NOTESDIR)||Yo.mkdirSync(this.NOTESDIR),this.SCRIPTS=[],this.putScripts(this.SCRIPTS))),this.SCRIPTS},getSystemScripts:function(){return this.SYSTEMSCRIPTS},getSystemRegExps:function(){return this.SYSTEMREGEXPS},getSystemTemplates:function(){return this.SYSTEMTEMPLATES},getUserTemplates:function(){return null===this.TEMPLATES&&(Yo.existsSync(this.USERTEMPLATESFILE)?this.TEMPLATES=JSON.parse(Yo.readFileSync(this.USERTEMPLATESFILE,"utf8")):(Yo.existsSync(this.NOTESDIR)||Yo.mkdirSync(this.NOTESDIR),this.TEMPLATES=[],this.saveUserTemplates(this.TEMPLATES))),this.TEMPLATES},saveUserTemplates:function(e){null==e&&(e=[]),this.TEMPLATES=e,Yo.writeFileSync(this.USERTEMPLATESFILE,JSON.stringify(this.TEMPLATES),"utf-8",438,"w+")},getJavaScriptScript:function(e){var t=this.getScripts().find(t=>t.name==e);return void 0===t&&(t=this.getSystemScripts().find(t=>t.name==e)),t.script},runJavaScriptScripts:function(e,t){var n=t,r=this,o={text:t,moment:xr,mathjs:Wo,mathParser:Wo.parser(),that:r,Handlebars:Oo,ProcessMathSelection:function(e){return this.mathParser.evaluate(e)},ProcessMathNotes:function(e){var t="";this.mathParser.clear();let n=e.match(/^.*((\\r\\n|\\n|\\r)|$)/gm),r=n.length;for(let e=0;e<n.length;e++){var o=n[e],i="";if(0===(o=o.trim()).indexOf(">")){var s=(o=o.substr(2)).indexOf("|");-1!==s&&(o=(o=o.substr(0,s-1)).trim()),"function"==typeof(i=this.mathParser.evaluate(o))&&(i="Definition");var a=32-(o.length+3);a<1&&(a=1),t+="> "+o+this.insertCharacters(a," ")+" | "+i}else t+=o;0!=--r&&(t+="\n")}return t},runScript:function(e,t){return r.runJavaScriptScripts(r.getJavaScriptScript(e),t)},returnNote:function(e){var t="";return(e-=1)>=0&&e<=9&&(t=r.NOTES[e]),t},insertCharacters:function(e,t){var n="";if(e<0)return n;for(var r=0;r<e;r++)n+=t;return n}};try{o=new Function("SP",e+"; return SP;")(o)}catch(e){console.log(e),o.text=n}return"String"!=typeof o.text&&(o.text=o.text.toString()),o.text},putScripts:function(e){null==e&&(e=[]),this.SCRIPTS=e,Yo.writeFileSync(this.SCRIPTSFILELOC,JSON.stringify(this.SCRIPTS),"utf-8",438,"w+")},getNote:function(e){if(e>=0&&e<=8)return this.readNotesFile(),this.NOTES[e]},saveNote:function(e,t){null==t&&(t=""),e>=0&&e<=8&&(this.readNotesFile(),this.NOTES[e]=t,this.writeNotesFile())},readPreferencesFile:function(){return Yo.existsSync(this.PREFERENCESFILELOC)?this.PREFERENCES=JSON.parse(Yo.readFileSync(this.PREFERENCESFILELOC,"utf8")):this.writePreferencesFile(),this.PREFERENCES},writePreferencesFile:function(){Yo.writeFileSync(this.PREFERENCESFILELOC,JSON.stringify(this.PREFERENCES),"utf-8",438,"w+")},writeNotesFile:function(){Yo.writeFileSync(this.NOTESFILELOC,JSON.stringify(this.NOTES),"utf-8",438,"w+")},readNotesFile:function(){null===this.NOTES&&(Yo.existsSync(this.NOTESFILELOC)?this.NOTES=JSON.parse(Yo.readFileSync(this.NOTESFILELOC,"utf8")):(Yo.existsSync(this.NOTESDIR)||Yo.mkdirSync(this.NOTESDIR),this.NOTES=[],this.NOTES[0]="",this.NOTES[1]="",this.NOTES[2]="",this.NOTES[3]="",this.NOTES[4]="",this.NOTES[5]="",this.NOTES[6]="",this.NOTES[7]="",this.NOTES[8]="",this.writeNotesFile()))},installAlfred:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPadWorkflow.alfredworkflow')},installKeyboardMaestro:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPadMacros.kmlibrary')},installDropzone:function(){let e=this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPad.dzbundle');e+=this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open "ScriptPad Run Script.dzbundle"')},installPopClip:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open ScriptPad.popclipext')},installLaunchBar:function(){this.execSync('cd "'+this.SERVERLOCATION+'/WorkflowScripts"; /usr/bin/open "ScriptPad - Set Note.lbaction"; /usr/bin/open "ScriptPad - Paste Note.lbaction"; /usr/bin/open "ScriptPad - Set BulletinBoard.lbaction";/usr/bin/open "ScriptPad - Append BulletinBoard.lbaction"; /usr/bin/open "ScriptPad - Run Script.lbaction"; /usr/bin/open "ScriptPad - Run Template.lbaction";')},showHelp:function(){var e=this;this.showURL("http://localhost:9978/docs","helpWin",t=>{e.helpwin=t})},helpWin:null,showURL:function(e,t,n){this.nw.Window.open(e,{id:t},n)},TeaCodeExpand:function(e,t){var n=e.replace(new RegExp('"',"g"),'\\"');let r=this.execSync("/usr/bin/osascript -l JavaScript -e \"Application('TeaCode').expandAsJson('"+n+"', { 'extension': '"+t+"' })\"");return JSON.parse(r.toString("utf8"))},quit:async function(){globalThis.mainwin.hide(),null!=this.NOTEPLANWATCHER&&this.NOTEPLANWATCHER.close(),null!=this.TASKPAPERWATCHER&&this.TASKPAPERWATCHER.close(),this.REDSTARTED&&this.RED.stop(),this.server.close();try{await Vo.get("http://localhost:9697/api/quit")}catch(e){console.error(e)}if(void 0!==globalThis.moduleWin)for(var e=0;e<globalThis.moduleWin.length;e++)try{void 0!==globalThis.moduleWin[e]&&globalThis.moduleWin[e].close()}catch(e){console.log(e)}this.PREFERENCES.clearCache&&(Ho.App.clearCache(),window.chrome.browsingData.remove({since:0},{appcache:!0,cache:!0,cookies:!0,downloads:!0,fileSystems:!0,formData:!0,history:!0,indexedDB:!0,localStorage:!0,pluginData:!0,passwords:!0,serverBoundCertificates:!0,serviceWorkers:!0,webSQL:!0})),globalThis.mainwin.close(!0),this.nw.App.quit()},setupHandlebarHelpers:function(){var e=this;this.Handlebars.registerHelper("env",(function(e){return process.env[e]})),this.Handlebars.registerHelper("save",(function(t,n){return e.Handlebars.registerHelper(t,(function(){return n})),n})),this.Handlebars.registerHelper("clipboard",(function(){return e.nw.Clipboard.get().get("text")})),this.Handlebars.registerHelper("date",(function(t){return e.moment().format(t)})),this.Handlebars.registerHelper("cdate",(function(t,n){return e.moment(t).format(n)})),this.Handlebars.registerHelper("last",(function(t,n,r){return e.moment().add(-7*t,"d").day(n).format(r)})),this.Handlebars.registerHelper("next",(function(t,n,r){return e.moment().add(7*t,"d").day(n).format(r)})),this.Handlebars.registerHelper("userfillin",(function(t,n=""){return e.getFeedback(t,n)})),this.Handlebars.registerHelper("copyclip",(function(t){return e.getCopyClip(t)}))},getFeedback:function(e,t){return this.getAnswer(e,t)},listTemplates:function(){var e=this.SYSTEMTEMPLATES.map(e=>e.name);return e=e.concat(this.TEMPLATES.map(e=>e.name))},getTemplateByName:function(e){var t=this.TEMPLATES.find(t=>t.name===e);return void 0===t?t=this.SYSTEMTEMPLATES.find(t=>t.name===e):void 0===t&&(t=null),t},runTemplate:function(e,t,n){var r="";try{var o=[];o.cDateMDY=this.moment().format("MMMM DD, YYYY"),o.cDateDMY=this.moment().format("DD MMMM YYYY"),o.cDateDOWDMY=this.moment().format("dddd, DD MMMM YYYY"),o.cDateDOWMDY=this.moment().format("dddd MMMM DD, YYYY"),o.cDay=this.moment().format("DD"),o.cMonth=this.moment().format("MMMM"),o.cYear=this.moment().format("YYYY"),o.cMonthShort=this.moment().format("MMM"),o.cYearShort=this.moment().format("YY"),o.cDOW=this.moment().format("dddd"),o.cMDthYShort=this.moment().format("MMM Do YY"),o.cMDthY=this.moment().format("MMMM Do YYYY"),o.cHMSampm=this.moment().format("h:mm:ss a"),o.cHMampm=this.moment().format("h:mm a"),o.cHMS24=this.moment().format("H:mm:ss"),o.cHM24=this.moment().format("H:mm"),o.Templatename=e,o.text=n;var i=this.getTemplateByName("Defaults");null!==i&&(o=this.MergeRecursive(o,JSON.parse(i.template))),"String"!=typeof(r=Oo.compile(t)(o))&&(r=r.toString())}catch(e){console.log("Handlebars Error: "+e),r="There was an error."}return r},MergeRecursive:function(e,t){for(var n in t)try{t[n].constructor==Object?e[n]=MergeRecursive(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e},MergeRenameRecursive:function(e,t,n){for(var r in t)try{t[r].constructor==Object?e[r+n]=MergeRecursive(e[r],t[r]):e[r+n]=t[r]}catch(o){e[r+n]=t[r]}return e},getAlfredDir:function(){var e="";const t=Bo.homedir()+"/Library/Application Support/Alfred/Workflow Data",n=Bo.homedir()+"/Library/Application Support/Alfred 2/Workflow Data",r=Bo.homedir()+"/Library/Application Support/Alfred 3/Workflow Data";return this.fs.existsSync(t)?e=t:this.fs.existsSync(n)?e=n:this.fs.existsSync(r)&&(e=r),e},copyClipFileBeg:"/com.customct.CopyClips/copyclips/copy-",getCopyClip:function(e){return""!==this.getAlfredDir?this.fs.readFileSync(this.getAlfredDir()+this.copyClipFileBeg+e+".txt"):"Alfred CopyClip workflow not installed."},saveCopyClip:function(e,t){""!==this.getAlfredDir&&this.fs.writeFileSync(this.getAlfredDir()+this.copyClipFileBeg+e+".txt",t,"utf8")},getAnswer:function(e,t){return this.queryUserDialog("question",e,t)},queryUserDialog:function(e,...t){var n='"'+e+'" "'+t.join('" "')+'"';return jo("bin/queryUser "+n)},getIP:function(){return $o.address()},REDSTARTED:!1,RED:null,REDVARS:{},startRed:function(e){void 0===this.RED||null===this.RED||this.REDSTARTED||this.RED.start().then(()=>{this.REDSTARTED=!0,e()})},stopRed:function(e){this.REDSTARTED&&(this.REDSTARTED=!1,this.RED.stop(),e())},initNodeRed:function(e){if(this.NodeRedHome=this.HOME+"/.nodered-scriptpad/",Yo.existsSync(this.NodeRedHome)||Yo.mkdirSync(this.NodeRedHome),Yo.existsSync(this.NodeRedHome+"node_modules/")||(Yo.mkdirSync(this.NodeRedHome+"node_modules"),Fo.copy(this.SERVERLOCATION+"/nodered_modules",this.NodeRedHome+"node_modules")),this.RED=window.nodered,void 0!==this.RED&&null!==this.RED){var t={httpAdminRoot:"/red/admin",httpNodeRoot:"/red/api",userDir:this.NodeRedHome,nodesDir:this.NodeRedHome+"nodes/",credentialSecret:this.PREFERENCES.RedSecret,flowFile:"scriptpad-nodered.json",editorTheme:{projects:{enabled:!1}},logging:{console:{level:"off",metrics:!1,audit:!1},myCustomLogger:{level:"info",metrics:!1,audit:!1,handler:function(t){return function(t){e(t)}}}},functionGlobalContext:{ScriptPad:this}};this.RED.init(this.httpServer,t),this.app.use(t.httpAdminRoot,this.RED.httpAdmin),this.app.use(t.httpNodeRoot,this.RED.httpNode)}},SetRedVar:function(e,t){this.REDVARS[e]=t,void 0!==this.io&&(this.io.emit("varchanged",{variable:e,value:t}),this.io.emit(e,t))},GetRedVar:function(e){var t=null;return void 0!==this.REDVARS[e]&&(t=this.REDVARS[e]),t},GetRedVarArray:function(){return this.REDVARS},scriptEnv:null,ENVIRONMENTVARIABLESFILELOC:Bo.homedir()+"/.scriptpad/environments.json",createDefaultEnv:function(){return{name:"Default",envVar:process.env}},getEnvNames:function(){return null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),this.scriptEnv.map(e=>e.name)},addEnv:function(e){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),void 0===this.scriptEnv.find(t=>t.name===e.name)?this.scriptEnv.push(e):this.scriptEnv=this.scriptEnv.map(t=>(t.name===e.name&&(t=e),t)),this.saveEnv()},removeEnv:function(e){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),this.scriptEnv=this.scriptEnv.filter(t=>t.name!==e),this.saveEnv()},loadEnv:function(){return Yo.existsSync(this.ENVIRONMENTVARIABLESFILELOC)?this.scriptEnv=JSON.parse(Yo.readFileSync(this.ENVIRONMENTVARIABLESFILELOC,"utf8")):(this.scriptEnv=[],this.saveEnv()),this.scriptEnv},saveEnv:function(){null===this.scriptEnv&&(this.scriptEnv=this.loadEnv()),Yo.writeFileSync(this.ENVIRONMENTVARIABLESFILELOC,JSON.stringify(this.scriptEnv))},getEnv:function(e){e.includes("default")&&(e="Default"),null===this.scriptEnv&&(this.scriptEnv=this.loadEnv());var t=this.scriptEnv.find(t=>t.name===e);return void 0===t&&(t=[]),t},extScripts:null,EXTSCRIPTSFILELOC:Bo.homedir()+"/.scriptpad/extscripts.json",listExtScripts:function(){return null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts.map(e=>e.name)},addExtScript:function(e){null===this.extScripts&&(this.extScripts=this.loadExtScripts()),void 0===this.extScripts.find(t=>t.name===e.name)?this.extScripts.push(e):this.extScripts=this.extScripts.map(t=>(t.name===e.name&&(t=e),t)),this.saveExtScripts()},getExtScript:function(e){return null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts.find(t=>t.name===e)},saveExtScripts:function(){Yo.writeFileSync(this.EXTSCRIPTSFILELOC,JSON.stringify(this.extScripts))},loadExtScripts:function(){return Yo.existsSync(this.EXTSCRIPTSFILELOC)?this.extScripts=JSON.parse(Yo.readFileSync(this.EXTSCRIPTSFILELOC,"utf8")):(this.extScripts=[],this.saveExtScripts()),this.extScripts},removeExtScript:function(e){null===this.extScripts&&(this.extScripts=this.loadExtScripts()),this.extScripts=this.extScripts.filter(t=>t.name!==e),this.saveExtScripts()},runExtScript:function(e,t){var n="",r={};null===this.extScripts&&(this.extScripts=this.loadExtScripts()),""!==t.env?"undefined"!==(r=this.getEnv(t.env))&&(r=r.envVar):""!==e.env&&"undefined"!==(r=this.getEnv(e.env))&&(r=r.envVar),r={...r,...t.envVar};try{"object"==typeof(n=null!==t.commandLine&&void 0!==t.commandLine?Uo.execFileSync(e.path+"/"+e.script,t.commandLine.split(" "),{env:r,cwd:e.path,shell:"/bin/sh",encoding:"utf8"}):Uo.execFileSync(e.path+"/"+e.script,[],{env:r,cwd:e.path,shell:"/bin/sh",encoding:"utf8"}))&&(n=n.toString())}catch(e){n="Error: "+e.message}return n}};return window.onload=function(){globalThis.showing=!1,globalThis.Server=null,globalThis.mainwin=null,globalThis.tray=null,globalThis.preferences={},globalThis.style={},globalThis.styleList=["default"],globalThis.ScriptPadInternal=Go;let e=globalThis.ScriptPadInternal.nw;function t(){null!==globalThis.mainwin&&(globalThis.mainwin.eval(null,"window.Pref")&&globalThis.showing||(globalThis.mainwin.hide(),globalThis.showing=!1))}function n(){globalThis.mainwin.hide(),globalThis.ScriptPadInternal.quit()}globalThis.mainwin=e.Window.get(),globalThis.preferences=globalThis.ScriptPadInternal.readPreferencesFile(),globalThis.style=globalThis.ScriptPadInternal.getStyleFile(globalThis.preferences.style),globalThis.tray=new e.Tray({icon:"scriptpad/imgs/trayicon-16.icns",tooltip:"ScriptNote"}),globalThis.tray.on("click",(function(e){null!==globalThis.mainwin&&(globalThis.showing?(globalThis.mainwin.hide(),globalThis.showing=!1):(globalThis.mainwin.x=e.x-233,globalThis.mainwin.y=e.y,globalThis.mainwin.show(),globalThis.mainwin.focus(),globalThis.showing=!0))})),globalThis.Pref=!1,globalThis.onBlurFunction=t,globalThis.onCloseFunction=n,globalThis.moduleWin=null;var r=fs.readdirSync(Go.SERVERLOCATION+"/Modules");globalThis.moduleWin=new Array;for(var o=r.length,i=0;i<o;i++){const t={name:r[i],path:Go.SERVERLOCATION+"/Modules/"+r[i],description:"",win:null,live:!1};if(Go.fs.existsSync("Modules/"+r[i]+"/package.json")){const n=JSON.parse(Go.fs.readFileSync("Modules/"+r[i]+"/package.json"));if(t.name=n.name,t.description=n.description,n.autoload){var s=i;const o=n.window;o.new_instance=!0,t.live=!0,e.Window.open("chrome-extension://"+chrome.runtime.id+"/Modules/"+r[i]+"/index.html",o,e=>{globalThis.moduleWin[s].win=e})}globalThis.moduleWin[i]=t}}const a=new vr({target:document.body,props:{prefs:globalThis.preferences,styles:globalThis.style,ScriptPad:globalThis.ScriptPadInternal,onBlur:t,onClose:n}});globalThis.appScriptPad=a},globalThis.appScriptPad}(fs,buffer,os);
//# sourceMappingURL=bundle.js.map
